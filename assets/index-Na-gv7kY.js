var AO=Object.defineProperty;var yS=a=>{throw TypeError(a)};var _O=(a,t,e)=>t in a?AO(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var Nt=(a,t,e)=>_O(a,typeof t!="symbol"?t+"":t,e),lA=(a,t,e)=>t.has(a)||yS("Cannot "+e);var f=(a,t,e)=>(lA(a,t,"read from private field"),e?e.call(a):t.get(a)),O=(a,t,e)=>t.has(a)?yS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),T=(a,t,e,i)=>(lA(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),R=(a,t,e)=>(lA(a,t,"access private method"),e);var tn=(a,t,e,i)=>({set _(r){T(a,t,r,e)},get _(){return f(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function By(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var cA={exports:{}},Hf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function wO(){if(bS)return Hf;bS=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Hf.Fragment=t,Hf.jsx=e,Hf.jsxs=e,Hf}var AS;function xO(){return AS||(AS=1,cA.exports=wO()),cA.exports}var q=xO(),uA={exports:{}},zf={},hA={exports:{}},dA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function EO(){return _S||(_S=1,function(a){function t(at,ot){var lt=at.length;at.push(ot);t:for(;0<lt;){var dt=lt-1>>>1,G=at[dt];if(0<r(G,ot))at[dt]=ot,at[lt]=G,lt=dt;else break t}}function e(at){return at.length===0?null:at[0]}function i(at){if(at.length===0)return null;var ot=at[0],lt=at.pop();if(lt!==ot){at[0]=lt;t:for(var dt=0,G=at.length,nt=G>>>1;dt<nt;){var ft=2*(dt+1)-1,ht=at[ft],pt=ft+1,Et=at[pt];if(0>r(ht,lt))pt<G&&0>r(Et,ht)?(at[dt]=Et,at[pt]=lt,dt=pt):(at[dt]=ht,at[ft]=lt,dt=ft);else if(pt<G&&0>r(Et,lt))at[dt]=Et,at[pt]=lt,dt=pt;else break t}}return ot}function r(at,ot){var lt=at.sortIndex-ot.sortIndex;return lt!==0?lt:at.id-ot.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],m=[],v=1,b=null,A=3,w=!1,E=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function V(at){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=at)i(m),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(m)}}function X(at){if(C=!1,V(at),!E)if(e(d)!==null)E=!0,mt();else{var ot=e(m);ot!==null&&bt(X,ot.startTime-at)}}var K=!1,Z=-1,P=5,M=-1;function D(){return!(a.unstable_now()-M<P)}function j(){if(K){var at=a.unstable_now();M=at;var ot=!0;try{t:{E=!1,C&&(C=!1,k(Z),Z=-1),w=!0;var lt=A;try{e:{for(V(at),b=e(d);b!==null&&!(b.expirationTime>at&&D());){var dt=b.callback;if(typeof dt=="function"){b.callback=null,A=b.priorityLevel;var G=dt(b.expirationTime<=at);if(at=a.unstable_now(),typeof G=="function"){b.callback=G,V(at),ot=!0;break e}b===e(d)&&i(d),V(at)}else i(d);b=e(d)}if(b!==null)ot=!0;else{var nt=e(m);nt!==null&&bt(X,nt.startTime-at),ot=!1}}break t}finally{b=null,A=lt,w=!1}ot=void 0}}finally{ot?U():K=!1}}}var U;if(typeof z=="function")U=function(){z(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=j,U=function(){F.postMessage(null)}}else U=function(){I(j,0)};function mt(){K||(K=!0,U())}function bt(at,ot){Z=I(function(){at(a.unstable_now())},ot)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(at){at.callback=null},a.unstable_continueExecution=function(){E||w||(E=!0,mt())},a.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<at?Math.floor(1e3/at):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_getFirstCallbackNode=function(){return e(d)},a.unstable_next=function(at){switch(A){case 1:case 2:case 3:var ot=3;break;default:ot=A}var lt=A;A=ot;try{return at()}finally{A=lt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(at,ot){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var lt=A;A=at;try{return ot()}finally{A=lt}},a.unstable_scheduleCallback=function(at,ot,lt){var dt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?dt+lt:dt):lt=dt,at){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=lt+G,at={id:v++,callback:ot,priorityLevel:at,startTime:lt,expirationTime:G,sortIndex:-1},lt>dt?(at.sortIndex=lt,t(m,at),e(d)===null&&at===e(m)&&(C?(k(Z),Z=-1):C=!0,bt(X,lt-dt))):(at.sortIndex=G,t(d,at),E||w||(E=!0,mt())),at},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(at){var ot=A;return function(){var lt=A;A=ot;try{return at.apply(this,arguments)}finally{A=lt}}}}(dA)),dA}var wS;function SO(){return wS||(wS=1,hA.exports=EO()),hA.exports}var fA={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function TO(){if(xS)return Vt;xS=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function I(G,nt,ft){this.props=G,this.context=nt,this.refs=C,this.updater=ft||w}I.prototype.isReactComponent={},I.prototype.setState=function(G,nt){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,nt,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=I.prototype;function z(G,nt,ft){this.props=G,this.context=nt,this.refs=C,this.updater=ft||w}var V=z.prototype=new k;V.constructor=z,E(V,I.prototype),V.isPureReactComponent=!0;var X=Array.isArray,K={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function P(G,nt,ft,ht,pt,Et){return ft=Et.ref,{$$typeof:a,type:G,key:nt,ref:ft!==void 0?ft:null,props:Et}}function M(G,nt){return P(G.type,nt,void 0,void 0,void 0,G.props)}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===a}function j(G){var nt={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ft){return nt[ft]})}var U=/\/+/g;function $(G,nt){return typeof G=="object"&&G!==null&&G.key!=null?j(""+G.key):nt.toString(36)}function F(){}function mt(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(nt){G.status==="pending"&&(G.status="fulfilled",G.value=nt)},function(nt){G.status==="pending"&&(G.status="rejected",G.reason=nt)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function bt(G,nt,ft,ht,pt){var Et=typeof G;(Et==="undefined"||Et==="boolean")&&(G=null);var _t=!1;if(G===null)_t=!0;else switch(Et){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(G.$$typeof){case a:case t:_t=!0;break;case v:return _t=G._init,bt(_t(G._payload),nt,ft,ht,pt)}}if(_t)return pt=pt(G),_t=ht===""?"."+$(G,0):ht,X(pt)?(ft="",_t!=null&&(ft=_t.replace(U,"$&/")+"/"),bt(pt,nt,ft,"",function(Kt){return Kt})):pt!=null&&(D(pt)&&(pt=M(pt,ft+(pt.key==null||G&&G.key===pt.key?"":(""+pt.key).replace(U,"$&/")+"/")+_t)),nt.push(pt)),1;_t=0;var St=ht===""?".":ht+":";if(X(G))for(var It=0;It<G.length;It++)ht=G[It],Et=St+$(ht,It),_t+=bt(ht,nt,ft,Et,pt);else if(It=A(G),typeof It=="function")for(G=It.call(G),It=0;!(ht=G.next()).done;)ht=ht.value,Et=St+$(ht,It++),_t+=bt(ht,nt,ft,Et,pt);else if(Et==="object"){if(typeof G.then=="function")return bt(mt(G),nt,ft,ht,pt);throw nt=String(G),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return _t}function at(G,nt,ft){if(G==null)return G;var ht=[],pt=0;return bt(G,ht,"","",function(Et){return nt.call(ft,Et,pt++)}),ht}function ot(G){if(G._status===-1){var nt=G._result;nt=nt(),nt.then(function(ft){(G._status===0||G._status===-1)&&(G._status=1,G._result=ft)},function(ft){(G._status===0||G._status===-1)&&(G._status=2,G._result=ft)}),G._status===-1&&(G._status=0,G._result=nt)}if(G._status===1)return G._result.default;throw G._result}var lt=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function dt(){}return Vt.Children={map:at,forEach:function(G,nt,ft){at(G,function(){nt.apply(this,arguments)},ft)},count:function(G){var nt=0;return at(G,function(){nt++}),nt},toArray:function(G){return at(G,function(nt){return nt})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Vt.Component=I,Vt.Fragment=e,Vt.Profiler=r,Vt.PureComponent=z,Vt.StrictMode=i,Vt.Suspense=d,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Vt.cache=function(G){return function(){return G.apply(null,arguments)}},Vt.cloneElement=function(G,nt,ft){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ht=E({},G.props),pt=G.key,Et=void 0;if(nt!=null)for(_t in nt.ref!==void 0&&(Et=void 0),nt.key!==void 0&&(pt=""+nt.key),nt)!Z.call(nt,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&nt.ref===void 0||(ht[_t]=nt[_t]);var _t=arguments.length-2;if(_t===1)ht.children=ft;else if(1<_t){for(var St=Array(_t),It=0;It<_t;It++)St[It]=arguments[It+2];ht.children=St}return P(G.type,pt,void 0,void 0,Et,ht)},Vt.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},Vt.createElement=function(G,nt,ft){var ht,pt={},Et=null;if(nt!=null)for(ht in nt.key!==void 0&&(Et=""+nt.key),nt)Z.call(nt,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(pt[ht]=nt[ht]);var _t=arguments.length-2;if(_t===1)pt.children=ft;else if(1<_t){for(var St=Array(_t),It=0;It<_t;It++)St[It]=arguments[It+2];pt.children=St}if(G&&G.defaultProps)for(ht in _t=G.defaultProps,_t)pt[ht]===void 0&&(pt[ht]=_t[ht]);return P(G,Et,void 0,void 0,null,pt)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(G){return{$$typeof:h,render:G}},Vt.isValidElement=D,Vt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:ot}},Vt.memo=function(G,nt){return{$$typeof:m,type:G,compare:nt===void 0?null:nt}},Vt.startTransition=function(G){var nt=K.T,ft={};K.T=ft;try{var ht=G(),pt=K.S;pt!==null&&pt(ft,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(dt,lt)}catch(Et){lt(Et)}finally{K.T=nt}},Vt.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Vt.use=function(G){return K.H.use(G)},Vt.useActionState=function(G,nt,ft){return K.H.useActionState(G,nt,ft)},Vt.useCallback=function(G,nt){return K.H.useCallback(G,nt)},Vt.useContext=function(G){return K.H.useContext(G)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(G,nt){return K.H.useDeferredValue(G,nt)},Vt.useEffect=function(G,nt){return K.H.useEffect(G,nt)},Vt.useId=function(){return K.H.useId()},Vt.useImperativeHandle=function(G,nt,ft){return K.H.useImperativeHandle(G,nt,ft)},Vt.useInsertionEffect=function(G,nt){return K.H.useInsertionEffect(G,nt)},Vt.useLayoutEffect=function(G,nt){return K.H.useLayoutEffect(G,nt)},Vt.useMemo=function(G,nt){return K.H.useMemo(G,nt)},Vt.useOptimistic=function(G,nt){return K.H.useOptimistic(G,nt)},Vt.useReducer=function(G,nt,ft){return K.H.useReducer(G,nt,ft)},Vt.useRef=function(G){return K.H.useRef(G)},Vt.useState=function(G){return K.H.useState(G)},Vt.useSyncExternalStore=function(G,nt,ft){return K.H.useSyncExternalStore(G,nt,ft)},Vt.useTransition=function(){return K.H.useTransition()},Vt.version="19.0.0",Vt}var ES;function Sw(){return ES||(ES=1,fA.exports=TO()),fA.exports}var pA={exports:{}},zi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function CO(){if(SS)return zi;SS=1;var a=Sw();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:m,implementation:v}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return zi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zi.createPortal=function(d,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,v)},zi.flushSync=function(d){var m=c.T,v=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=m,i.p=v,i.d.f()}},zi.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},zi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},zi.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:w}):v==="script"&&i.d.X(d,{crossOrigin:b,integrity:A,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},zi.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},zi.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin);i.d.L(d,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},zi.preloadModule=function(d,m){if(typeof d=="string")if(m){var v=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},zi.requestFormReset=function(d){i.d.r(d)},zi.unstable_batchedUpdates=function(d,m){return d(m)},zi.useFormState=function(d,m,v){return c.H.useFormState(d,m,v)},zi.useFormStatus=function(){return c.H.useHostTransitionStatus()},zi.version="19.0.0",zi}var TS;function CC(){if(TS)return pA.exports;TS=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),pA.exports=CO(),pA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function RO(){if(CS)return zf;CS=1;var a=SO(),t=Sw(),e=CC();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),X=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function M(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case d:return"Fragment";case h:return"Portal";case v:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case w:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case E:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return s=n.displayName||null,s!==null?s:M(n.type)||"Memo";case z:s=n._payload,n=n._init;try{return M(n(s))}catch{}}return null}var D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.assign,U,$;function F(n){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||"",$=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+n+$}var mt=!1;function bt(n,s){if(!n||mt)return"";mt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(st){var et=st}Reflect.construct(n,[],ut)}else{try{ut.call()}catch(st){et=st}n.call(ut.prototype)}}else{try{throw Error()}catch(st){et=st}(ut=n())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(st){if(st&&et&&typeof st.stack=="string")return[st.stack,et.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),S=y[0],L=y[1];if(S&&L){var B=S.split(`
`),W=L.split(`
`);for(g=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===B.length||g===W.length)for(u=B.length-1,g=W.length-1;1<=u&&0<=g&&B[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(B[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||B[u]!==W[g]){var rt=`
`+B[u].replace(" at new "," at ");return n.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",n.displayName)),rt}while(1<=u&&0<=g);break}}}finally{mt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?F(l):""}function at(n){switch(n.tag){case 26:case 27:case 5:return F(n.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return n=bt(n.type,!1),n;case 11:return n=bt(n.type.render,!1),n;case 1:return n=bt(n.type,!0),n;default:return""}}function ot(n){try{var s="";do s+=at(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function lt(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function dt(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function G(n){if(lt(n)!==n)throw Error(i(188))}function nt(n){var s=n.alternate;if(!s){if(s=lt(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return G(g),n;if(y===u)return G(g),s;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=y;else{for(var S=!1,L=g.child;L;){if(L===l){S=!0,l=g,u=y;break}if(L===u){S=!0,u=g,l=y;break}L=L.sibling}if(!S){for(L=y.child;L;){if(L===l){S=!0,l=y,u=g;break}if(L===u){S=!0,u=y,l=g;break}L=L.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function ft(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=ft(n),s!==null)return s;n=n.sibling}return null}var ht=Array.isArray,pt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},_t=[],St=-1;function It(n){return{current:n}}function Kt(n){0>St||(n.current=_t[St],_t[St]=null,St--)}function Tt(n,s){St++,_t[St]=n.current,n.current=s}var Te=It(null),Be=It(null),Ht=It(null),se=It(null);function ve(n,s){switch(Tt(Ht,s),Tt(Be,n),Tt(Te,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?X1(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=X1(n),s=Y1(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Kt(Te),Tt(Te,s)}function le(){Kt(Te),Kt(Be),Kt(Ht)}function ri(n){n.memoizedState!==null&&Tt(se,n);var s=Te.current,l=Y1(s,n.type);s!==l&&(Tt(Be,n),Tt(Te,l))}function Fi(n){Be.current===n&&(Kt(Te),Kt(Be)),se.current===n&&(Kt(se),Nf._currentValue=Et)}var Tn=Object.prototype.hasOwnProperty,un=a.unstable_scheduleCallback,Cn=a.unstable_cancelCallback,Cl=a.unstable_shouldYield,Pa=a.unstable_requestPaint,gt=a.unstable_now,Dt=a.unstable_getCurrentPriorityLevel,zt=a.unstable_ImmediatePriority,jt=a.unstable_UserBlockingPriority,ye=a.unstable_NormalPriority,Ki=a.unstable_LowPriority,Ui=a.unstable_IdlePriority,Rl=a.log,_s=a.unstable_setDisableYieldValue,Xn=null,We=null;function ja(n){if(We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}}function hn(n){if(typeof Rl=="function"&&_s(n),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Xn,n)}catch{}}var oi=Math.clz32?Math.clz32:h0,Fa=Math.log,Cu=Math.LN2;function h0(n){return n>>>=0,n===0?32:31-(Fa(n)/Cu|0)|0}var Zs=128,Zr=4194304;function ws(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xs(n,s){var l=n.pendingLanes;if(l===0)return 0;var u=0,g=n.suspendedLanes,y=n.pingedLanes,S=n.warmLanes;n=n.finishedLanes!==0;var L=l&134217727;return L!==0?(l=L&~g,l!==0?u=ws(l):(y&=L,y!==0?u=ws(y):n||(S=L&~S,S!==0&&(u=ws(S))))):(L=l&~g,L!==0?u=ws(L):y!==0?u=ws(y):n||(S=l&~S,S!==0&&(u=ws(S)))),u===0?0:s!==0&&s!==u&&(s&g)===0&&(g=u&-u,S=s&-s,g>=S||g===32&&(S&4194176)!==0)?s:u}function Jr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ud(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hd(){var n=Zs;return Zs<<=1,(Zs&4194176)===0&&(Zs=128),n}function to(){var n=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),n}function Ru(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Ke(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qm(n,s,l,u,g,y){var S=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var L=n.entanglements,B=n.expirationTimes,W=n.hiddenUpdates;for(l=S&~l;0<l;){var rt=31-oi(l),ut=1<<rt;L[rt]=0,B[rt]=-1;var et=W[rt];if(et!==null)for(W[rt]=null,rt=0;rt<et.length;rt++){var st=et[rt];st!==null&&(st.lane&=-536870913)}l&=~ut}u!==0&&eo(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~s))}function eo(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-oi(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194218}function io(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-oi(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Zm(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Jm(){var n=pt.p;return n!==0?n:(n=window.event,n===void 0?32:dS(n.type))}function no(n,s){var l=pt.p;try{return pt.p=n,s()}finally{pt.p=l}}var Js=Math.random().toString(36).slice(2),gi="__reactFiber$"+Js,vi="__reactProps$"+Js,so="__reactContainer$"+Js,kl="__reactEvents$"+Js,ku="__reactListeners$"+Js,ta="__reactHandles$"+Js,zd="__reactResources$"+Js,ao="__reactMarker$"+Js;function Dl(n){delete n[gi],delete n[vi],delete n[kl],delete n[ku],delete n[ta]}function Es(n){var s=n[gi];if(s)return s;for(var l=n.parentNode;l;){if(s=l[so]||l[gi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Q1(n);n!==null;){if(l=n[gi])return l;n=Q1(n)}return s}n=l,l=n.parentNode}return null}function Ua(n){if(n=n[gi]||n[so]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ro(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function oo(n){var s=n[zd];return s||(s=n[zd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ie(n){n[ao]=!0}var Bd=new Set,Du={};function Rn(n,s){dn(n,s),dn(n+"Capture",s)}function dn(n,s){for(Du[n]=s,n=0;n<s.length;n++)Bd.add(s[n])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vd={},qd={};function tg(n){return Tn.call(qd,n)?!0:Tn.call(Vd,n)?!1:d0.test(n)?qd[n]=!0:(Vd[n]=!0,!1)}function lo(n,s,l){if(tg(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function co(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Yn(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Qi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function eg(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function f0(n){var s=eg(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(S){u=""+S,y.call(this,S)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ml(n){n._valueTracker||(n._valueTracker=f0(n))}function Gd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=eg(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function Mu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ha=/[\n"\\]/g;function Ve(n){return n.replace(Ha,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uo(n,s,l,u,g,y,S,L){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Qi(s)):n.value!==""+Qi(s)&&(n.value=""+Qi(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?Ou(n,S,Qi(s)):l!=null?Ou(n,S,Qi(l)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.name=""+Qi(L):n.removeAttribute("name")}function Ol(n,s,l,u,g,y,S,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Qi(l):"",s=s!=null?""+Qi(s):l,L||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=L?n.checked:!!u,n.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function Ou(n,s,l){s==="number"&&Mu(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ae(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Qi(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Ll(n,s,l){if(s!=null&&(s=""+Qi(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Qi(l):""}function ho(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(ht(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Qi(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Wn(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var p0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||p0.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function ig(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&$d(n,g,u)}else for(var y in s)s.hasOwnProperty(y)&&$d(n,y,s[y])}function Xd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(n){return g0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Kn=null;function Lu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var za=null,Ba=null;function Va(n){var s=Ua(n);if(s&&(n=s.stateNode)){var l=n[vi]||null;t:switch(n=s.stateNode,s.type){case"input":if(uo(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ve(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[vi]||null;if(!g)throw Error(i(90));uo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Gd(u)}break t;case"textarea":Ll(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&ae(n,!!l.multiple,s,!1)}}}var Yd=!1;function ng(n,s,l){if(Yd)return n(s,l);Yd=!0;try{var u=n(s);return u}finally{if(Yd=!1,(za!==null||Ba!==null)&&(Yg(),za&&(s=za,n=Ba,Ba=za=null,Va(s),n)))for(s=0;s<n.length;s++)Va(n[s])}}function Il(n,s){var l=n.stateNode;if(l===null)return null;var u=l[vi]||null;if(u===null)return null;l=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Qn=!1;if(kn)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Qn=!1}var ia=null,fo=null,qa=null;function Wd(){if(qa)return qa;var n,s=fo,l=s.length,u,g="value"in ia?ia.value:ia.textContent,y=g.length;for(n=0;n<l&&s[n]===g[n];n++);var S=l-n;for(u=1;u<=S&&s[l-u]===g[y-u];u++);return qa=g.slice(n,1<u?1-u:void 0)}function na(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function sa(){return!0}function Kd(){return!1}function yi(n){function s(l,u,g,y,S){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var L in n)n.hasOwnProperty(L)&&(l=n[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sa:Kd,this.isPropagationStopped=Kd,this}return j(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),s}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=yi(fe),Pl=j({},fe,{view:0,detail:0}),sg=yi(Pl),Nu,Pu,aa,jl=j({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==aa&&(aa&&n.type==="mousemove"?(Nu=n.screenX-aa.screenX,Pu=n.screenY-aa.screenY):Pu=Nu=0,aa=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:Pu}}),Zn=yi(jl),ag=j({},jl,{dataTransfer:0}),v0=yi(ag),Fl=j({},Pl,{relatedTarget:0}),ju=yi(Fl),Qd=j({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=yi(Qd),rg=j({},fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Uu=yi(rg),y0=j({},fe,{data:0}),Zd=yi(y0),Ul={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jd(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=lg[n])?!!s[n]:!1}function Hl(){return Jd}var cg=j({},Pl,{key:function(n){if(n.key){var s=Ul[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?og[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hu=yi(cg),ug=j({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=yi(ug),Ga=j({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),hg=yi(Ga),dg=j({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),fg=yi(dg),pg=j({},jl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fn=yi(pg),mg=j({},fe,{newState:0,oldState:0}),gg=yi(mg),po=[9,13,27,32],p=kn&&"CompositionEvent"in window,_=null;kn&&"documentMode"in document&&(_=document.documentMode);var x=kn&&"TextEvent"in window&&!_,N=kn&&(!p||_&&8<_&&11>=_),J=" ",it=!1;function vt(n,s){switch(n){case"keyup":return po.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function ee(n,s){switch(n){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:(it=!0,J);case"textInput":return n=s.data,n===J&&it?null:n;default:return null}}function bi(n,s){if(Me)return n==="compositionend"||!p&&vt(n,s)?(n=Wd(),qa=fo=ia=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return N&&s.locale!=="ko"?null:s.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $a(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ai[n.type]:s==="textarea"}function pn(n,s,l,u){za?Ba?Ba.push(u):Ba=[u]:za=u,s=Jg(s,"onChange"),0<s.length&&(l=new Iu("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var ra=null,Xa=null;function WD(n){B1(n,0)}function vg(n){var s=ro(n);if(Gd(s))return n}function vx(n,s){if(n==="change")return s}var yx=!1;if(kn){var b0;if(kn){var A0="oninput"in document;if(!A0){var bx=document.createElement("div");bx.setAttribute("oninput","return;"),A0=typeof bx.oninput=="function"}b0=A0}else b0=!1;yx=b0&&(!document.documentMode||9<document.documentMode)}function Ax(){ra&&(ra.detachEvent("onpropertychange",_x),Xa=ra=null)}function _x(n){if(n.propertyName==="value"&&vg(Xa)){var s=[];pn(s,Xa,n,Lu(n)),ng(WD,s)}}function KD(n,s,l){n==="focusin"?(Ax(),ra=s,Xa=l,ra.attachEvent("onpropertychange",_x)):n==="focusout"&&Ax()}function QD(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vg(Xa)}function ZD(n,s){if(n==="click")return vg(s)}function JD(n,s){if(n==="input"||n==="change")return vg(s)}function tM(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Dn=typeof Object.is=="function"?Object.is:tM;function ef(n,s){if(Dn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Tn.call(s,g)||!Dn(n[g],s[g]))return!1}return!0}function wx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xx(n,s){var l=wx(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=wx(l)}}function Ex(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ex(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Sx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Mu(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Mu(n.document)}return s}function _0(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function eM(n,s){var l=Sx(s);s=n.focusedElem;var u=n.selectionRange;if(l!==s&&s&&s.ownerDocument&&Ex(s.ownerDocument.documentElement,s)){if(u!==null&&_0(s)){if(n=u.start,l=u.end,l===void 0&&(l=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(l,s.value.length);else if(l=(n=s.ownerDocument||document)&&n.defaultView||window,l.getSelection){l=l.getSelection();var g=s.textContent.length,y=Math.min(u.start,g);u=u.end===void 0?y:Math.min(u.end,g),!l.extend&&y>u&&(g=u,u=y,y=g),g=xx(s,y);var S=xx(s,u);g&&S&&(l.rangeCount!==1||l.anchorNode!==g.node||l.anchorOffset!==g.offset||l.focusNode!==S.node||l.focusOffset!==S.offset)&&(n=n.createRange(),n.setStart(g.node,g.offset),l.removeAllRanges(),y>u?(l.addRange(n),l.extend(S.node,S.offset)):(n.setEnd(S.node,S.offset),l.addRange(n)))}}for(n=[],l=s;l=l.parentNode;)l.nodeType===1&&n.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)l=n[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var iM=kn&&"documentMode"in document&&11>=document.documentMode,zu=null,w0=null,nf=null,x0=!1;function Tx(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;x0||zu==null||zu!==Mu(u)||(u=zu,"selectionStart"in u&&_0(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),nf&&ef(nf,u)||(nf=u,u=Jg(w0,"onSelect"),0<u.length&&(s=new Iu("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=zu)))}function zl(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Bu={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionrun:zl("Transition","TransitionRun"),transitionstart:zl("Transition","TransitionStart"),transitioncancel:zl("Transition","TransitionCancel"),transitionend:zl("Transition","TransitionEnd")},E0={},Cx={};kn&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function Bl(n){if(E0[n])return E0[n];if(!Bu[n])return n;var s=Bu[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Cx)return E0[n]=s[l];return n}var Rx=Bl("animationend"),kx=Bl("animationiteration"),Dx=Bl("animationstart"),nM=Bl("transitionrun"),sM=Bl("transitionstart"),aM=Bl("transitioncancel"),Mx=Bl("transitionend"),Ox=new Map,Lx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ss(n,s){Ox.set(n,s),Rn(s,[n])}var Jn=[],Vu=0,S0=0;function yg(){for(var n=Vu,s=S0=Vu=0;s<n;){var l=Jn[s];Jn[s++]=null;var u=Jn[s];Jn[s++]=null;var g=Jn[s];Jn[s++]=null;var y=Jn[s];if(Jn[s++]=null,u!==null&&g!==null){var S=u.pending;S===null?g.next=g:(g.next=S.next,S.next=g),u.pending=g}y!==0&&Ix(l,g,y)}}function bg(n,s,l,u){Jn[Vu++]=n,Jn[Vu++]=s,Jn[Vu++]=l,Jn[Vu++]=u,S0|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function T0(n,s,l,u){return bg(n,s,l,u),Ag(n)}function mo(n,s){return bg(n,null,null,s),Ag(n)}function Ix(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,y=n.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;g&&s!==null&&n.tag===3&&(y=n.stateNode,g=31-oi(l),y=y.hiddenUpdates,n=y[g],n===null?y[g]=[s]:n.push(s),s.lane=l|536870912)}function Ag(n){if(50<Rf)throw Rf=0,Ob=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var qu={},Nx=new WeakMap;function ts(n,s){if(typeof n=="object"&&n!==null){var l=Nx.get(n);return l!==void 0?l:(s={value:n,source:s,stack:ot(s)},Nx.set(n,s),s)}return{value:n,source:s,stack:ot(s)}}var Gu=[],$u=0,_g=null,wg=0,es=[],is=0,Vl=null,Ya=1,Wa="";function ql(n,s){Gu[$u++]=wg,Gu[$u++]=_g,_g=n,wg=s}function Px(n,s,l){es[is++]=Ya,es[is++]=Wa,es[is++]=Vl,Vl=n;var u=Ya;n=Wa;var g=32-oi(u)-1;u&=~(1<<g),l+=1;var y=32-oi(s)+g;if(30<y){var S=g-g%5;y=(u&(1<<S)-1).toString(32),u>>=S,g-=S,Ya=1<<32-oi(s)+g|l<<g|u,Wa=y+n}else Ya=1<<y|l<<g|u,Wa=n}function C0(n){n.return!==null&&(ql(n,1),Px(n,1,0))}function R0(n){for(;n===_g;)_g=Gu[--$u],Gu[$u]=null,wg=Gu[--$u],Gu[$u]=null;for(;n===Vl;)Vl=es[--is],es[is]=null,Wa=es[--is],es[is]=null,Ya=es[--is],es[is]=null}var Zi=null,Di=null,re=!1,Ts=null,oa=!1,k0=Error(i(519));function Gl(n){var s=Error(i(418,""));throw rf(ts(s,n)),k0}function jx(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[gi]=n,s[vi]=u,l){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(l=0;l<Df.length;l++)Jt(Df[l],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),Ol(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ml(s);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),ho(s,u.value,u.defaultValue,u.children),Ml(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||$1(s.textContent,l)?(u.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),u.onScroll!=null&&Jt("scroll",s),u.onScrollEnd!=null&&Jt("scrollend",s),u.onClick!=null&&(s.onclick=tv),s=!0):s=!1,s||Gl(n)}function Fx(n){for(Zi=n.return;Zi;)switch(Zi.tag){case 3:case 27:oa=!0;return;case 5:case 13:oa=!1;return;default:Zi=Zi.return}}function sf(n){if(n!==Zi)return!1;if(!re)return Fx(n),re=!0,!1;var s=!1,l;if((l=n.tag!==3&&n.tag!==27)&&((l=n.tag===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Wb(n.type,n.memoizedProps)),l=!l),l&&(s=!0),s&&Di&&Gl(n),Fx(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){Di=Rs(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}Di=null}}else Di=Zi?Rs(n.stateNode.nextSibling):null;return!0}function af(){Di=Zi=null,re=!1}function rf(n){Ts===null?Ts=[n]:Ts.push(n)}var of=Error(i(460)),Ux=Error(i(474)),D0={then:function(){}};function Hx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xg(){}function zx(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(xg,xg),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===of?Error(i(483)):n;default:if(typeof s.status=="string")s.then(xg,xg);else{if(n=Ce,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===of?Error(i(483)):n}throw lf=s,of}}var lf=null;function Bx(){if(lf===null)throw Error(i(459));var n=lf;return lf=null,n}var Xu=null,cf=0;function Eg(n){var s=cf;return cf+=1,Xu===null&&(Xu=[]),zx(Xu,n,s)}function uf(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Sg(n,s){throw s.$$typeof===o?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Vx(n){var s=n._init;return s(n._payload)}function qx(n){function s(Q,Y){if(n){var tt=Q.deletions;tt===null?(Q.deletions=[Y],Q.flags|=16):tt.push(Y)}}function l(Q,Y){if(!n)return null;for(;Y!==null;)s(Q,Y),Y=Y.sibling;return null}function u(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Co(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,tt){return Q.index=tt,n?(tt=Q.alternate,tt!==null?(tt=tt.index,tt<Y?(Q.flags|=33554434,Y):tt):(Q.flags|=33554434,Y)):(Q.flags|=1048576,Y)}function S(Q){return n&&Q.alternate===null&&(Q.flags|=33554434),Q}function L(Q,Y,tt,ct){return Y===null||Y.tag!==6?(Y=Eb(tt,Q.mode,ct),Y.return=Q,Y):(Y=g(Y,tt),Y.return=Q,Y)}function B(Q,Y,tt,ct){var xt=tt.type;return xt===d?rt(Q,Y,tt.props.children,ct,tt.key):Y!==null&&(Y.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===z&&Vx(xt)===Y.type)?(Y=g(Y,tt.props),uf(Y,tt),Y.return=Q,Y):(Y=Vg(tt.type,tt.key,tt.props,null,Q.mode,ct),uf(Y,tt),Y.return=Q,Y)}function W(Q,Y,tt,ct){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==tt.containerInfo||Y.stateNode.implementation!==tt.implementation?(Y=Sb(tt,Q.mode,ct),Y.return=Q,Y):(Y=g(Y,tt.children||[]),Y.return=Q,Y)}function rt(Q,Y,tt,ct,xt){return Y===null||Y.tag!==7?(Y=ec(tt,Q.mode,ct,xt),Y.return=Q,Y):(Y=g(Y,tt),Y.return=Q,Y)}function ut(Q,Y,tt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Eb(""+Y,Q.mode,tt),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:return tt=Vg(Y.type,Y.key,Y.props,null,Q.mode,tt),uf(tt,Y),tt.return=Q,tt;case h:return Y=Sb(Y,Q.mode,tt),Y.return=Q,Y;case z:var ct=Y._init;return Y=ct(Y._payload),ut(Q,Y,tt)}if(ht(Y)||Z(Y))return Y=ec(Y,Q.mode,tt,null),Y.return=Q,Y;if(typeof Y.then=="function")return ut(Q,Eg(Y),tt);if(Y.$$typeof===w)return ut(Q,Hg(Q,Y),tt);Sg(Q,Y)}return null}function et(Q,Y,tt,ct){var xt=Y!==null?Y.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return xt!==null?null:L(Q,Y,""+tt,ct);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case c:return tt.key===xt?B(Q,Y,tt,ct):null;case h:return tt.key===xt?W(Q,Y,tt,ct):null;case z:return xt=tt._init,tt=xt(tt._payload),et(Q,Y,tt,ct)}if(ht(tt)||Z(tt))return xt!==null?null:rt(Q,Y,tt,ct,null);if(typeof tt.then=="function")return et(Q,Y,Eg(tt),ct);if(tt.$$typeof===w)return et(Q,Y,Hg(Q,tt),ct);Sg(Q,tt)}return null}function st(Q,Y,tt,ct,xt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Q=Q.get(tt)||null,L(Y,Q,""+ct,xt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case c:return Q=Q.get(ct.key===null?tt:ct.key)||null,B(Y,Q,ct,xt);case h:return Q=Q.get(ct.key===null?tt:ct.key)||null,W(Y,Q,ct,xt);case z:var Yt=ct._init;return ct=Yt(ct._payload),st(Q,Y,tt,ct,xt)}if(ht(ct)||Z(ct))return Q=Q.get(tt)||null,rt(Y,Q,ct,xt,null);if(typeof ct.then=="function")return st(Q,Y,tt,Eg(ct),xt);if(ct.$$typeof===w)return st(Q,Y,tt,Hg(Y,ct),xt);Sg(Y,ct)}return null}function Ct(Q,Y,tt,ct){for(var xt=null,Yt=null,kt=Y,Ot=Y=0,xi=null;kt!==null&&Ot<tt.length;Ot++){kt.index>Ot?(xi=kt,kt=null):xi=kt.sibling;var oe=et(Q,kt,tt[Ot],ct);if(oe===null){kt===null&&(kt=xi);break}n&&kt&&oe.alternate===null&&s(Q,kt),Y=y(oe,Y,Ot),Yt===null?xt=oe:Yt.sibling=oe,Yt=oe,kt=xi}if(Ot===tt.length)return l(Q,kt),re&&ql(Q,Ot),xt;if(kt===null){for(;Ot<tt.length;Ot++)kt=ut(Q,tt[Ot],ct),kt!==null&&(Y=y(kt,Y,Ot),Yt===null?xt=kt:Yt.sibling=kt,Yt=kt);return re&&ql(Q,Ot),xt}for(kt=u(kt);Ot<tt.length;Ot++)xi=st(kt,Q,Ot,tt[Ot],ct),xi!==null&&(n&&xi.alternate!==null&&kt.delete(xi.key===null?Ot:xi.key),Y=y(xi,Y,Ot),Yt===null?xt=xi:Yt.sibling=xi,Yt=xi);return n&&kt.forEach(function(Io){return s(Q,Io)}),re&&ql(Q,Ot),xt}function Ft(Q,Y,tt,ct){if(tt==null)throw Error(i(151));for(var xt=null,Yt=null,kt=Y,Ot=Y=0,xi=null,oe=tt.next();kt!==null&&!oe.done;Ot++,oe=tt.next()){kt.index>Ot?(xi=kt,kt=null):xi=kt.sibling;var Io=et(Q,kt,oe.value,ct);if(Io===null){kt===null&&(kt=xi);break}n&&kt&&Io.alternate===null&&s(Q,kt),Y=y(Io,Y,Ot),Yt===null?xt=Io:Yt.sibling=Io,Yt=Io,kt=xi}if(oe.done)return l(Q,kt),re&&ql(Q,Ot),xt;if(kt===null){for(;!oe.done;Ot++,oe=tt.next())oe=ut(Q,oe.value,ct),oe!==null&&(Y=y(oe,Y,Ot),Yt===null?xt=oe:Yt.sibling=oe,Yt=oe);return re&&ql(Q,Ot),xt}for(kt=u(kt);!oe.done;Ot++,oe=tt.next())oe=st(kt,Q,Ot,oe.value,ct),oe!==null&&(n&&oe.alternate!==null&&kt.delete(oe.key===null?Ot:oe.key),Y=y(oe,Y,Ot),Yt===null?xt=oe:Yt.sibling=oe,Yt=oe);return n&&kt.forEach(function(bO){return s(Q,bO)}),re&&ql(Q,Ot),xt}function $e(Q,Y,tt,ct){if(typeof tt=="object"&&tt!==null&&tt.type===d&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case c:t:{for(var xt=tt.key;Y!==null;){if(Y.key===xt){if(xt=tt.type,xt===d){if(Y.tag===7){l(Q,Y.sibling),ct=g(Y,tt.props.children),ct.return=Q,Q=ct;break t}}else if(Y.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===z&&Vx(xt)===Y.type){l(Q,Y.sibling),ct=g(Y,tt.props),uf(ct,tt),ct.return=Q,Q=ct;break t}l(Q,Y);break}else s(Q,Y);Y=Y.sibling}tt.type===d?(ct=ec(tt.props.children,Q.mode,ct,tt.key),ct.return=Q,Q=ct):(ct=Vg(tt.type,tt.key,tt.props,null,Q.mode,ct),uf(ct,tt),ct.return=Q,Q=ct)}return S(Q);case h:t:{for(xt=tt.key;Y!==null;){if(Y.key===xt)if(Y.tag===4&&Y.stateNode.containerInfo===tt.containerInfo&&Y.stateNode.implementation===tt.implementation){l(Q,Y.sibling),ct=g(Y,tt.children||[]),ct.return=Q,Q=ct;break t}else{l(Q,Y);break}else s(Q,Y);Y=Y.sibling}ct=Sb(tt,Q.mode,ct),ct.return=Q,Q=ct}return S(Q);case z:return xt=tt._init,tt=xt(tt._payload),$e(Q,Y,tt,ct)}if(ht(tt))return Ct(Q,Y,tt,ct);if(Z(tt)){if(xt=Z(tt),typeof xt!="function")throw Error(i(150));return tt=xt.call(tt),Ft(Q,Y,tt,ct)}if(typeof tt.then=="function")return $e(Q,Y,Eg(tt),ct);if(tt.$$typeof===w)return $e(Q,Y,Hg(Q,tt),ct);Sg(Q,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Y!==null&&Y.tag===6?(l(Q,Y.sibling),ct=g(Y,tt),ct.return=Q,Q=ct):(l(Q,Y),ct=Eb(tt,Q.mode,ct),ct.return=Q,Q=ct),S(Q)):l(Q,Y)}return function(Q,Y,tt,ct){try{cf=0;var xt=$e(Q,Y,tt,ct);return Xu=null,xt}catch(kt){if(kt===of)throw kt;var Yt=rs(29,kt,null,Q.mode);return Yt.lanes=ct,Yt.return=Q,Yt}finally{}}}var $l=qx(!0),Gx=qx(!1),Yu=It(null),Tg=It(0);function $x(n,s){n=rr,Tt(Tg,n),Tt(Yu,s),rr=n|s.baseLanes}function M0(){Tt(Tg,rr),Tt(Yu,Yu.current)}function O0(){rr=Tg.current,Kt(Yu),Kt(Tg)}var ns=It(null),la=null;function go(n){var s=n.alternate;Tt(li,li.current&1),Tt(ns,n),la===null&&(s===null||Yu.current!==null||s.memoizedState!==null)&&(la=n)}function Xx(n){if(n.tag===22){if(Tt(li,li.current),Tt(ns,n),la===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(la=n)}}else vo()}function vo(){Tt(li,li.current),Tt(ns,ns.current)}function Ka(n){Kt(ns),la===n&&(la=null),Kt(li)}var li=It(0);function Cg(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},oM=a.unstable_scheduleCallback,lM=a.unstable_NormalPriority,ci={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L0(){return{controller:new rM,data:new Map,refCount:0}}function hf(n){n.refCount--,n.refCount===0&&oM(lM,function(){n.controller.abort()})}var df=null,I0=0,Wu=0,Ku=null;function cM(n,s){if(df===null){var l=df=[];I0=0,Wu=Hb(),Ku={status:"pending",value:void 0,then:function(u){l.push(u)}}}return I0++,s.then(Yx,Yx),s}function Yx(){if(--I0===0&&df!==null){Ku!==null&&(Ku.status="fulfilled");var n=df;df=null,Wu=0,Ku=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function uM(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Wx=D.S;D.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&cM(n,s),Wx!==null&&Wx(n,s)};var Xl=It(null);function N0(){var n=Xl.current;return n!==null?n:Ce.pooledCache}function Rg(n,s){s===null?Tt(Xl,Xl.current):Tt(Xl,s.pool)}function Kx(){var n=N0();return n===null?null:{parent:ci._currentValue,pool:n}}var yo=0,$t=null,be=null,ti=null,kg=!1,Qu=!1,Yl=!1,Dg=0,ff=0,Zu=null,hM=0;function Qe(){throw Error(i(321))}function P0(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Dn(n[l],s[l]))return!1;return!0}function j0(n,s,l,u,g,y){return yo=y,$t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=n===null||n.memoizedState===null?Wl:bo,Yl=!1,y=l(u,g),Yl=!1,Qu&&(y=Zx(s,l,u,g)),Qx(n),y}function Qx(n){D.H=ca;var s=be!==null&&be.next!==null;if(yo=0,ti=be=$t=null,kg=!1,ff=0,Zu=null,s)throw Error(i(300));n===null||_i||(n=n.dependencies,n!==null&&Ug(n)&&(_i=!0))}function Zx(n,s,l,u){$t=n;var g=0;do{if(Qu&&(Zu=null),ff=0,Qu=!1,25<=g)throw Error(i(301));if(g+=1,ti=be=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=Kl,y=s(l,u)}while(Qu);return y}function dM(){var n=D.H,s=n.useState()[0];return s=typeof s.then=="function"?pf(s):s,n=n.useState()[0],(be!==null?be.memoizedState:null)!==n&&($t.flags|=1024),s}function F0(){var n=Dg!==0;return Dg=0,n}function U0(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function H0(n){if(kg){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kg=!1}yo=0,ti=be=$t=null,Qu=!1,ff=Dg=0,Zu=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?$t.memoizedState=ti=n:ti=ti.next=n,ti}function ei(){if(be===null){var n=$t.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var s=ti===null?$t.memoizedState:ti.next;if(s!==null)ti=s,be=n;else{if(n===null)throw $t.alternate===null?Error(i(467)):Error(i(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},ti===null?$t.memoizedState=ti=n:ti=ti.next=n}return ti}var Mg;Mg=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function pf(n){var s=ff;return ff+=1,Zu===null&&(Zu=[]),n=zx(Zu,n,s),s=$t,(ti===null?s.memoizedState:ti.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?Wl:bo),n}function Og(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pf(n);if(n.$$typeof===w)return Hi(n)}throw Error(i(438,String(n)))}function z0(n){var s=null,l=$t.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=$t.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Mg(),$t.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=X;return s.index++,l}function Qa(n,s){return typeof s=="function"?s(n):s}function Lg(n){var s=ei();return B0(s,be,n)}function B0(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}s.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{s=g.next;var L=S=null,B=null,W=s,rt=!1;do{var ut=W.lane&-536870913;if(ut!==W.lane?(ie&ut)===ut:(yo&ut)===ut){var et=W.revertLane;if(et===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ut===Wu&&(rt=!0);else if((yo&et)===et){W=W.next,et===Wu&&(rt=!0);continue}else ut={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(L=B=ut,S=y):B=B.next=ut,$t.lanes|=et,Ro|=et;ut=W.action,Yl&&l(y,ut),y=W.hasEagerState?W.eagerState:l(y,ut)}else et={lane:ut,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},B===null?(L=B=et,S=y):B=B.next=et,$t.lanes|=ut,Ro|=ut;W=W.next}while(W!==null&&W!==s);if(B===null?S=y:B.next=L,!Dn(y,n.memoizedState)&&(_i=!0,rt&&(l=Ku,l!==null)))throw l;n.memoizedState=y,n.baseState=S,n.baseQueue=B,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function V0(n){var s=ei(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=n(y,S.action),S=S.next;while(S!==g);Dn(y,s.memoizedState)||(_i=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,u]}function Jx(n,s,l){var u=$t,g=ei(),y=re;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!Dn((be||g).memoizedState,l);if(S&&(g.memoizedState=l,_i=!0),g=g.queue,$0(iE.bind(null,u,g,n),[n]),g.getSnapshot!==s||S||ti!==null&&ti.memoizedState.tag&1){if(u.flags|=2048,Ju(9,eE.bind(null,u,g,l,s),{destroy:void 0},null),Ce===null)throw Error(i(349));y||(yo&60)!==0||tE(u,s,l)}return l}function tE(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=$t.updateQueue,s===null?(s=Mg(),$t.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function eE(n,s,l,u){s.value=l,s.getSnapshot=u,nE(s)&&sE(n)}function iE(n,s,l){return l(function(){nE(s)&&sE(n)})}function nE(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Dn(n,l)}catch{return!0}}function sE(n){var s=mo(n,2);s!==null&&Ji(s,n,2)}function q0(n){var s=mn();if(typeof n=="function"){var l=n;if(n=l(),Yl){hn(!0);try{l()}finally{hn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:n},s}function aE(n,s,l,u){return n.baseState=l,B0(n,be,typeof u=="function"?u:Qa)}function fM(n,s,l,u,g){if(Pg(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};D.T!==null?l(!0):y.isTransition=!1,u(y),l=s.pending,l===null?(y.next=s.pending=y,rE(s,y)):(y.next=l.next,s.pending=l.next=y)}}function rE(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var y=D.T,S={};D.T=S;try{var L=l(g,u),B=D.S;B!==null&&B(S,L),oE(n,s,L)}catch(W){G0(n,s,W)}finally{D.T=y}}else try{y=l(g,u),oE(n,s,y)}catch(W){G0(n,s,W)}}function oE(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){lE(n,s,u)},function(u){return G0(n,s,u)}):lE(n,s,l)}function lE(n,s,l){s.status="fulfilled",s.value=l,cE(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,rE(n,l)))}function G0(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,cE(s),s=s.next;while(s!==u)}n.action=null}function cE(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function uE(n,s){return s}function hE(n,s){if(re){var l=Ce.formState;if(l!==null){t:{var u=$t;if(re){if(Di){e:{for(var g=Di,y=oa;g.nodeType!==8;){if(!y){g=null;break e}if(g=Rs(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Di=Rs(g.nextSibling),u=g.data==="F!";break t}}Gl(u)}u=!1}u&&(s=l[0])}}return l=mn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uE,lastRenderedState:s},l.queue=u,l=kE.bind(null,$t,u),u.dispatch=l,u=q0(!1),y=Q0.bind(null,$t,!1,u.queue),u=mn(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=fM.bind(null,$t,g,y,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function dE(n){var s=ei();return fE(s,be,n)}function fE(n,s,l){s=B0(n,s,uE)[0],n=Lg(Qa)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?pf(s):s;var u=ei(),g=u.queue,y=g.dispatch;return l!==u.memoizedState&&($t.flags|=2048,Ju(9,pM.bind(null,g,l),{destroy:void 0},null)),[s,y,n]}function pM(n,s){n.action=s}function pE(n){var s=ei(),l=be;if(l!==null)return fE(s,l,n);ei(),s=s.memoizedState,l=ei();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Ju(n,s,l,u){return n={tag:n,create:s,inst:l,deps:u,next:null},s=$t.updateQueue,s===null&&(s=Mg(),$t.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function mE(){return ei().memoizedState}function Ig(n,s,l,u){var g=mn();$t.flags|=n,g.memoizedState=Ju(1|s,l,{destroy:void 0},u===void 0?null:u)}function Ng(n,s,l,u){var g=ei();u=u===void 0?null:u;var y=g.memoizedState.inst;be!==null&&u!==null&&P0(u,be.memoizedState.deps)?g.memoizedState=Ju(s,l,y,u):($t.flags|=n,g.memoizedState=Ju(1|s,l,y,u))}function gE(n,s){Ig(8390656,8,n,s)}function $0(n,s){Ng(2048,8,n,s)}function vE(n,s){return Ng(4,2,n,s)}function yE(n,s){return Ng(4,4,n,s)}function bE(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function AE(n,s,l){l=l!=null?l.concat([n]):null,Ng(4,4,bE.bind(null,s,n),l)}function X0(){}function _E(n,s){var l=ei();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&P0(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function wE(n,s){var l=ei();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&P0(s,u[1]))return u[0];if(u=n(),Yl){hn(!0);try{n()}finally{hn(!1)}}return l.memoizedState=[u,s],u}function Y0(n,s,l){return l===void 0||(yo&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=E1(),$t.lanes|=n,Ro|=n,l)}function xE(n,s,l,u){return Dn(l,s)?l:Yu.current!==null?(n=Y0(n,l,u),Dn(n,s)||(_i=!0),n):(yo&42)===0?(_i=!0,n.memoizedState=l):(n=E1(),$t.lanes|=n,Ro|=n,s)}function EE(n,s,l,u,g){var y=pt.p;pt.p=y!==0&&8>y?y:8;var S=D.T,L={};D.T=L,Q0(n,!1,s,l);try{var B=g(),W=D.S;if(W!==null&&W(L,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var rt=uM(B,u);mf(n,s,rt,In(n))}else mf(n,s,u,In(n))}catch(ut){mf(n,s,{then:function(){},status:"rejected",reason:ut},In())}finally{pt.p=y,D.T=S}}function mM(){}function W0(n,s,l,u){if(n.tag!==5)throw Error(i(476));var g=SE(n).queue;EE(n,g,s,Et,l===null?mM:function(){return TE(n),l(u)})}function SE(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:Et},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function TE(n){var s=SE(n).next.queue;mf(n,s,{},In())}function K0(){return Hi(Nf)}function CE(){return ei().memoizedState}function RE(){return ei().memoizedState}function gM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=In();n=wo(l);var u=xo(s,n,l);u!==null&&(Ji(u,s,l),yf(u,s,l)),s={cache:L0()},n.payload=s;return}s=s.return}}function vM(n,s,l){var u=In();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Pg(n)?DE(s,l):(l=T0(n,s,l,u),l!==null&&(Ji(l,n,u),ME(l,s,u)))}function kE(n,s,l){var u=In();mf(n,s,l,u)}function mf(n,s,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pg(n))DE(s,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,L=y(S,l);if(g.hasEagerState=!0,g.eagerState=L,Dn(L,S))return bg(n,s,g,0),Ce===null&&yg(),!1}catch{}finally{}if(l=T0(n,s,g,u),l!==null)return Ji(l,n,u),ME(l,s,u),!0}return!1}function Q0(n,s,l,u){if(u={lane:2,revertLane:Hb(),action:u,hasEagerState:!1,eagerState:null,next:null},Pg(n)){if(s)throw Error(i(479))}else s=T0(n,l,u,2),s!==null&&Ji(s,n,2)}function Pg(n){var s=n.alternate;return n===$t||s!==null&&s===$t}function DE(n,s){Qu=kg=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function ME(n,s,l){if((l&4194176)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,io(n,l)}}var ca={readContext:Hi,use:Og,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe};ca.useCacheRefresh=Qe,ca.useMemoCache=Qe,ca.useHostTransitionStatus=Qe,ca.useFormState=Qe,ca.useActionState=Qe,ca.useOptimistic=Qe;var Wl={readContext:Hi,use:Og,useCallback:function(n,s){return mn().memoizedState=[n,s===void 0?null:s],n},useContext:Hi,useEffect:gE,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Ig(4194308,4,bE.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ig(4194308,4,n,s)},useInsertionEffect:function(n,s){Ig(4,2,n,s)},useMemo:function(n,s){var l=mn();s=s===void 0?null:s;var u=n();if(Yl){hn(!0);try{n()}finally{hn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=mn();if(l!==void 0){var g=l(s);if(Yl){hn(!0);try{l(s)}finally{hn(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=vM.bind(null,$t,n),[u.memoizedState,n]},useRef:function(n){var s=mn();return n={current:n},s.memoizedState=n},useState:function(n){n=q0(n);var s=n.queue,l=kE.bind(null,$t,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:X0,useDeferredValue:function(n,s){var l=mn();return Y0(l,n,s)},useTransition:function(){var n=q0(!1);return n=EE.bind(null,$t,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=$t,g=mn();if(re){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Ce===null)throw Error(i(349));(ie&60)!==0||tE(u,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,gE(iE.bind(null,u,y,n),[n]),u.flags|=2048,Ju(9,eE.bind(null,u,y,l,s),{destroy:void 0},null),l},useId:function(){var n=mn(),s=Ce.identifierPrefix;if(re){var l=Wa,u=Ya;l=(u&~(1<<32-oi(u)-1)).toString(32)+l,s=":"+s+"R"+l,l=Dg++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=hM++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return mn().memoizedState=gM.bind(null,$t)}};Wl.useMemoCache=z0,Wl.useHostTransitionStatus=K0,Wl.useFormState=hE,Wl.useActionState=hE,Wl.useOptimistic=function(n){var s=mn();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Q0.bind(null,$t,!0,l),l.dispatch=s,[n,s]};var bo={readContext:Hi,use:Og,useCallback:_E,useContext:Hi,useEffect:$0,useImperativeHandle:AE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:wE,useReducer:Lg,useRef:mE,useState:function(){return Lg(Qa)},useDebugValue:X0,useDeferredValue:function(n,s){var l=ei();return xE(l,be.memoizedState,n,s)},useTransition:function(){var n=Lg(Qa)[0],s=ei().memoizedState;return[typeof n=="boolean"?n:pf(n),s]},useSyncExternalStore:Jx,useId:CE};bo.useCacheRefresh=RE,bo.useMemoCache=z0,bo.useHostTransitionStatus=K0,bo.useFormState=dE,bo.useActionState=dE,bo.useOptimistic=function(n,s){var l=ei();return aE(l,be,n,s)};var Kl={readContext:Hi,use:Og,useCallback:_E,useContext:Hi,useEffect:$0,useImperativeHandle:AE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:wE,useReducer:V0,useRef:mE,useState:function(){return V0(Qa)},useDebugValue:X0,useDeferredValue:function(n,s){var l=ei();return be===null?Y0(l,n,s):xE(l,be.memoizedState,n,s)},useTransition:function(){var n=V0(Qa)[0],s=ei().memoizedState;return[typeof n=="boolean"?n:pf(n),s]},useSyncExternalStore:Jx,useId:CE};Kl.useCacheRefresh=RE,Kl.useMemoCache=z0,Kl.useHostTransitionStatus=K0,Kl.useFormState=pE,Kl.useActionState=pE,Kl.useOptimistic=function(n,s){var l=ei();return be!==null?aE(l,be,n,s):(l.baseState=n,[n,l.queue.dispatch])};function Z0(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:j({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var J0={isMounted:function(n){return(n=n._reactInternals)?lt(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var u=In(),g=wo(u);g.payload=s,l!=null&&(g.callback=l),s=xo(n,g,u),s!==null&&(Ji(s,n,u),yf(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=In(),g=wo(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=xo(n,g,u),s!==null&&(Ji(s,n,u),yf(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=In(),u=wo(l);u.tag=2,s!=null&&(u.callback=s),s=xo(n,u,l),s!==null&&(Ji(s,n,l),yf(s,n,l))}};function OE(n,s,l,u,g,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,S):s.prototype&&s.prototype.isPureReactComponent?!ef(l,u)||!ef(g,y):!0}function LE(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&J0.enqueueReplaceState(s,s.state,null)}function Ql(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=j({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}var jg=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function IE(n){jg(n)}function NE(n){console.error(n)}function PE(n){jg(n)}function Fg(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function jE(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function tb(n,s,l){return l=wo(l),l.tag=3,l.payload={element:null},l.callback=function(){Fg(n,s)},l}function FE(n){return n=wo(n),n.tag=3,n}function UE(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){jE(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){jE(s,l,u),typeof g!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function yM(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&vf(s,l,g,!0),l=ns.current,l!==null){switch(l.tag){case 13:return la===null?Nb():l.alternate===null&&Ge===0&&(Ge=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===D0?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),jb(n,u,g)),!1;case 22:return l.flags|=65536,u===D0?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),jb(n,u,g)),!1}throw Error(i(435,l.tag))}return jb(n,u,g),Nb(),!1}if(re)return s=ns.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==k0&&(n=Error(i(422),{cause:u}),rf(ts(n,l)))):(u!==k0&&(s=Error(i(423),{cause:u}),rf(ts(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ts(u,l),g=tb(n.stateNode,u,g),mb(n,g),Ge!==4&&(Ge=2)),!1;var y=Error(i(520),{cause:u});if(y=ts(y,l),Tf===null?Tf=[y]:Tf.push(y),Ge!==4&&(Ge=2),s===null)return!0;u=ts(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=tb(l.stateNode,u,n),mb(l,n),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ko===null||!ko.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=FE(g),UE(g,n,l,u),mb(l,g),!1}l=l.return}while(l!==null);return!1}var HE=Error(i(461)),_i=!1;function Mi(n,s,l,u){s.child=n===null?Gx(s,null,l,u):$l(s,n.child,l,u)}function zE(n,s,l,u,g){l=l.render;var y=s.ref;if("ref"in u){var S={};for(var L in u)L!=="ref"&&(S[L]=u[L])}else S=u;return Jl(s),u=j0(n,s,l,S,y,g),L=F0(),n!==null&&!_i?(U0(n,s,g),Za(n,s,g)):(re&&L&&C0(s),s.flags|=1,Mi(n,s,u,g),s.child)}function BE(n,s,l,u,g){if(n===null){var y=l.type;return typeof y=="function"&&!xb(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,VE(n,s,y,u,g)):(n=Vg(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!cb(n,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:ef,l(S,u)&&n.ref===s.ref)return Za(n,s,g)}return s.flags|=1,n=Co(y,u),n.ref=s.ref,n.return=s,s.child=n}function VE(n,s,l,u,g){if(n!==null){var y=n.memoizedProps;if(ef(y,u)&&n.ref===s.ref)if(_i=!1,s.pendingProps=u=y,cb(n,g))(n.flags&131072)!==0&&(_i=!0);else return s.lanes=n.lanes,Za(n,s,g)}return eb(n,s,l,u,g)}function qE(n,s,l){var u=s.pendingProps,g=u.children,y=(s.stateNode._pendingVisibility&2)!==0,S=n!==null?n.memoizedState:null;if(gf(n,s),u.mode==="hidden"||y){if((s.flags&128)!==0){if(u=S!==null?S.baseLanes|l:l,n!==null){for(g=s.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return GE(n,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Rg(s,S!==null?S.cachePool:null),S!==null?$x(s,S):M0(),Xx(s);else return s.lanes=s.childLanes=536870912,GE(n,s,S!==null?S.baseLanes|l:l,l)}else S!==null?(Rg(s,S.cachePool),$x(s,S),vo(),s.memoizedState=null):(n!==null&&Rg(s,null),M0(),vo());return Mi(n,s,g,l),s.child}function GE(n,s,l,u){var g=N0();return g=g===null?null:{parent:ci._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},n!==null&&Rg(s,null),M0(),Xx(s),n!==null&&vf(n,s,u,!0),null}function gf(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=2097664)}}function eb(n,s,l,u,g){return Jl(s),l=j0(n,s,l,u,void 0,g),u=F0(),n!==null&&!_i?(U0(n,s,g),Za(n,s,g)):(re&&u&&C0(s),s.flags|=1,Mi(n,s,l,g),s.child)}function $E(n,s,l,u,g,y){return Jl(s),s.updateQueue=null,l=Zx(s,u,l,g),Qx(n),u=F0(),n!==null&&!_i?(U0(n,s,y),Za(n,s,y)):(re&&u&&C0(s),s.flags|=1,Mi(n,s,l,y),s.child)}function XE(n,s,l,u,g){if(Jl(s),s.stateNode===null){var y=qu,S=l.contextType;typeof S=="object"&&S!==null&&(y=Hi(S)),y=new l(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=J0,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},fb(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?Hi(S):qu,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Z0(s,l,S,u),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&J0.enqueueReplaceState(y,y.state,null),Af(s,u,y,g),bf(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var L=s.memoizedProps,B=Ql(l,L);y.props=B;var W=y.context,rt=l.contextType;S=qu,typeof rt=="object"&&rt!==null&&(S=Hi(rt));var ut=l.getDerivedStateFromProps;rt=typeof ut=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,rt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||W!==S)&&LE(s,y,u,S),_o=!1;var et=s.memoizedState;y.state=et,Af(s,u,y,g),bf(),W=s.memoizedState,L||et!==W||_o?(typeof ut=="function"&&(Z0(s,l,ut,u),W=s.memoizedState),(B=_o||OE(s,l,B,u,et,W,S))?(rt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),y.props=u,y.state=W,y.context=S,u=B):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,pb(n,s),S=s.memoizedProps,rt=Ql(l,S),y.props=rt,ut=s.pendingProps,et=y.context,W=l.contextType,B=qu,typeof W=="object"&&W!==null&&(B=Hi(W)),L=l.getDerivedStateFromProps,(W=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ut||et!==B)&&LE(s,y,u,B),_o=!1,et=s.memoizedState,y.state=et,Af(s,u,y,g),bf();var st=s.memoizedState;S!==ut||et!==st||_o||n!==null&&n.dependencies!==null&&Ug(n.dependencies)?(typeof L=="function"&&(Z0(s,l,L,u),st=s.memoizedState),(rt=_o||OE(s,l,rt,u,et,st,B)||n!==null&&n.dependencies!==null&&Ug(n.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,st,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,st,B)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=st),y.props=u,y.state=st,y.context=B,u=rt):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,gf(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=$l(s,n.child,null,g),s.child=$l(s,null,l,g)):Mi(n,s,l,g),s.memoizedState=y.state,n=s.child):n=Za(n,s,g),n}function YE(n,s,l,u){return af(),s.flags|=256,Mi(n,s,l,u),s.child}var ib={dehydrated:null,treeContext:null,retryLane:0};function nb(n){return{baseLanes:n,cachePool:Kx()}}function sb(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=os),n}function WE(n,s,l){var u=s.pendingProps,g=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(li.current&2)!==0),S&&(g=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(re){if(g?go(s):vo(),re){var L=Di,B;if(B=L){t:{for(B=L,L=oa;B.nodeType!==8;){if(!L){L=null;break t}if(B=Rs(B.nextSibling),B===null){L=null;break t}}L=B}L!==null?(s.memoizedState={dehydrated:L,treeContext:Vl!==null?{id:Ya,overflow:Wa}:null,retryLane:536870912},B=rs(18,null,null,0),B.stateNode=L,B.return=s,s.child=B,Zi=s,Di=null,B=!0):B=!1}B||Gl(s)}if(L=s.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return L.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ka(s)}return L=u.children,u=u.fallback,g?(vo(),g=s.mode,L=rb({mode:"hidden",children:L},g),u=ec(u,g,l,null),L.return=s,u.return=s,L.sibling=u,s.child=L,g=s.child,g.memoizedState=nb(l),g.childLanes=sb(n,S,l),s.memoizedState=ib,u):(go(s),ab(s,L))}if(B=n.memoizedState,B!==null&&(L=B.dehydrated,L!==null)){if(y)s.flags&256?(go(s),s.flags&=-257,s=ob(n,s,l)):s.memoizedState!==null?(vo(),s.child=n.child,s.flags|=128,s=null):(vo(),g=u.fallback,L=s.mode,u=rb({mode:"visible",children:u.children},L),g=ec(g,L,l,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,$l(s,n.child,null,l),u=s.child,u.memoizedState=nb(l),u.childLanes=sb(n,S,l),s.memoizedState=ib,s=g);else if(go(s),L.data==="$!"){if(S=L.nextSibling&&L.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(i(419)),u.stack="",u.digest=S,rf({value:u,source:null,stack:null}),s=ob(n,s,l)}else if(_i||vf(n,s,l,!1),S=(l&n.childLanes)!==0,_i||S){if(S=Ce,S!==null){if(u=l&-l,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==B.retryLane)throw B.retryLane=u,mo(n,u),Ji(S,n,u),HE}L.data==="$?"||Nb(),s=ob(n,s,l)}else L.data==="$?"?(s.flags|=128,s.child=n.child,s=LM.bind(null,n),L._reactRetry=s,s=null):(n=B.treeContext,Di=Rs(L.nextSibling),Zi=s,re=!0,Ts=null,oa=!1,n!==null&&(es[is++]=Ya,es[is++]=Wa,es[is++]=Vl,Ya=n.id,Wa=n.overflow,Vl=s),s=ab(s,u.children),s.flags|=4096);return s}return g?(vo(),g=u.fallback,L=s.mode,B=n.child,W=B.sibling,u=Co(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&31457280,W!==null?g=Co(W,g):(g=ec(g,L,l,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,L=n.child.memoizedState,L===null?L=nb(l):(B=L.cachePool,B!==null?(W=ci._currentValue,B=B.parent!==W?{parent:W,pool:W}:B):B=Kx(),L={baseLanes:L.baseLanes|l,cachePool:B}),g.memoizedState=L,g.childLanes=sb(n,S,l),s.memoizedState=ib,u):(go(s),l=n.child,n=l.sibling,l=Co(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=l,s.memoizedState=null,l)}function ab(n,s){return s=rb({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function rb(n,s){return _1(n,s,0,null)}function ob(n,s,l){return $l(s,n.child,null,l),n=ab(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function KE(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),hb(n.return,s,l)}function lb(n,s,l,u,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=g)}function QE(n,s,l){var u=s.pendingProps,g=u.revealOrder,y=u.tail;if(Mi(n,s,u.children,l),u=li.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&KE(n,l,s);else if(n.tag===19)KE(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Tt(li,u),g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&Cg(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),lb(s,!1,g,l,y);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&Cg(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}lb(s,!0,l,null,y);break;case"together":lb(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Za(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Ro|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(vf(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Co(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Co(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function cb(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ug(n)))}function bM(n,s,l){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Ao(s,ci,n.memoizedState.cache),af();break;case 27:case 5:ri(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Ao(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(go(s),s.flags|=128,null):(l&s.child.childLanes)!==0?WE(n,s,l):(go(s),n=Za(n,s,l),n!==null?n.sibling:null);go(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(vf(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return QE(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Tt(li,li.current),u)break;return null;case 22:case 23:return s.lanes=0,qE(n,s,l);case 24:Ao(s,ci,n.memoizedState.cache)}return Za(n,s,l)}function ZE(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)_i=!0;else{if(!cb(n,l)&&(s.flags&128)===0)return _i=!1,bM(n,s,l);_i=(n.flags&131072)!==0}else _i=!1,re&&(s.flags&1048576)!==0&&Px(s,wg,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var u=s.elementType,g=u._init;if(u=g(u._payload),s.type=u,typeof u=="function")xb(u)?(n=Ql(u,n),s.tag=1,s=XE(null,s,u,n,l)):(s.tag=0,s=eb(null,s,u,n,l));else{if(u!=null){if(g=u.$$typeof,g===E){s.tag=11,s=zE(null,s,u,n,l);break t}else if(g===k){s.tag=14,s=BE(null,s,u,n,l);break t}}throw s=M(u)||u,Error(i(306,s,""))}}return s;case 0:return eb(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Ql(u,s.pendingProps),XE(n,s,u,g,l);case 3:t:{if(ve(s,s.stateNode.containerInfo),n===null)throw Error(i(387));var y=s.pendingProps;g=s.memoizedState,u=g.element,pb(n,s),Af(s,y,null,l);var S=s.memoizedState;if(y=S.cache,Ao(s,ci,y),y!==g.cache&&db(s,[ci],l,!0),bf(),y=S.element,g.isDehydrated)if(g={element:y,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=YE(n,s,y,l);break t}else if(y!==u){u=ts(Error(i(424)),s),rf(u),s=YE(n,s,y,l);break t}else for(Di=Rs(s.stateNode.containerInfo.firstChild),Zi=s,re=!0,Ts=null,oa=!0,l=Gx(s,null,y,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(af(),y===u){s=Za(n,s,l);break t}Mi(n,s,y,l)}s=s.child}return s;case 26:return gf(n,s),n===null?(l=eS(s.type,null,s.pendingProps,null))?s.memoizedState=l:re||(l=s.type,n=s.pendingProps,u=ev(Ht.current).createElement(l),u[gi]=s,u[vi]=n,Oi(u,l,n),Ie(u),s.stateNode=u):s.memoizedState=eS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ri(s),n===null&&re&&(u=s.stateNode=Z1(s.type,s.pendingProps,Ht.current),Zi=s,oa=!0,Di=Rs(u.firstChild)),u=s.pendingProps.children,n!==null||re?Mi(n,s,u,l):s.child=$l(s,null,u,l),gf(n,s),s.child;case 5:return n===null&&re&&((g=u=Di)&&(u=WM(u,s.type,s.pendingProps,oa),u!==null?(s.stateNode=u,Zi=s,Di=Rs(u.firstChild),oa=!1,g=!0):g=!1),g||Gl(s)),ri(s),g=s.type,y=s.pendingProps,S=n!==null?n.memoizedProps:null,u=y.children,Wb(g,y)?u=null:S!==null&&Wb(g,S)&&(s.flags|=32),s.memoizedState!==null&&(g=j0(n,s,dM,null,null,l),Nf._currentValue=g),gf(n,s),Mi(n,s,u,l),s.child;case 6:return n===null&&re&&((n=l=Di)&&(l=KM(l,s.pendingProps,oa),l!==null?(s.stateNode=l,Zi=s,Di=null,n=!0):n=!1),n||Gl(s)),null;case 13:return WE(n,s,l);case 4:return ve(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=$l(s,null,u,l):Mi(n,s,u,l),s.child;case 11:return zE(n,s,s.type,s.pendingProps,l);case 7:return Mi(n,s,s.pendingProps,l),s.child;case 8:return Mi(n,s,s.pendingProps.children,l),s.child;case 12:return Mi(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ao(s,s.type,u.value),Mi(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Jl(s),g=Hi(g),u=u(g),s.flags|=1,Mi(n,s,u,l),s.child;case 14:return BE(n,s,s.type,s.pendingProps,l);case 15:return VE(n,s,s.type,s.pendingProps,l);case 19:return QE(n,s,l);case 22:return qE(n,s,l);case 24:return Jl(s),u=Hi(ci),n===null?(g=N0(),g===null&&(g=Ce,y=L0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:u,cache:g},fb(s),Ao(s,ci,g)):((n.lanes&l)!==0&&(pb(n,s),Af(s,null,null,l),bf()),g=n.memoizedState,y=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ao(s,ci,u)):(u=y.cache,Ao(s,ci,u),u!==g.cache&&db(s,[ci],l,!0))),Mi(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var ub=It(null),Zl=null,Ja=null;function Ao(n,s,l){Tt(ub,s._currentValue),s._currentValue=l}function tr(n){n._currentValue=ub.current,Kt(ub)}function hb(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function db(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;t:for(;y!==null;){var L=y;y=g;for(var B=0;B<s.length;B++)if(L.context===s[B]){y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),hb(y.return,l,n),u||(S=null);break t}y=L.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(i(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),hb(S,l,n),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===n){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function vf(n,s,l,u){n=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var L=g.type;Dn(g.pendingProps.value,S.value)||(n!==null?n.push(L):n=[L])}}else if(g===se.current){if(S=g.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Nf):n=[Nf])}g=g.return}n!==null&&db(s,n,l,u),s.flags|=262144}function Ug(n){for(n=n.firstContext;n!==null;){if(!Dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Jl(n){Zl=n,Ja=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Hi(n){return JE(Zl,n)}function Hg(n,s){return Zl===null&&Jl(n),JE(n,s)}function JE(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ja===null){if(n===null)throw Error(i(308));Ja=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ja=Ja.next=s;return l}var _o=!1;function fb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pb(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wo(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xo(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Ag(n),Ix(n,null,l),s}return bg(n,u,s,l),Ag(n)}function yf(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,io(n,l)}}function mb(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var gb=!1;function bf(){if(gb){var n=Ku;if(n!==null)throw n}}function Af(n,s,l,u){gb=!1;var g=n.updateQueue;_o=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var B=L,W=B.next;B.next=null,S===null?y=W:S.next=W,S=B;var rt=n.alternate;rt!==null&&(rt=rt.updateQueue,L=rt.lastBaseUpdate,L!==S&&(L===null?rt.firstBaseUpdate=W:L.next=W,rt.lastBaseUpdate=B))}if(y!==null){var ut=g.baseState;S=0,rt=W=B=null,L=y;do{var et=L.lane&-536870913,st=et!==L.lane;if(st?(ie&et)===et:(u&et)===et){et!==0&&et===Wu&&(gb=!0),rt!==null&&(rt=rt.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var Ct=n,Ft=L;et=s;var $e=l;switch(Ft.tag){case 1:if(Ct=Ft.payload,typeof Ct=="function"){ut=Ct.call($e,ut,et);break t}ut=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Ft.payload,et=typeof Ct=="function"?Ct.call($e,ut,et):Ct,et==null)break t;ut=j({},ut,et);break t;case 2:_o=!0}}et=L.callback,et!==null&&(n.flags|=64,st&&(n.flags|=8192),st=g.callbacks,st===null?g.callbacks=[et]:st.push(et))}else st={lane:et,tag:L.tag,payload:L.payload,callback:L.callback,next:null},rt===null?(W=rt=st,B=ut):rt=rt.next=st,S|=et;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;st=L,L=st.next,st.next=null,g.lastBaseUpdate=st,g.shared.pending=null}}while(!0);rt===null&&(B=ut),g.baseState=B,g.firstBaseUpdate=W,g.lastBaseUpdate=rt,y===null&&(g.shared.lanes=0),Ro|=S,n.lanes=S,n.memoizedState=ut}}function t1(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function e1(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)t1(l[n],s)}function _f(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var y=l.create,S=l.inst;u=y(),S.destroy=u}l=l.next}while(l!==g)}}catch(L){xe(s,s.return,L)}}function Eo(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var S=u.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,g=s;var B=l;try{L()}catch(W){xe(g,B,W)}}}u=u.next}while(u!==y)}}catch(W){xe(s,s.return,W)}}function i1(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{e1(s,l)}catch(u){xe(n,n.return,u)}}}function n1(n,s,l){l.props=Ql(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){xe(n,s,u)}}function tc(n,s){try{var l=n.ref;if(l!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var g=u;break;default:g=u}typeof l=="function"?n.refCleanup=l(g):l.current=g}}catch(y){xe(n,s,y)}}function Mn(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){xe(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){xe(n,s,g)}else l.current=null}function s1(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){xe(n,n.return,g)}}function a1(n,s,l){try{var u=n.stateNode;qM(u,n.type,l,s),u[vi]=s}catch(g){xe(n,n.return,g)}}function r1(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function vb(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||r1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yb(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=tv));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(yb(n,s,l),n=n.sibling;n!==null;)yb(n,s,l),n=n.sibling}function zg(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(zg(n,s,l),n=n.sibling;n!==null;)zg(n,s,l),n=n.sibling}var er=!1,qe=!1,bb=!1,o1=typeof WeakSet=="function"?WeakSet:Set,wi=null,l1=!1;function AM(n,s){if(n=n.containerInfo,Xb=ov,n=Sx(n),_0(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var S=0,L=-1,B=-1,W=0,rt=0,ut=n,et=null;e:for(;;){for(var st;ut!==l||g!==0&&ut.nodeType!==3||(L=S+g),ut!==y||u!==0&&ut.nodeType!==3||(B=S+u),ut.nodeType===3&&(S+=ut.nodeValue.length),(st=ut.firstChild)!==null;)et=ut,ut=st;for(;;){if(ut===n)break e;if(et===l&&++W===g&&(L=S),et===y&&++rt===u&&(B=S),(st=ut.nextSibling)!==null)break;ut=et,et=ut.parentNode}ut=st}l=L===-1||B===-1?null:{start:L,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yb={focusedElem:n,selectionRange:l},ov=!1,wi=s;wi!==null;)if(s=wi,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,wi=n;else for(;wi!==null;){switch(s=wi,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ct=Ql(l.type,g,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(Ct,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ft){xe(l,l.return,Ft)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Zb(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,wi=n;break}wi=s.return}return Ct=l1,l1=!1,Ct}function c1(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:nr(n,l),u&4&&_f(5,l);break;case 1:if(nr(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(L){xe(l,l.return,L)}else{var g=Ql(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(L){xe(l,l.return,L)}}u&64&&i1(l),u&512&&tc(l,l.return);break;case 3:if(nr(n,l),u&64&&(u=l.updateQueue,u!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{e1(u,n)}catch(L){xe(l,l.return,L)}}break;case 26:nr(n,l),u&512&&tc(l,l.return);break;case 27:case 5:nr(n,l),s===null&&u&4&&s1(l),u&512&&tc(l,l.return);break;case 12:nr(n,l);break;case 13:nr(n,l),u&4&&d1(n,l);break;case 22:if(g=l.memoizedState!==null||er,!g){s=s!==null&&s.memoizedState!==null||qe;var y=er,S=qe;er=g,(qe=s)&&!S?So(n,l,(l.subtreeFlags&8772)!==0):nr(n,l),er=y,qe=S}u&512&&(l.memoizedProps.mode==="manual"?tc(l,l.return):Mn(l,l.return));break;default:nr(n,l)}}function u1(n){var s=n.alternate;s!==null&&(n.alternate=null,u1(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Dl(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ii=null,On=!1;function ir(n,s,l){for(l=l.child;l!==null;)h1(n,s,l),l=l.sibling}function h1(n,s,l){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Xn,l)}catch{}switch(l.tag){case 26:qe||Mn(l,s),ir(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||Mn(l,s);var u=ii,g=On;for(ii=l.stateNode,ir(n,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);Dl(l),ii=u,On=g;break;case 5:qe||Mn(l,s);case 6:g=ii;var y=On;if(ii=null,ir(n,s,l),ii=g,On=y,ii!==null)if(On)try{n=ii,u=l.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(S){xe(l,s,S)}else try{ii.removeChild(l.stateNode)}catch(S){xe(l,s,S)}break;case 18:ii!==null&&(On?(s=ii,l=l.stateNode,s.nodeType===8?Qb(s.parentNode,l):s.nodeType===1&&Qb(s,l),Uf(s)):Qb(ii,l.stateNode));break;case 4:u=ii,g=On,ii=l.stateNode.containerInfo,On=!0,ir(n,s,l),ii=u,On=g;break;case 0:case 11:case 14:case 15:qe||Eo(2,l,s),qe||Eo(4,l,s),ir(n,s,l);break;case 1:qe||(Mn(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&n1(l,s,u)),ir(n,s,l);break;case 21:ir(n,s,l);break;case 22:qe||Mn(l,s),qe=(u=qe)||l.memoizedState!==null,ir(n,s,l),qe=u;break;default:ir(n,s,l)}}function d1(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Uf(n)}catch(l){xe(s,s.return,l)}}function _M(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new o1),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new o1),s;default:throw Error(i(435,n.tag))}}function Ab(n,s){var l=_M(n);s.forEach(function(u){var g=IM.bind(null,n,u);l.has(u)||(l.add(u),u.then(g,g))})}function ss(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],y=n,S=s,L=S;t:for(;L!==null;){switch(L.tag){case 27:case 5:ii=L.stateNode,On=!1;break t;case 3:ii=L.stateNode.containerInfo,On=!0;break t;case 4:ii=L.stateNode.containerInfo,On=!0;break t}L=L.return}if(ii===null)throw Error(i(160));h1(y,S,g),ii=null,On=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)f1(s,n),s=s.sibling}var Cs=null;function f1(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ss(s,n),as(n),u&4&&(Eo(3,n,n.return),_f(3,n),Eo(5,n,n.return));break;case 1:ss(s,n),as(n),u&512&&(qe||l===null||Mn(l,l.return)),u&64&&er&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Cs;if(ss(s,n),as(n),u&512&&(qe||l===null||Mn(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){t:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ao]||y[gi]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Oi(y,u,l),y[gi]=n,Ie(y),u=y;break t;case"link":var S=sS("link","href",g).get(u+(l.href||""));if(S){for(var L=0;L<S.length;L++)if(y=S[L],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(L,1);break e}}y=g.createElement(u),Oi(y,u,l),g.head.appendChild(y);break;case"meta":if(S=sS("meta","content",g).get(u+(l.content||""))){for(L=0;L<S.length;L++)if(y=S[L],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(L,1);break e}}y=g.createElement(u),Oi(y,u,l),g.head.appendChild(y);break;default:throw Error(i(468,u))}y[gi]=n,Ie(y),u=y}n.stateNode=u}else aS(g,n.type,n.stateNode);else n.stateNode=nS(g,u,n.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?aS(g,n.type,n.stateNode):nS(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&a1(n,n.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){g=n.stateNode,y=n.memoizedProps;try{for(var B=g.firstChild;B;){var W=B.nextSibling,rt=B.nodeName;B[ao]||rt==="HEAD"||rt==="BODY"||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&B.rel.toLowerCase()==="stylesheet"||g.removeChild(B),B=W}for(var ut=n.type,et=g.attributes;et.length;)g.removeAttributeNode(et[0]);Oi(g,ut,y),g[gi]=n,g[vi]=y}catch(Ct){xe(n,n.return,Ct)}}case 5:if(ss(s,n),as(n),u&512&&(qe||l===null||Mn(l,l.return)),n.flags&32){g=n.stateNode;try{Wn(g,"")}catch(Ct){xe(n,n.return,Ct)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,a1(n,g,l!==null?l.memoizedProps:g)),u&1024&&(bb=!0);break;case 6:if(ss(s,n),as(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(Ct){xe(n,n.return,Ct)}}break;case 3:if(sv=null,g=Cs,Cs=iv(s.containerInfo),ss(s,n),Cs=g,as(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Uf(s.containerInfo)}catch(Ct){xe(n,n.return,Ct)}bb&&(bb=!1,p1(n));break;case 4:u=Cs,Cs=iv(n.stateNode.containerInfo),ss(s,n),as(n),Cs=u;break;case 12:ss(s,n),as(n);break;case 13:ss(s,n),as(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kb=gt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ab(n,u)));break;case 22:if(u&512&&(qe||l===null||Mn(l,l.return)),B=n.memoizedState!==null,W=l!==null&&l.memoizedState!==null,rt=er,ut=qe,er=rt||B,qe=ut||W,ss(s,n),qe=ut,er=rt,as(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=B?s._visibility&-2:s._visibility|1,B&&(s=er||qe,l===null||W||s||th(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(l=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){W=l=s;try{if(g=W.stateNode,B)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=W.stateNode,L=W.memoizedProps.style;var st=L!=null&&L.hasOwnProperty("display")?L.display:null;S.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(Ct){xe(W,W.return,Ct)}}}else if(s.tag===6){if(l===null){W=s;try{W.stateNode.nodeValue=B?"":W.memoizedProps}catch(Ct){xe(W,W.return,Ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ab(n,l))));break;case 19:ss(s,n),as(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ab(n,u)));break;case 21:break;default:ss(s,n),as(n)}}function as(n){var s=n.flags;if(s&2){try{if(n.tag!==27){t:{for(var l=n.return;l!==null;){if(r1(l)){var u=l;break t}l=l.return}throw Error(i(160))}switch(u.tag){case 27:var g=u.stateNode,y=vb(n);zg(n,y,g);break;case 5:var S=u.stateNode;u.flags&32&&(Wn(S,""),u.flags&=-33);var L=vb(n);zg(n,L,S);break;case 3:case 4:var B=u.stateNode.containerInfo,W=vb(n);yb(n,W,B);break;default:throw Error(i(161))}}}catch(rt){xe(n,n.return,rt)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function p1(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;p1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function nr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)c1(n,s.alternate,s),s=s.sibling}function th(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Eo(4,s,s.return),th(s);break;case 1:Mn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&n1(s,s.return,l),th(s);break;case 26:case 27:case 5:Mn(s,s.return),th(s);break;case 22:Mn(s,s.return),s.memoizedState===null&&th(s);break;default:th(s)}n=n.sibling}}function So(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:So(g,y,l),_f(4,y);break;case 1:if(So(g,y,l),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){xe(u,u.return,W)}if(u=y,g=u.updateQueue,g!==null){var L=u.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)t1(B[g],L)}catch(W){xe(u,u.return,W)}}l&&S&64&&i1(y),tc(y,y.return);break;case 26:case 27:case 5:So(g,y,l),l&&u===null&&S&4&&s1(y),tc(y,y.return);break;case 12:So(g,y,l);break;case 13:So(g,y,l),l&&S&4&&d1(g,y);break;case 22:y.memoizedState===null&&So(g,y,l),tc(y,y.return);break;default:So(g,y,l)}s=s.sibling}}function _b(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&hf(l))}function wb(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&hf(n))}function To(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m1(n,s,l,u),s=s.sibling}function m1(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:To(n,s,l,u),g&2048&&_f(9,s);break;case 3:To(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&hf(n)));break;case 12:if(g&2048){To(n,s,l,u),n=s.stateNode;try{var y=s.memoizedProps,S=y.id,L=y.onPostCommit;typeof L=="function"&&L(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(B){xe(s,s.return,B)}}else To(n,s,l,u);break;case 23:break;case 22:y=s.stateNode,s.memoizedState!==null?y._visibility&4?To(n,s,l,u):wf(n,s):y._visibility&4?To(n,s,l,u):(y._visibility|=4,eh(n,s,l,u,(s.subtreeFlags&10256)!==0)),g&2048&&_b(s.alternate,s);break;case 24:To(n,s,l,u),g&2048&&wb(s.alternate,s);break;default:To(n,s,l,u)}}function eh(n,s,l,u,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,S=s,L=l,B=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:eh(y,S,L,B,g),_f(8,S);break;case 23:break;case 22:var rt=S.stateNode;S.memoizedState!==null?rt._visibility&4?eh(y,S,L,B,g):wf(y,S):(rt._visibility|=4,eh(y,S,L,B,g)),g&&W&2048&&_b(S.alternate,S);break;case 24:eh(y,S,L,B,g),g&&W&2048&&wb(S.alternate,S);break;default:eh(y,S,L,B,g)}s=s.sibling}}function wf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:wf(l,u),g&2048&&_b(u.alternate,u);break;case 24:wf(l,u),g&2048&&wb(u.alternate,u);break;default:wf(l,u)}s=s.sibling}}var xf=8192;function ih(n){if(n.subtreeFlags&xf)for(n=n.child;n!==null;)g1(n),n=n.sibling}function g1(n){switch(n.tag){case 26:ih(n),n.flags&xf&&n.memoizedState!==null&&cO(Cs,n.memoizedState,n.memoizedProps);break;case 5:ih(n);break;case 3:case 4:var s=Cs;Cs=iv(n.stateNode.containerInfo),ih(n),Cs=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=xf,xf=16777216,ih(n),xf=s):ih(n));break;default:ih(n)}}function v1(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ef(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];wi=u,b1(u,n)}v1(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)y1(n),n=n.sibling}function y1(n){switch(n.tag){case 0:case 11:case 15:Ef(n),n.flags&2048&&Eo(9,n,n.return);break;case 3:Ef(n);break;case 12:Ef(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,Bg(n)):Ef(n);break;default:Ef(n)}}function Bg(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];wi=u,b1(u,n)}v1(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Eo(8,s,s.return),Bg(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,Bg(s));break;default:Bg(s)}n=n.sibling}}function b1(n,s){for(;wi!==null;){var l=wi;switch(l.tag){case 0:case 11:case 15:Eo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hf(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,wi=u;else t:for(l=n;wi!==null;){u=wi;var g=u.sibling,y=u.return;if(u1(u),u===l){wi=null;break t}if(g!==null){g.return=y,wi=g;break t}wi=y}}}function wM(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(n,s,l,u){return new wM(n,s,l,u)}function xb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Co(n,s){var l=n.alternate;return l===null?(l=rs(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&31457280,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function A1(n,s){n.flags&=31457282;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Vg(n,s,l,u,g,y){var S=0;if(u=n,typeof n=="function")xb(n)&&(S=1);else if(typeof n=="string")S=oO(n,l,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case d:return ec(l.children,g,y,s);case m:S=8,g|=24;break;case v:return n=rs(12,l,s,g|2),n.elementType=v,n.lanes=y,n;case C:return n=rs(13,l,s,g),n.elementType=C,n.lanes=y,n;case I:return n=rs(19,l,s,g),n.elementType=I,n.lanes=y,n;case V:return _1(l,g,y,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case w:S=10;break t;case A:S=9;break t;case E:S=11;break t;case k:S=14;break t;case z:S=16,u=null;break t}S=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=rs(S,l,s,g),s.elementType=n,s.type=u,s.lanes=y,s}function ec(n,s,l,u){return n=rs(7,n,u,s),n.lanes=l,n}function _1(n,s,l,u){n=rs(22,n,u,s),n.elementType=V,n.lanes=l;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=g._current;if(y===null)throw Error(i(456));if((g._pendingVisibility&2)===0){var S=mo(y,2);S!==null&&(g._pendingVisibility|=2,Ji(S,y,2))}},attach:function(){var y=g._current;if(y===null)throw Error(i(456));if((g._pendingVisibility&2)!==0){var S=mo(y,2);S!==null&&(g._pendingVisibility&=-3,Ji(S,y,2))}}};return n.stateNode=g,n}function Eb(n,s,l){return n=rs(6,n,null,s),n.lanes=l,n}function Sb(n,s,l){return s=rs(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function sr(n){n.flags|=4}function w1(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rS(s)){if(s=ns.current,s!==null&&((ie&4194176)===ie?la!==null:(ie&62914560)!==ie&&(ie&536870912)===0||s!==la))throw lf=D0,Ux;n.flags|=8192}}function qg(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?to():536870912,n.lanes|=s,sh|=s)}function Sf(n,s){if(!re)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ne(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&31457280,u|=g.flags&31457280,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function xM(n,s,l){var u=s.pendingProps;switch(R0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(s),null;case 1:return Ne(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),tr(ci),le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(sf(s)?sr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ts!==null&&(Lb(Ts),Ts=null))),Ne(s),null;case 26:return l=s.memoizedState,n===null?(sr(s),l!==null?(Ne(s),w1(s,l)):(Ne(s),s.flags&=-16777217)):l?l!==n.memoizedState?(sr(s),Ne(s),w1(s,l)):(Ne(s),s.flags&=-16777217):(n.memoizedProps!==u&&sr(s),Ne(s),s.flags&=-16777217),null;case 27:Fi(s),l=Ht.current;var g=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ne(s),null}n=Te.current,sf(s)?jx(s):(n=Z1(g,u,l),s.stateNode=n,sr(s))}return Ne(s),null;case 5:if(Fi(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Ne(s),null}if(n=Te.current,sf(s))jx(s);else{switch(g=ev(Ht.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}n[gi]=s,n[vi]=u;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=n;t:switch(Oi(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&sr(s)}}return Ne(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&sr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Ht.current,sf(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=Zi,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[gi]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||$1(n.nodeValue,l)),n||Gl(s)}else n=ev(n).createTextNode(u),n[gi]=s,s.stateNode=n}return Ne(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=sf(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[gi]=s}else af(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ne(s),g=!1}else Ts!==null&&(Lb(Ts),Ts=null),g=!0;if(!g)return s.flags&256?(Ka(s),s):(Ka(s),null)}if(Ka(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),qg(s,s.updateQueue),Ne(s),null;case 4:return le(),n===null&&qb(s.stateNode.containerInfo),Ne(s),null;case 10:return tr(s.type),Ne(s),null;case 19:if(Kt(li),g=s.memoizedState,g===null)return Ne(s),null;if(u=(s.flags&128)!==0,y=g.rendering,y===null)if(u)Sf(g,!1);else{if(Ge!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Cg(n),y!==null){for(s.flags|=128,Sf(g,!1),n=y.updateQueue,s.updateQueue=n,qg(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)A1(l,n),l=l.sibling;return Tt(li,li.current&1|2),s.child}n=n.sibling}g.tail!==null&&gt()>Gg&&(s.flags|=128,u=!0,Sf(g,!1),s.lanes=4194304)}else{if(!u)if(n=Cg(y),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,qg(s,n),Sf(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!re)return Ne(s),null}else 2*gt()-g.renderingStartTime>Gg&&l!==536870912&&(s.flags|=128,u=!0,Sf(g,!1),s.lanes=4194304);g.isBackwards?(y.sibling=s.child,s.child=y):(n=g.last,n!==null?n.sibling=y:s.child=y,g.last=y)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=gt(),s.sibling=null,n=li.current,Tt(li,u?n&1|2:n&1),s):(Ne(s),null);case 22:case 23:return Ka(s),O0(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Ne(s),s.subtreeFlags&6&&(s.flags|=8192)):Ne(s),l=s.updateQueue,l!==null&&qg(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&Kt(Xl),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),tr(ci),Ne(s),null;case 25:return null}throw Error(i(156,s.tag))}function EM(n,s){switch(R0(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return tr(ci),le(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Fi(s),null;case 13:if(Ka(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));af()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Kt(li),null;case 4:return le(),null;case 10:return tr(s.type),null;case 22:case 23:return Ka(s),O0(),n!==null&&Kt(Xl),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return tr(ci),null;case 25:return null;default:return null}}function x1(n,s){switch(R0(s),s.tag){case 3:tr(ci),le();break;case 26:case 27:case 5:Fi(s);break;case 4:le();break;case 13:Ka(s);break;case 19:Kt(li);break;case 10:tr(s.type);break;case 22:case 23:Ka(s),O0(),n!==null&&Kt(Xl);break;case 24:tr(ci)}}var SM={getCacheForType:function(n){var s=Hi(ci),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},TM=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ce=null,Qt=null,ie=0,Re=0,Ln=null,ar=!1,nh=!1,Tb=!1,rr=0,Ge=0,Ro=0,ic=0,Cb=0,os=0,sh=0,Tf=null,ua=null,Rb=!1,kb=0,Gg=1/0,$g=null,ko=null,Xg=!1,nc=null,Cf=0,Db=0,Mb=null,Rf=0,Ob=null;function In(){if((Pe&2)!==0&&ie!==0)return ie&-ie;if(D.T!==null){var n=Wu;return n!==0?n:Hb()}return Jm()}function E1(){os===0&&(os=(ie&536870912)===0||re?Hd():536870912);var n=ns.current;return n!==null&&(n.flags|=32),os}function Ji(n,s,l){(n===Ce&&Re===2||n.cancelPendingCommit!==null)&&(ah(n,0),or(n,ie,os,!1)),Ke(n,l),((Pe&2)===0||n!==Ce)&&(n===Ce&&((Pe&2)===0&&(ic|=l),Ge===4&&or(n,ie,os,!1)),ha(n))}function S1(n,s,l){if((Pe&6)!==0)throw Error(i(327));var u=!l&&(s&60)===0&&(s&n.expiredLanes)===0||Jr(n,s),g=u?kM(n,s):Pb(n,s,!0),y=u;do{if(g===0){nh&&!u&&or(n,s,0,!1);break}else if(g===6)or(n,s,0,!ar);else{if(l=n.current.alternate,y&&!CM(l)){g=Pb(n,s,!1),y=!1;continue}if(g===2){if(y=s,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var L=n;g=Tf;var B=L.current.memoizedState.isDehydrated;if(B&&(ah(L,S).flags|=256),S=Pb(L,S,!1),S!==2){if(Tb&&!B){L.errorRecoveryDisabledLanes|=y,ic|=y,g=4;break t}y=ua,ua=g,y!==null&&Lb(y)}g=S}if(y=!1,g!==2)continue}}if(g===1){ah(n,0),or(n,s,0,!0);break}t:{switch(u=n,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){or(u,s,os,!ar);break t}break;case 2:ua=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=l,u.finishedLanes=s,(s&62914560)===s&&(y=kb+300-gt(),10<y)){if(or(u,s,os,!ar),xs(u,0)!==0)break t;u.timeoutHandle=W1(T1.bind(null,u,l,ua,$g,Rb,s,os,ic,sh,ar,2,-0,0),y);break t}T1(u,l,ua,$g,Rb,s,os,ic,sh,ar,0,-0,0)}}break}while(!0);ha(n)}function Lb(n){ua===null?ua=n:ua.push.apply(ua,n)}function T1(n,s,l,u,g,y,S,L,B,W,rt,ut,et){var st=s.subtreeFlags;if((st&8192||(st&16785408)===16785408)&&(If={stylesheets:null,count:0,unsuspend:lO},g1(s),s=uO(),s!==null)){n.cancelPendingCommit=s(L1.bind(null,n,l,u,g,S,L,B,1,ut,et)),or(n,y,S,!W);return}L1(n,l,u,g,S,L,B,rt,ut,et)}function CM(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],y=g.getSnapshot;g=g.value;try{if(!Dn(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function or(n,s,l,u){s&=~Cb,s&=~ic,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var y=31-oi(g),S=1<<y;u[y]=-1,g&=~S}l!==0&&eo(n,l,s)}function Yg(){return(Pe&6)===0?(kf(0),!1):!0}function Ib(){if(Qt!==null){if(Re===0)var n=Qt.return;else n=Qt,Ja=Zl=null,H0(n),Xu=null,cf=0,n=Qt;for(;n!==null;)x1(n.alternate,n),n=n.return;Qt=null}}function ah(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,$M(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ib(),Ce=n,Qt=l=Co(n.current,null),ie=s,Re=0,Ln=null,ar=!1,nh=Jr(n,s),Tb=!1,sh=os=Cb=ic=Ro=Ge=0,ua=Tf=null,Rb=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-oi(u),y=1<<g;s|=n[g],u&=~y}return rr=s,yg(),l}function C1(n,s){$t=null,D.H=ca,s===of?(s=Bx(),Re=3):s===Ux?(s=Bx(),Re=4):Re=s===HE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Qt===null&&(Ge=1,Fg(n,ts(s,n.current)))}function R1(){var n=D.H;return D.H=ca,n===null?ca:n}function k1(){var n=D.A;return D.A=SM,n}function Nb(){Ge=4,ar||(ie&4194176)!==ie&&ns.current!==null||(nh=!0),(Ro&134217727)===0&&(ic&134217727)===0||Ce===null||or(Ce,ie,os,!1)}function Pb(n,s,l){var u=Pe;Pe|=2;var g=R1(),y=k1();(Ce!==n||ie!==s)&&($g=null,ah(n,s)),s=!1;var S=Ge;t:do try{if(Re!==0&&Qt!==null){var L=Qt,B=Ln;switch(Re){case 8:Ib(),S=6;break t;case 3:case 2:case 6:ns.current===null&&(s=!0);var W=Re;if(Re=0,Ln=null,rh(n,L,B,W),l&&nh){S=0;break t}break;default:W=Re,Re=0,Ln=null,rh(n,L,B,W)}}RM(),S=Ge;break}catch(rt){C1(n,rt)}while(!0);return s&&n.shellSuspendCounter++,Ja=Zl=null,Pe=u,D.H=g,D.A=y,Qt===null&&(Ce=null,ie=0,yg()),S}function RM(){for(;Qt!==null;)D1(Qt)}function kM(n,s){var l=Pe;Pe|=2;var u=R1(),g=k1();Ce!==n||ie!==s?($g=null,Gg=gt()+500,ah(n,s)):nh=Jr(n,s);t:do try{if(Re!==0&&Qt!==null){s=Qt;var y=Ln;e:switch(Re){case 1:Re=0,Ln=null,rh(n,s,y,1);break;case 2:if(Hx(y)){Re=0,Ln=null,M1(s);break}s=function(){Re===2&&Ce===n&&(Re=7),ha(n)},y.then(s,s);break t;case 3:Re=7;break t;case 4:Re=5;break t;case 7:Hx(y)?(Re=0,Ln=null,M1(s)):(Re=0,Ln=null,rh(n,s,y,7));break;case 5:var S=null;switch(Qt.tag){case 26:S=Qt.memoizedState;case 5:case 27:var L=Qt;if(!S||rS(S)){Re=0,Ln=null;var B=L.sibling;if(B!==null)Qt=B;else{var W=L.return;W!==null?(Qt=W,Wg(W)):Qt=null}break e}}Re=0,Ln=null,rh(n,s,y,5);break;case 6:Re=0,Ln=null,rh(n,s,y,6);break;case 8:Ib(),Ge=6;break t;default:throw Error(i(462))}}DM();break}catch(rt){C1(n,rt)}while(!0);return Ja=Zl=null,D.H=u,D.A=g,Pe=l,Qt!==null?0:(Ce=null,ie=0,yg(),Ge)}function DM(){for(;Qt!==null&&!Cl();)D1(Qt)}function D1(n){var s=ZE(n.alternate,n,rr);n.memoizedProps=n.pendingProps,s===null?Wg(n):Qt=s}function M1(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=$E(l,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=$E(l,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:H0(s);default:x1(l,s),s=Qt=A1(s,rr),s=ZE(l,s,rr)}n.memoizedProps=n.pendingProps,s===null?Wg(n):Qt=s}function rh(n,s,l,u){Ja=Zl=null,H0(s),Xu=null,cf=0;var g=s.return;try{if(yM(n,g,s,l,ie)){Ge=1,Fg(n,ts(l,n.current)),Qt=null;return}}catch(y){if(g!==null)throw Qt=g,y;Ge=1,Fg(n,ts(l,n.current)),Qt=null;return}s.flags&32768?(re||u===1?n=!0:nh||(ie&536870912)!==0?n=!1:(ar=n=!0,(u===2||u===3||u===6)&&(u=ns.current,u!==null&&u.tag===13&&(u.flags|=16384))),O1(s,n)):Wg(s)}function Wg(n){var s=n;do{if((s.flags&32768)!==0){O1(s,ar);return}n=s.return;var l=xM(s.alternate,s,rr);if(l!==null){Qt=l;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=n}while(s!==null);Ge===0&&(Ge=5)}function O1(n,s){do{var l=EM(n.alternate,n);if(l!==null){l.flags&=32767,Qt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Qt=n;return}Qt=n=l}while(n!==null);Ge=6,Qt=null}function L1(n,s,l,u,g,y,S,L,B,W){var rt=D.T,ut=pt.p;try{pt.p=2,D.T=null,MM(n,s,l,u,ut,g,y,S,L,B,W)}finally{D.T=rt,pt.p=ut}}function MM(n,s,l,u,g,y,S,L){do oh();while(nc!==null);if((Pe&6)!==0)throw Error(i(327));var B=n.finishedWork;if(u=n.finishedLanes,B===null)return null;if(n.finishedWork=null,n.finishedLanes=0,B===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var W=B.lanes|B.childLanes;if(W|=S0,Qm(n,u,W,y,S,L),n===Ce&&(Qt=Ce=null,ie=0),(B.subtreeFlags&10256)===0&&(B.flags&10256)===0||Xg||(Xg=!0,Db=W,Mb=l,NM(ye,function(){return oh(),null})),l=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||l?(l=D.T,D.T=null,y=pt.p,pt.p=2,S=Pe,Pe|=4,AM(n,B),f1(B,n),eM(Yb,n.containerInfo),ov=!!Xb,Yb=Xb=null,n.current=B,c1(n,B.alternate,B),Pa(),Pe=S,pt.p=y,D.T=l):n.current=B,Xg?(Xg=!1,nc=n,Cf=u):I1(n,W),W=n.pendingLanes,W===0&&(ko=null),ja(B.stateNode),ha(n),s!==null)for(g=n.onRecoverableError,B=0;B<s.length;B++)W=s[B],g(W.value,{componentStack:W.stack});return(Cf&3)!==0&&oh(),W=n.pendingLanes,(u&4194218)!==0&&(W&42)!==0?n===Ob?Rf++:(Rf=0,Ob=n):Rf=0,kf(0),null}function I1(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,hf(s)))}function oh(){if(nc!==null){var n=nc,s=Db;Db=0;var l=Zm(Cf),u=D.T,g=pt.p;try{if(pt.p=32>l?32:l,D.T=null,nc===null)var y=!1;else{l=Mb,Mb=null;var S=nc,L=Cf;if(nc=null,Cf=0,(Pe&6)!==0)throw Error(i(331));var B=Pe;if(Pe|=4,y1(S.current),m1(S,S.current,L,l),Pe=B,kf(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Xn,S)}catch{}y=!0}return y}finally{pt.p=g,D.T=u,I1(n,s)}}return!1}function N1(n,s,l){s=ts(l,s),s=tb(n.stateNode,s,2),n=xo(n,s,2),n!==null&&(Ke(n,2),ha(n))}function xe(n,s,l){if(n.tag===3)N1(n,n,l);else for(;s!==null;){if(s.tag===3){N1(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ko===null||!ko.has(u))){n=ts(l,n),l=FE(2),u=xo(s,l,2),u!==null&&(UE(l,u,s,n),Ke(u,2),ha(u));break}}s=s.return}}function jb(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new TM;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(Tb=!0,g.add(l),n=OM.bind(null,n,s,l),s.then(n,n))}function OM(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ce===n&&(ie&l)===l&&(Ge===4||Ge===3&&(ie&62914560)===ie&&300>gt()-kb?(Pe&2)===0&&ah(n,0):Cb|=l,sh===ie&&(sh=0)),ha(n)}function P1(n,s){s===0&&(s=to()),n=mo(n,s),n!==null&&(Ke(n,s),ha(n))}function LM(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),P1(n,l)}function IM(n,s){var l=0;switch(n.tag){case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),P1(n,l)}function NM(n,s){return un(n,s)}var Kg=null,lh=null,Fb=!1,Qg=!1,Ub=!1,sc=0;function ha(n){n!==lh&&n.next===null&&(lh===null?Kg=lh=n:lh=lh.next=n),Qg=!0,Fb||(Fb=!0,jM(PM))}function kf(n,s){if(!Ub&&Qg){Ub=!0;do for(var l=!1,u=Kg;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var S=u.suspendedLanes,L=u.pingedLanes;y=(1<<31-oi(42|n)+1)-1,y&=g&~(S&~L),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,U1(u,y))}else y=ie,y=xs(u,u===Ce?y:0),(y&3)===0||Jr(u,y)||(l=!0,U1(u,y));u=u.next}while(l);Ub=!1}}function PM(){Qg=Fb=!1;var n=0;sc!==0&&(GM()&&(n=sc),sc=0);for(var s=gt(),l=null,u=Kg;u!==null;){var g=u.next,y=j1(u,s);y===0?(u.next=null,l===null?Kg=g:l.next=g,g===null&&(lh=l)):(l=u,(n!==0||(y&3)!==0)&&(Qg=!0)),u=g}kf(n)}function j1(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-oi(y),L=1<<S,B=g[S];B===-1?((L&l)===0||(L&u)!==0)&&(g[S]=Ud(L,s)):B<=s&&(n.expiredLanes|=L),y&=~L}if(s=Ce,l=ie,l=xs(n,n===s?l:0),u=n.callbackNode,l===0||n===s&&Re===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Cn(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Jr(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&Cn(u),Zm(l)){case 2:case 8:l=jt;break;case 32:l=ye;break;case 268435456:l=Ui;break;default:l=ye}return u=F1.bind(null,n),l=un(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&Cn(u),n.callbackPriority=2,n.callbackNode=null,2}function F1(n,s){var l=n.callbackNode;if(oh()&&n.callbackNode!==l)return null;var u=ie;return u=xs(n,n===Ce?u:0),u===0?null:(S1(n,u,s),j1(n,gt()),n.callbackNode!=null&&n.callbackNode===l?F1.bind(null,n):null)}function U1(n,s){if(oh())return null;S1(n,s,!0)}function jM(n){XM(function(){(Pe&6)!==0?un(zt,n):n()})}function Hb(){return sc===0&&(sc=Hd()),sc}function H1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ea(""+n)}function z1(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function FM(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var y=H1((g[vi]||null).action),S=u.submitter;S&&(s=(s=S[vi]||null)?H1(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var L=new Iu("action","action",null,u,g);n.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sc!==0){var B=S?z1(g,S):new FormData(g);W0(l,{pending:!0,data:B,method:g.method,action:y},null,B)}}else typeof y=="function"&&(L.preventDefault(),B=S?z1(g,S):new FormData(g),W0(l,{pending:!0,data:B,method:g.method,action:y},y,B))},currentTarget:g}]})}}for(var zb=0;zb<Lx.length;zb++){var Bb=Lx[zb],UM=Bb.toLowerCase(),HM=Bb[0].toUpperCase()+Bb.slice(1);Ss(UM,"on"+HM)}Ss(Rx,"onAnimationEnd"),Ss(kx,"onAnimationIteration"),Ss(Dx,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(nM,"onTransitionRun"),Ss(sM,"onTransitionStart"),Ss(aM,"onTransitionCancel"),Ss(Mx,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Df));function B1(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;t:{var y=void 0;if(s)for(var S=u.length-1;0<=S;S--){var L=u[S],B=L.instance,W=L.currentTarget;if(L=L.listener,B!==y&&g.isPropagationStopped())break t;y=L,g.currentTarget=W;try{y(g)}catch(rt){jg(rt)}g.currentTarget=null,y=B}else for(S=0;S<u.length;S++){if(L=u[S],B=L.instance,W=L.currentTarget,L=L.listener,B!==y&&g.isPropagationStopped())break t;y=L,g.currentTarget=W;try{y(g)}catch(rt){jg(rt)}g.currentTarget=null,y=B}}}}function Jt(n,s){var l=s[kl];l===void 0&&(l=s[kl]=new Set);var u=n+"__bubble";l.has(u)||(V1(s,n,2,!1),l.add(u))}function Vb(n,s,l){var u=0;s&&(u|=4),V1(l,n,u,s)}var Zg="_reactListening"+Math.random().toString(36).slice(2);function qb(n){if(!n[Zg]){n[Zg]=!0,Bd.forEach(function(l){l!=="selectionchange"&&(zM.has(l)||Vb(l,!1,n),Vb(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Zg]||(s[Zg]=!0,Vb("selectionchange",!1,s))}}function V1(n,s,l,u){switch(dS(s)){case 2:var g=fO;break;case 8:g=pO;break;default:g=nA}l=g.bind(null,s,l,n),g=void 0,!Qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Gb(n,s,l,u,g){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var L=u.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(S===4)for(S=u.return;S!==null;){var B=S.tag;if((B===3||B===4)&&(B=S.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;S=S.return}for(;L!==null;){if(S=Es(L),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){u=y=S;continue t}L=L.parentNode}}u=u.return}ng(function(){var W=y,rt=Lu(l),ut=[];t:{var et=Ox.get(n);if(et!==void 0){var st=Iu,Ct=n;switch(n){case"keypress":if(na(l)===0)break t;case"keydown":case"keyup":st=Hu;break;case"focusin":Ct="focus",st=ju;break;case"focusout":Ct="blur",st=ju;break;case"beforeblur":case"afterblur":st=ju;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=v0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=hg;break;case Rx:case kx:case Dx:st=Fu;break;case Mx:st=fg;break;case"scroll":case"scrollend":st=sg;break;case"wheel":st=fn;break;case"copy":case"cut":case"paste":st=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=tf;break;case"toggle":case"beforetoggle":st=gg}var Ft=(s&4)!==0,$e=!Ft&&(n==="scroll"||n==="scrollend"),Q=Ft?et!==null?et+"Capture":null:et;Ft=[];for(var Y=W,tt;Y!==null;){var ct=Y;if(tt=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||tt===null||Q===null||(ct=Il(Y,Q),ct!=null&&Ft.push(Mf(Y,ct,tt))),$e)break;Y=Y.return}0<Ft.length&&(et=new st(et,Ct,null,l,rt),ut.push({event:et,listeners:Ft}))}}if((s&7)===0){t:{if(et=n==="mouseover"||n==="pointerover",st=n==="mouseout"||n==="pointerout",et&&l!==Kn&&(Ct=l.relatedTarget||l.fromElement)&&(Es(Ct)||Ct[so]))break t;if((st||et)&&(et=rt.window===rt?rt:(et=rt.ownerDocument)?et.defaultView||et.parentWindow:window,st?(Ct=l.relatedTarget||l.toElement,st=W,Ct=Ct?Es(Ct):null,Ct!==null&&($e=lt(Ct),Ft=Ct.tag,Ct!==$e||Ft!==5&&Ft!==27&&Ft!==6)&&(Ct=null)):(st=null,Ct=W),st!==Ct)){if(Ft=Zn,ct="onMouseLeave",Q="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ft=tf,ct="onPointerLeave",Q="onPointerEnter",Y="pointer"),$e=st==null?et:ro(st),tt=Ct==null?et:ro(Ct),et=new Ft(ct,Y+"leave",st,l,rt),et.target=$e,et.relatedTarget=tt,ct=null,Es(rt)===W&&(Ft=new Ft(Q,Y+"enter",Ct,l,rt),Ft.target=tt,Ft.relatedTarget=$e,ct=Ft),$e=ct,st&&Ct)e:{for(Ft=st,Q=Ct,Y=0,tt=Ft;tt;tt=ch(tt))Y++;for(tt=0,ct=Q;ct;ct=ch(ct))tt++;for(;0<Y-tt;)Ft=ch(Ft),Y--;for(;0<tt-Y;)Q=ch(Q),tt--;for(;Y--;){if(Ft===Q||Q!==null&&Ft===Q.alternate)break e;Ft=ch(Ft),Q=ch(Q)}Ft=null}else Ft=null;st!==null&&q1(ut,et,st,Ft,!1),Ct!==null&&$e!==null&&q1(ut,$e,Ct,Ft,!0)}}t:{if(et=W?ro(W):window,st=et.nodeName&&et.nodeName.toLowerCase(),st==="select"||st==="input"&&et.type==="file")var xt=vx;else if($a(et))if(yx)xt=JD;else{xt=QD;var Yt=KD}else st=et.nodeName,!st||st.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?W&&Xd(W.elementType)&&(xt=vx):xt=ZD;if(xt&&(xt=xt(n,W))){pn(ut,xt,l,rt);break t}Yt&&Yt(n,et,W),n==="focusout"&&W&&et.type==="number"&&W.memoizedProps.value!=null&&Ou(et,"number",et.value)}switch(Yt=W?ro(W):window,n){case"focusin":($a(Yt)||Yt.contentEditable==="true")&&(zu=Yt,w0=W,nf=null);break;case"focusout":nf=w0=zu=null;break;case"mousedown":x0=!0;break;case"contextmenu":case"mouseup":case"dragend":x0=!1,Tx(ut,l,rt);break;case"selectionchange":if(iM)break;case"keydown":case"keyup":Tx(ut,l,rt)}var kt;if(p)t:{switch(n){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Me?vt(n,l)&&(Ot="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ot="onCompositionStart");Ot&&(N&&l.locale!=="ko"&&(Me||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Me&&(kt=Wd()):(ia=rt,fo="value"in ia?ia.value:ia.textContent,Me=!0)),Yt=Jg(W,Ot),0<Yt.length&&(Ot=new Zd(Ot,n,null,l,rt),ut.push({event:Ot,listeners:Yt}),kt?Ot.data=kt:(kt=ue(l),kt!==null&&(Ot.data=kt)))),(kt=x?ee(n,l):bi(n,l))&&(Ot=Jg(W,"onBeforeInput"),0<Ot.length&&(Yt=new Zd("onBeforeInput","beforeinput",null,l,rt),ut.push({event:Yt,listeners:Ot}),Yt.data=kt)),FM(ut,n,W,l,rt)}B1(ut,s)})}function Mf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Jg(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Il(n,l),g!=null&&u.unshift(Mf(n,g,y)),g=Il(n,s),g!=null&&u.push(Mf(n,g,y))),n=n.return}return u}function ch(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function q1(n,s,l,u,g){for(var y=s._reactName,S=[];l!==null&&l!==u;){var L=l,B=L.alternate,W=L.stateNode;if(L=L.tag,B!==null&&B===u)break;L!==5&&L!==26&&L!==27||W===null||(B=W,g?(W=Il(l,y),W!=null&&S.unshift(Mf(l,W,B))):g||(W=Il(l,y),W!=null&&S.push(Mf(l,W,B)))),l=l.return}S.length!==0&&n.push({event:s,listeners:S})}var BM=/\r\n?/g,VM=/\u0000|\uFFFD/g;function G1(n){return(typeof n=="string"?n:""+n).replace(BM,`
`).replace(VM,"")}function $1(n,s){return s=G1(s),G1(n)===s}function tv(){}function Ae(n,s,l,u,g,y){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Wn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Wn(n,""+u);break;case"className":co(n,"class",u);break;case"tabIndex":co(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":co(n,l,u);break;case"style":ig(n,u,y);break;case"data":if(s!=="object"){co(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ea(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Ae(n,s,"name",g.name,g,null),Ae(n,s,"formEncType",g.formEncType,g,null),Ae(n,s,"formMethod",g.formMethod,g,null),Ae(n,s,"formTarget",g.formTarget,g,null)):(Ae(n,s,"encType",g.encType,g,null),Ae(n,s,"method",g.method,g,null),Ae(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=ea(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=tv);break;case"onScroll":u!=null&&Jt("scroll",n);break;case"onScrollEnd":u!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=ea(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),lo(n,"popover",u);break;case"xlinkActuate":Yn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=m0.get(l)||l,lo(n,l,u))}}function $b(n,s,l,u,g,y){switch(l){case"style":ig(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Wn(n,u):(typeof u=="number"||typeof u=="bigint")&&Wn(n,""+u);break;case"onScroll":u!=null&&Jt("scroll",n);break;case"onScrollEnd":u!=null&&Jt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=tv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Du.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=n[vi]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(s,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break t}l in n?n[l]=u:u===!0?n.setAttribute(l,""):lo(n,l,u)}}}function Oi(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var u=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ae(n,s,y,S,l,null)}}g&&Ae(n,s,"srcSet",l.srcSet,l,null),u&&Ae(n,s,"src",l.src,l,null);return;case"input":Jt("invalid",n);var L=y=S=g=null,B=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var rt=l[u];if(rt!=null)switch(u){case"name":g=rt;break;case"type":S=rt;break;case"checked":B=rt;break;case"defaultChecked":W=rt;break;case"value":y=rt;break;case"defaultValue":L=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,s));break;default:Ae(n,s,u,rt,l,null)}}Ol(n,y,L,B,W,S,g,!1),Ml(n);return;case"select":Jt("invalid",n),u=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(L=l[g],L!=null))switch(g){case"value":y=L;break;case"defaultValue":S=L;break;case"multiple":u=L;default:Ae(n,s,g,L,l,null)}s=y,l=S,n.multiple=!!u,s!=null?ae(n,!!u,s,!1):l!=null&&ae(n,!!u,l,!0);return;case"textarea":Jt("invalid",n),y=g=u=null;for(S in l)if(l.hasOwnProperty(S)&&(L=l[S],L!=null))switch(S){case"value":u=L;break;case"defaultValue":g=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Ae(n,s,S,L,l,null)}ho(n,u,g,y),Ml(n);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ae(n,s,B,u,l,null)}return;case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(u=0;u<Df.length;u++)Jt(Df[u],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ae(n,s,W,u,l,null)}return;default:if(Xd(s)){for(rt in l)l.hasOwnProperty(rt)&&(u=l[rt],u!==void 0&&$b(n,s,rt,u,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null&&Ae(n,s,L,u,l,null))}function qM(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,L=null,B=null,W=null,rt=null;for(st in l){var ut=l[st];if(l.hasOwnProperty(st)&&ut!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":B=ut;default:u.hasOwnProperty(st)||Ae(n,s,st,null,u,ut)}}for(var et in u){var st=u[et];if(ut=l[et],u.hasOwnProperty(et)&&(st!=null||ut!=null))switch(et){case"type":y=st;break;case"name":g=st;break;case"checked":W=st;break;case"defaultChecked":rt=st;break;case"value":S=st;break;case"defaultValue":L=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,s));break;default:st!==ut&&Ae(n,s,et,st,u,ut)}}uo(n,S,L,B,W,rt,y,g);return;case"select":st=S=L=et=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":st=B;default:u.hasOwnProperty(y)||Ae(n,s,y,null,u,B)}for(g in u)if(y=u[g],B=l[g],u.hasOwnProperty(g)&&(y!=null||B!=null))switch(g){case"value":et=y;break;case"defaultValue":L=y;break;case"multiple":S=y;default:y!==B&&Ae(n,s,g,y,u,B)}s=L,l=S,u=st,et!=null?ae(n,!!l,et,!1):!!u!=!!l&&(s!=null?ae(n,!!l,s,!0):ae(n,!!l,l?[]:"",!1));return;case"textarea":st=et=null;for(L in l)if(g=l[L],l.hasOwnProperty(L)&&g!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ae(n,s,L,null,u,g)}for(S in u)if(g=u[S],y=l[S],u.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":et=g;break;case"defaultValue":st=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&Ae(n,s,S,g,u,y)}Ll(n,et,st);return;case"option":for(var Ct in l)if(et=l[Ct],l.hasOwnProperty(Ct)&&et!=null&&!u.hasOwnProperty(Ct))switch(Ct){case"selected":n.selected=!1;break;default:Ae(n,s,Ct,null,u,et)}for(B in u)if(et=u[B],st=l[B],u.hasOwnProperty(B)&&et!==st&&(et!=null||st!=null))switch(B){case"selected":n.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Ae(n,s,B,et,u,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)et=l[Ft],l.hasOwnProperty(Ft)&&et!=null&&!u.hasOwnProperty(Ft)&&Ae(n,s,Ft,null,u,et);for(W in u)if(et=u[W],st=l[W],u.hasOwnProperty(W)&&et!==st&&(et!=null||st!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,s));break;default:Ae(n,s,W,et,u,st)}return;default:if(Xd(s)){for(var $e in l)et=l[$e],l.hasOwnProperty($e)&&et!==void 0&&!u.hasOwnProperty($e)&&$b(n,s,$e,void 0,u,et);for(rt in u)et=u[rt],st=l[rt],!u.hasOwnProperty(rt)||et===st||et===void 0&&st===void 0||$b(n,s,rt,et,u,st);return}}for(var Q in l)et=l[Q],l.hasOwnProperty(Q)&&et!=null&&!u.hasOwnProperty(Q)&&Ae(n,s,Q,null,u,et);for(ut in u)et=u[ut],st=l[ut],!u.hasOwnProperty(ut)||et===st||et==null&&st==null||Ae(n,s,ut,et,u,st)}var Xb=null,Yb=null;function ev(n){return n.nodeType===9?n:n.ownerDocument}function X1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y1(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Wb(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kb=null;function GM(){var n=window.event;return n&&n.type==="popstate"?n===Kb?!1:(Kb=n,!0):(Kb=null,!1)}var W1=typeof setTimeout=="function"?setTimeout:void 0,$M=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,XM=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(n){return K1.resolve(null).then(n).catch(YM)}:W1;function YM(n){setTimeout(function(){throw n})}function Qb(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(u===0){n.removeChild(g),Uf(s);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=g}while(l);Uf(s)}function Zb(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zb(l),Dl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function WM(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ao])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Rs(n.nextSibling),n===null)break}return null}function KM(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Rs(n.nextSibling),n===null))return null;return n}function Rs(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function Q1(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function Z1(n,s,l){switch(s=ev(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var ls=new Map,J1=new Set;function iv(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var lr=pt.d;pt.d={f:QM,r:ZM,D:JM,C:tO,L:eO,m:iO,X:sO,S:nO,M:aO};function QM(){var n=lr.f(),s=Yg();return n||s}function ZM(n){var s=Ua(n);s!==null&&s.tag===5&&s.type==="form"?TE(s):lr.r(n)}var uh=typeof document>"u"?null:document;function tS(n,s,l){var u=uh;if(u&&typeof s=="string"&&s){var g=Ve(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),J1.has(g)||(J1.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Oi(s,"link",n),Ie(s),u.head.appendChild(s)))}}function JM(n){lr.D(n),tS("dns-prefetch",n,null)}function tO(n,s){lr.C(n,s),tS("preconnect",n,s)}function eO(n,s,l){lr.L(n,s,l);var u=uh;if(u&&n&&s){var g='link[rel="preload"][as="'+Ve(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ve(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ve(l.imageSizes)+'"]')):g+='[href="'+Ve(n)+'"]';var y=g;switch(s){case"style":y=hh(n);break;case"script":y=dh(n)}ls.has(y)||(n=j({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ls.set(y,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(Of(y))||s==="script"&&u.querySelector(Lf(y))||(s=u.createElement("link"),Oi(s,"link",n),Ie(s),u.head.appendChild(s)))}}function iO(n,s){lr.m(n,s);var l=uh;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Ve(u)+'"][href="'+Ve(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dh(n)}if(!ls.has(y)&&(n=j({rel:"modulepreload",href:n},s),ls.set(y,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lf(y)))return}u=l.createElement("link"),Oi(u,"link",n),Ie(u),l.head.appendChild(u)}}}function nO(n,s,l){lr.S(n,s,l);var u=uh;if(u&&n){var g=oo(u).hoistableStyles,y=hh(n);s=s||"default";var S=g.get(y);if(!S){var L={loading:0,preload:null};if(S=u.querySelector(Of(y)))L.loading=5;else{n=j({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ls.get(y))&&Jb(n,l);var B=S=u.createElement("link");Ie(B),Oi(B,"link",n),B._p=new Promise(function(W,rt){B.onload=W,B.onerror=rt}),B.addEventListener("load",function(){L.loading|=1}),B.addEventListener("error",function(){L.loading|=2}),L.loading|=4,nv(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:L},g.set(y,S)}}}function sO(n,s){lr.X(n,s);var l=uh;if(l&&n){var u=oo(l).hoistableScripts,g=dh(n),y=u.get(g);y||(y=l.querySelector(Lf(g)),y||(n=j({src:n,async:!0},s),(s=ls.get(g))&&tA(n,s),y=l.createElement("script"),Ie(y),Oi(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function aO(n,s){lr.M(n,s);var l=uh;if(l&&n){var u=oo(l).hoistableScripts,g=dh(n),y=u.get(g);y||(y=l.querySelector(Lf(g)),y||(n=j({src:n,async:!0,type:"module"},s),(s=ls.get(g))&&tA(n,s),y=l.createElement("script"),Ie(y),Oi(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function eS(n,s,l,u){var g=(g=Ht.current)?iv(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hh(l.href),l=oo(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=hh(l.href);var y=oo(g).hoistableStyles,S=y.get(n);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=g.querySelector(Of(n)))&&!y._p&&(S.instance=y,S.state.loading=5),ls.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ls.set(n,l),y||rO(g,n,l,S.state))),s&&u===null)throw Error(i(528,""));return S}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dh(l),l=oo(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function hh(n){return'href="'+Ve(n)+'"'}function Of(n){return'link[rel="stylesheet"]['+n+"]"}function iS(n){return j({},n,{"data-precedence":n.precedence,precedence:null})}function rO(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Oi(s,"link",l),Ie(s),n.head.appendChild(s))}function dh(n){return'[src="'+Ve(n)+'"]'}function Lf(n){return"script[async]"+n}function nS(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Ve(l.href)+'"]');if(u)return s.instance=u,Ie(u),u;var g=j({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ie(u),Oi(u,"style",g),nv(u,l.precedence,n),s.instance=u;case"stylesheet":g=hh(l.href);var y=n.querySelector(Of(g));if(y)return s.state.loading|=4,s.instance=y,Ie(y),y;u=iS(l),(g=ls.get(g))&&Jb(u,g),y=(n.ownerDocument||n).createElement("link"),Ie(y);var S=y;return S._p=new Promise(function(L,B){S.onload=L,S.onerror=B}),Oi(y,"link",u),s.state.loading|=4,nv(y,l.precedence,n),s.instance=y;case"script":return y=dh(l.src),(g=n.querySelector(Lf(y)))?(s.instance=g,Ie(g),g):(u=l,(g=ls.get(y))&&(u=j({},l),tA(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),Ie(g),Oi(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,nv(u,l.precedence,n));return s.instance}function nv(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,S=0;S<u.length;S++){var L=u[S];if(L.dataset.precedence===s)y=L;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Jb(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function tA(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var sv=null;function sS(n,s,l){if(sv===null){var u=new Map,g=sv=new Map;g.set(l,u)}else g=sv,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var y=l[g];if(!(y[ao]||y[gi]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=n+S;var L=u.get(S);L?L.push(y):u.set(S,[y])}}return u}function aS(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function oO(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var If=null;function lO(){}function cO(n,s,l){if(If===null)throw Error(i(475));var u=If;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=hh(l.href),y=n.querySelector(Of(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=av.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=y,Ie(y);return}y=n.ownerDocument||n,l=iS(l),(g=ls.get(g))&&Jb(l,g),y=y.createElement("link"),Ie(y);var S=y;S._p=new Promise(function(L,B){S.onload=L,S.onerror=B}),Oi(y,"link",l),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=av.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function uO(){if(If===null)throw Error(i(475));var n=If;return n.stylesheets&&n.count===0&&eA(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&eA(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function av(){if(this.count--,this.count===0){if(this.stylesheets)eA(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rv=null;function eA(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rv=new Map,s.forEach(hO,n),rv=null,av.call(n))}function hO(n,s){if(!(s.state.loading&4)){var l=rv.get(n);if(l)var u=l.get(null);else{l=new Map,rv.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}g=s.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||u,y===u&&l.set(null,g),l.set(S,g),this.count++,u=av.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var Nf={$$typeof:w,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function dO(n,s,l,u,g,y,S,L){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ru(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.hiddenUpdates=Ru(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function oS(n,s,l,u,g,y,S,L,B,W,rt,ut){return n=new dO(n,s,l,S,L,B,W,ut),s=1,y===!0&&(s|=24),y=rs(3,null,null,s),n.current=y,y.stateNode=n,s=L0(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:s},fb(y),n}function lS(n){return n?(n=qu,n):qu}function cS(n,s,l,u,g,y){g=lS(g),u.context===null?u.context=g:u.pendingContext=g,u=wo(s),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=xo(n,u,s),l!==null&&(Ji(l,n,s),yf(l,n,s))}function uS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function iA(n,s){uS(n,s),(n=n.alternate)&&uS(n,s)}function hS(n){if(n.tag===13){var s=mo(n,67108864);s!==null&&Ji(s,n,67108864),iA(n,67108864)}}var ov=!0;function fO(n,s,l,u){var g=D.T;D.T=null;var y=pt.p;try{pt.p=2,nA(n,s,l,u)}finally{pt.p=y,D.T=g}}function pO(n,s,l,u){var g=D.T;D.T=null;var y=pt.p;try{pt.p=8,nA(n,s,l,u)}finally{pt.p=y,D.T=g}}function nA(n,s,l,u){if(ov){var g=sA(u);if(g===null)Gb(n,s,u,lv,l),fS(n,u);else if(gO(g,n,s,l,u))u.stopPropagation();else if(fS(n,u),s&4&&-1<mO.indexOf(n)){for(;g!==null;){var y=Ua(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ws(y.pendingLanes);if(S!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var B=1<<31-oi(S);L.entanglements[1]|=B,S&=~B}ha(y),(Pe&6)===0&&(Gg=gt()+500,kf(0))}}break;case 13:L=mo(y,2),L!==null&&Ji(L,y,2),Yg(),iA(y,2)}if(y=sA(u),y===null&&Gb(n,s,u,lv,l),y===g)break;g=y}g!==null&&u.stopPropagation()}else Gb(n,s,u,null,l)}}function sA(n){return n=Lu(n),aA(n)}var lv=null;function aA(n){if(lv=null,n=Es(n),n!==null){var s=lt(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=dt(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return lv=n,null}function dS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case zt:return 2;case jt:return 8;case ye:case Ki:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var rA=!1,Do=null,Mo=null,Oo=null,Pf=new Map,jf=new Map,Lo=[],mO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(n,s){switch(n){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":Pf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(s.pointerId)}}function Ff(n,s,l,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Ua(s),s!==null&&hS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function gO(n,s,l,u,g){switch(s){case"focusin":return Do=Ff(Do,n,s,l,u,g),!0;case"dragenter":return Mo=Ff(Mo,n,s,l,u,g),!0;case"mouseover":return Oo=Ff(Oo,n,s,l,u,g),!0;case"pointerover":var y=g.pointerId;return Pf.set(y,Ff(Pf.get(y)||null,n,s,l,u,g)),!0;case"gotpointercapture":return y=g.pointerId,jf.set(y,Ff(jf.get(y)||null,n,s,l,u,g)),!0}return!1}function pS(n){var s=Es(n.target);if(s!==null){var l=lt(s);if(l!==null){if(s=l.tag,s===13){if(s=dt(l),s!==null){n.blockedOn=s,no(n.priority,function(){if(l.tag===13){var u=In(),g=mo(l,u);g!==null&&Ji(g,l,u),iA(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cv(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=sA(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Kn=u,l.target.dispatchEvent(u),Kn=null}else return s=Ua(l),s!==null&&hS(s),n.blockedOn=l,!1;s.shift()}return!0}function mS(n,s,l){cv(n)&&l.delete(s)}function vO(){rA=!1,Do!==null&&cv(Do)&&(Do=null),Mo!==null&&cv(Mo)&&(Mo=null),Oo!==null&&cv(Oo)&&(Oo=null),Pf.forEach(mS),jf.forEach(mS)}function uv(n,s){n.blockedOn===s&&(n.blockedOn=null,rA||(rA=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vO)))}var hv=null;function gS(n){hv!==n&&(hv=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hv===n&&(hv=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(aA(u||l)===null)continue;break}var y=Ua(l);y!==null&&(n.splice(s,3),s-=3,W0(y,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function Uf(n){function s(B){return uv(B,n)}Do!==null&&uv(Do,n),Mo!==null&&uv(Mo,n),Oo!==null&&uv(Oo,n),Pf.forEach(s),jf.forEach(s);for(var l=0;l<Lo.length;l++){var u=Lo[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Lo.length&&(l=Lo[0],l.blockedOn===null);)pS(l),l.blockedOn===null&&Lo.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],y=l[u+1],S=g[vi]||null;if(typeof y=="function")S||gS(l);else if(S){var L=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[vi]||null)L=S.formAction;else if(aA(g)!==null)continue}else L=S.action;typeof L=="function"?l[u+1]=L:(l.splice(u,3),u-=3),gS(l)}}}function oA(n){this._internalRoot=n}dv.prototype.render=oA.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=In();cS(l,u,n,s,null,null)},dv.prototype.unmount=oA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&oh(),cS(n.current,2,null,n,null,null),Yg(),s[so]=null}};function dv(n){this._internalRoot=n}dv.prototype.unstable_scheduleHydration=function(n){if(n){var s=Jm();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Lo.length&&s!==0&&s<Lo[l].priority;l++);Lo.splice(l,0,n),l===0&&pS(n)}};var vS=t.version;if(vS!=="19.0.0")throw Error(i(527,vS,"19.0.0"));pt.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=nt(s),n=n!==null?ft(n):null,n=n===null?null:n.stateNode,n};var yO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Es,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fv.isDisabled&&fv.supportsFiber)try{Xn=fv.inject(yO),We=fv}catch{}}return zf.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,u="",g=IE,y=NE,S=PE,L=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks)),s=oS(n,1,!1,null,null,l,u,g,y,S,L,null),n[so]=s.current,qb(n.nodeType===8?n.parentNode:n),new oA(s)},zf.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var u=!1,g="",y=IE,S=NE,L=PE,B=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=oS(n,1,!0,s,l??null,u,g,y,S,L,B,W),s.context=lS(null),l=s.current,u=In(),g=wo(u),g.callback=null,xo(l,g,u),s.current.lanes=u,Ke(s,u),ha(s),n[so]=s.current,qb(n),new dv(s)},zf.version="19.0.0",zf}var RS;function kO(){if(RS)return uA.exports;RS=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),uA.exports=RO(),uA.exports}var DO=kO(),H=Sw();const MO=By(H),OO=()=>{};var kS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(a){const t=[];let e=0;for(let i=0;i<a.length;i++){let r=a.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<a.length&&(a.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(a.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},LO=function(a){const t=[];let e=0,i=0;for(;e<a.length;){const r=a[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=a[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=a[e++],c=a[e++],h=a[e++],d=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=a[e++],c=a[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},kC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<a.length;r+=3){const o=a[r],c=r+1<a.length,h=c?a[r+1]:0,d=r+2<a.length,m=d?a[r+2]:0,v=o>>2,b=(o&3)<<4|h>>4;let A=(h&15)<<2|m>>6,w=m&63;d||(w=64,c||(A=64)),i.push(e[v],e[b],e[A],e[w])}return i.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(RC(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):LO(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<a.length;){const o=e[a.charAt(r++)],h=r<a.length?e[a.charAt(r)]:0;++r;const m=r<a.length?e[a.charAt(r)]:64;++r;const b=r<a.length?e[a.charAt(r)]:64;if(++r,o==null||h==null||m==null||b==null)throw new IO;const A=o<<2|h>>4;if(i.push(A),m!==64){const w=h<<4&240|m>>2;if(i.push(w),b!==64){const E=m<<6&192|b;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class IO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NO=function(a){const t=RC(a);return kC.encodeByteArray(t,!0)},oy=function(a){return NO(a).replace(/\./g,"")},DC=function(a){try{return kC.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=()=>PO().__FIREBASE_DEFAULTS__,FO=()=>{if(typeof process>"u"||typeof kS>"u")return;const a=kS.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},UO=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&DC(a[1]);return t&&JSON.parse(t)},Tw=()=>{try{return OO()||jO()||FO()||UO()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},MC=a=>{var t,e;return(e=(t=Tw())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[a]},HO=a=>{const t=MC(a);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},OC=()=>{var a;return(a=Tw())===null||a===void 0?void 0:a.config},LC=a=>{var t;return(t=Tw())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=a.iat||0,o=a.sub||a.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},a);return[oy(JSON.stringify(e)),oy(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function qO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IC(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function GO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $O(){const a=cn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function NC(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((a,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),a(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}function XO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="FirebaseError";class Ks extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=YO,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?WO(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Ks(r,h,i)}}function WO(a,t){return a.replace(KO,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const KO=/\{\$([^}]+)}/g;function QO(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function hu(a,t){if(a===t)return!0;const e=Object.keys(a),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=a[r],c=t[r];if(DS(o)&&DS(c)){if(!hu(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function DS(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(a){const t=[];for(const[e,i]of Object.entries(a))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Xf(a){const t={};return a.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Yf(a){const t=a.indexOf("?");if(!t)return"";const e=a.indexOf("#",t);return a.substring(t,e>0?e:void 0)}function ZO(a,t){const e=new JO(a,t);return e.subscribe.bind(e)}class JO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");tL(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=mA),r.error===void 0&&(r.error=mA),r.complete===void 0&&(r.complete=mA);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tL(a,t){if(typeof a!="object"||a===null)return!1;for(const e of t)if(e in a&&typeof a[e]=="function")return!0;return!1}function mA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=1e3,iL=2,nL=4*60*60*1e3,sL=.5;function MS(a,t=eL,e=iL){const i=t*Math.pow(e,a),r=Math.round(sL*i*(Math.random()-.5)*2);return Math.min(nL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(a){return a&&a._delegate?a._delegate:a}class Xs{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new zO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oL(t))try{this.getOrInitializeService({instanceIdentifier:rc})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=rc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rc){return this.instances.has(t)}getOptions(t=rc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rL(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=rc){return this.component?this.component.multipleInstances?t:rc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rL(a){return a===rc?void 0:a}function oL(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new aL(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(de||(de={}));const cL={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},uL=de.INFO,hL={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},dL=(a,t,...e)=>{if(t<a.logLevel)return;const i=new Date().toISOString(),r=hL[t];if(r)console[r](`[${i}]  ${a.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vy{constructor(t){this.name=t,this._logLevel=uL,this._logHandler=dL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in de))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...t),this._logHandler(this,de.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...t),this._logHandler(this,de.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,de.INFO,...t),this._logHandler(this,de.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,de.WARN,...t),this._logHandler(this,de.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...t),this._logHandler(this,de.ERROR,...t)}}const fL=(a,t)=>t.some(e=>a instanceof e);let OS,LS;function pL(){return OS||(OS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return LS||(LS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jC=new WeakMap,zA=new WeakMap,FC=new WeakMap,gA=new WeakMap,Cw=new WeakMap;function gL(a){const t=new Promise((e,i)=>{const r=()=>{a.removeEventListener("success",o),a.removeEventListener("error",c)},o=()=>{e(vl(a.result)),r()},c=()=>{i(a.error),r()};a.addEventListener("success",o),a.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&jC.set(e,a)}).catch(()=>{}),Cw.set(t,a),t}function vL(a){if(zA.has(a))return;const t=new Promise((e,i)=>{const r=()=>{a.removeEventListener("complete",o),a.removeEventListener("error",c),a.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(a.error||new DOMException("AbortError","AbortError")),r()};a.addEventListener("complete",o),a.addEventListener("error",c),a.addEventListener("abort",c)});zA.set(a,t)}let BA={get(a,t,e){if(a instanceof IDBTransaction){if(t==="done")return zA.get(a);if(t==="objectStoreNames")return a.objectStoreNames||FC.get(a);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return vl(a[t])},set(a,t,e){return a[t]=e,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function yL(a){BA=a(BA)}function bL(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=a.call(vA(this),t,...e);return FC.set(i,t.sort?t.sort():[t]),vl(i)}:mL().includes(a)?function(...t){return a.apply(vA(this),t),vl(jC.get(this))}:function(...t){return vl(a.apply(vA(this),t))}}function AL(a){return typeof a=="function"?bL(a):(a instanceof IDBTransaction&&vL(a),fL(a,pL())?new Proxy(a,BA):a)}function vl(a){if(a instanceof IDBRequest)return gL(a);if(gA.has(a))return gA.get(a);const t=AL(a);return t!==a&&(gA.set(a,t),Cw.set(t,a)),t}const vA=a=>Cw.get(a);function UC(a,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(a,t),h=vl(c);return i&&c.addEventListener("upgradeneeded",d=>{i(vl(c.result),d.oldVersion,d.newVersion,vl(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const _L=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],yA=new Map;function IS(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(yA.get(t))return yA.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=wL.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_L.includes(e)))return;const o=async function(c,...h){const d=this.transaction(c,r?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&d.done]))[0]};return yA.set(t,o),o}yL(a=>({...a,get:(t,e,i)=>IS(t,e)||a.get(t,e,i),has:(t,e)=>!!IS(t,e)||a.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(EL(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function EL(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const VA="@firebase/app",NS="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Vy("@firebase/app"),SL="@firebase/app-compat",TL="@firebase/analytics-compat",CL="@firebase/analytics",RL="@firebase/app-check-compat",kL="@firebase/app-check",DL="@firebase/auth",ML="@firebase/auth-compat",OL="@firebase/database",LL="@firebase/data-connect",IL="@firebase/database-compat",NL="@firebase/functions",PL="@firebase/functions-compat",jL="@firebase/installations",FL="@firebase/installations-compat",UL="@firebase/messaging",HL="@firebase/messaging-compat",zL="@firebase/performance",BL="@firebase/performance-compat",VL="@firebase/remote-config",qL="@firebase/remote-config-compat",GL="@firebase/storage",$L="@firebase/storage-compat",XL="@firebase/firestore",YL="@firebase/vertexai",WL="@firebase/firestore-compat",KL="firebase",QL="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="[DEFAULT]",ZL={[VA]:"fire-core",[SL]:"fire-core-compat",[CL]:"fire-analytics",[TL]:"fire-analytics-compat",[kL]:"fire-app-check",[RL]:"fire-app-check-compat",[DL]:"fire-auth",[ML]:"fire-auth-compat",[OL]:"fire-rtdb",[LL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[NL]:"fire-fn",[PL]:"fire-fn-compat",[jL]:"fire-iid",[FL]:"fire-iid-compat",[UL]:"fire-fcm",[HL]:"fire-fcm-compat",[zL]:"fire-perf",[BL]:"fire-perf-compat",[VL]:"fire-rc",[qL]:"fire-rc-compat",[GL]:"fire-gcs",[$L]:"fire-gcs-compat",[XL]:"fire-fst",[WL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map,JL=new Map,GA=new Map;function PS(a,t){try{a.container.addComponent(t)}catch(e){$r.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,e)}}function Ia(a){const t=a.name;if(GA.has(t))return $r.debug(`There were multiple attempts to register component ${t}.`),!1;GA.set(t,a);for(const e of ly.values())PS(e,a);for(const e of JL.values())PS(e,a);return!0}function Hm(a,t){const e=a.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),a.container.getProvider(t)}function qs(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yl=new _u("app","Firebase",tI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=QL;function HC(a,t={}){let e=a;typeof t!="object"&&(t={name:t});const i=Object.assign({name:qA,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw yl.create("bad-app-name",{appName:String(r)});if(e||(e=OC()),!e)throw yl.create("no-options");const o=ly.get(r);if(o){if(hu(e,o.options)&&hu(i,o.config))return o;throw yl.create("duplicate-app",{appName:r})}const c=new lL(r);for(const d of GA.values())c.addComponent(d);const h=new eI(e,i,c);return ly.set(r,h),h}function zC(a=qA){const t=ly.get(a);if(!t&&a===qA&&OC())return HC();if(!t)throw yl.create("no-app",{appName:a});return t}function vs(a,t,e){var i;let r=(i=ZL[a])!==null&&i!==void 0?i:a;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$r.warn(h.join(" "));return}Ia(new Xs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebase-heartbeat-database",nI=1,yp="firebase-heartbeat-store";let bA=null;function BC(){return bA||(bA=UC(iI,nI,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(yp)}catch(e){console.warn(e)}}}}).catch(a=>{throw yl.create("idb-open",{originalErrorMessage:a.message})})),bA}async function sI(a){try{const e=(await BC()).transaction(yp),i=await e.objectStore(yp).get(VC(a));return await e.done,i}catch(t){if(t instanceof Ks)$r.warn(t.message);else{const e=yl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$r.warn(e.message)}}}async function jS(a,t){try{const i=(await BC()).transaction(yp,"readwrite");await i.objectStore(yp).put(t,VC(a)),await i.done}catch(e){if(e instanceof Ks)$r.warn(e.message);else{const i=yl.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});$r.warn(i.message)}}}function VC(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,rI=30;class oI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>rI){const c=uI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FS(),{heartbeatsToSend:i,unsentEntries:r}=lI(this._heartbeatsCache.heartbeats),o=oy(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $r.warn(e),""}}}function FS(){return new Date().toISOString().substring(0,10)}function lI(a,t=aI){const e=[];let i=a.slice();for(const r of a){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),US(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),US(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class cI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NC()?PC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await sI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return jS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return jS(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function US(a){return oy(JSON.stringify({version:2,heartbeats:a})).length}function uI(a){if(a.length===0)return-1;let t=0,e=a[0].date;for(let i=1;i<a.length;i++)a[i].date<e&&(e=a[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(a){Ia(new Xs("platform-logger",t=>new xL(t),"PRIVATE")),Ia(new Xs("heartbeat",t=>new oI(t),"PRIVATE")),vs(VA,NS,a),vs(VA,NS,"esm2017"),vs("fire-js","")}hI("");var dI="firebase",fI="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(dI,fI,"app");const qC="@firebase/installations",Rw="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e4,$C=`w:${Rw}`,XC="FIS_v2",pI="https://firebaseinstallations.googleapis.com/v1",mI=60*60*1e3,gI="installations",vI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},du=new _u(gI,vI,yI);function YC(a){return a instanceof Ks&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC({projectId:a}){return`${pI}/projects/${a}/installations`}function KC(a){return{token:a.token,requestStatus:2,expiresIn:AI(a.expiresIn),creationTime:Date.now()}}async function QC(a,t){const i=(await t.json()).error;return du.create("request-failed",{requestName:a,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ZC({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function bI(a,{refreshToken:t}){const e=ZC(a);return e.append("Authorization",_I(t)),e}async function JC(a){const t=await a();return t.status>=500&&t.status<600?a():t}function AI(a){return Number(a.replace("s","000"))}function _I(a){return`${XC} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI({appConfig:a,heartbeatServiceProvider:t},{fid:e}){const i=WC(a),r=ZC(a),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={fid:e,authVersion:XC,appId:a.appId,sdkVersion:$C},h={method:"POST",headers:r,body:JSON.stringify(c)},d=await JC(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||e,registrationStatus:2,refreshToken:m.refreshToken,authToken:KC(m.authToken)}}else throw await QC("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(a){return new Promise(t=>{setTimeout(t,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=/^[cdef][\w-]{21}$/,$A="";function SI(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const e=TI(a);return EI.test(e)?e:$A}catch{return $A}}function TI(a){return xI(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Map;function i2(a,t){const e=qy(a);n2(e,t),CI(e,t)}function n2(a,t){const e=e2.get(a);if(e)for(const i of e)i(t)}function CI(a,t){const e=RI();e&&e.postMessage({key:a,fid:t}),kI()}let pc=null;function RI(){return!pc&&"BroadcastChannel"in self&&(pc=new BroadcastChannel("[Firebase] FID Change"),pc.onmessage=a=>{n2(a.data.key,a.data.fid)}),pc}function kI(){e2.size===0&&pc&&(pc.close(),pc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-installations-database",MI=1,fu="firebase-installations-store";let AA=null;function kw(){return AA||(AA=UC(DI,MI,{upgrade:(a,t)=>{switch(t){case 0:a.createObjectStore(fu)}}})),AA}async function cy(a,t){const e=qy(a),r=(await kw()).transaction(fu,"readwrite"),o=r.objectStore(fu),c=await o.get(e);return await o.put(t,e),await r.done,(!c||c.fid!==t.fid)&&i2(a,t.fid),t}async function s2(a){const t=qy(a),i=(await kw()).transaction(fu,"readwrite");await i.objectStore(fu).delete(t),await i.done}async function Gy(a,t){const e=qy(a),r=(await kw()).transaction(fu,"readwrite"),o=r.objectStore(fu),c=await o.get(e),h=t(c);return h===void 0?await o.delete(e):await o.put(h,e),await r.done,h&&(!c||c.fid!==h.fid)&&i2(a,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(a){let t;const e=await Gy(a.appConfig,i=>{const r=OI(i),o=LI(a,r);return t=o.registrationPromise,o.installationEntry});return e.fid===$A?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function OI(a){const t=a||{fid:SI(),registrationStatus:0};return a2(t)}function LI(a,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(du.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=II(a,e);return{installationEntry:e,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:NI(a)}:{installationEntry:t}}async function II(a,t){try{const e=await wI(a,t);return cy(a.appConfig,e)}catch(e){throw YC(e)&&e.customData.serverCode===409?await s2(a.appConfig):await cy(a.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function NI(a){let t=await HS(a.appConfig);for(;t.registrationStatus===1;)await t2(100),t=await HS(a.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:i}=await Dw(a);return i||e}return t}function HS(a){return Gy(a,t=>{if(!t)throw du.create("installation-not-found");return a2(t)})}function a2(a){return PI(a)?{fid:a.fid,registrationStatus:0}:a}function PI(a){return a.registrationStatus===1&&a.registrationTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI({appConfig:a,heartbeatServiceProvider:t},e){const i=FI(a,e),r=bI(a,e),o=t.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const c={installation:{sdkVersion:$C,appId:a.appId}},h={method:"POST",headers:r,body:JSON.stringify(c)},d=await JC(()=>fetch(i,h));if(d.ok){const m=await d.json();return KC(m)}else throw await QC("Generate Auth Token",d)}function FI(a,{fid:t}){return`${WC(a)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(a,t=!1){let e;const i=await Gy(a.appConfig,o=>{if(!r2(o))throw du.create("not-registered");const c=o.authToken;if(!t&&zI(c))return o;if(c.requestStatus===1)return e=UI(a,t),o;{if(!navigator.onLine)throw du.create("app-offline");const h=VI(o);return e=HI(a,h),h}});return e?await e:i.authToken}async function UI(a,t){let e=await zS(a.appConfig);for(;e.authToken.requestStatus===1;)await t2(100),e=await zS(a.appConfig);const i=e.authToken;return i.requestStatus===0?Mw(a,t):i}function zS(a){return Gy(a,t=>{if(!r2(t))throw du.create("not-registered");const e=t.authToken;return qI(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function HI(a,t){try{const e=await jI(a,t),i=Object.assign(Object.assign({},t),{authToken:e});return await cy(a.appConfig,i),e}catch(e){if(YC(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await s2(a.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await cy(a.appConfig,i)}throw e}}function r2(a){return a!==void 0&&a.registrationStatus===2}function zI(a){return a.requestStatus===2&&!BI(a)}function BI(a){const t=Date.now();return t<a.creationTime||a.creationTime+a.expiresIn<t+mI}function VI(a){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:t})}function qI(a){return a.requestStatus===1&&a.requestTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(a){const t=a,{installationEntry:e,registrationPromise:i}=await Dw(t);return i?i.catch(console.error):Mw(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(a,t=!1){const e=a;return await XI(e),(await Mw(e,t)).token}async function XI(a){const{registrationPromise:t}=await Dw(a);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(a){if(!a||!a.options)throw _A("App Configuration");if(!a.name)throw _A("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!a.options[e])throw _A(e);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function _A(a){return du.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="installations",WI="installations-internal",KI=a=>{const t=a.getProvider("app").getImmediate(),e=YI(t),i=Hm(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},QI=a=>{const t=a.getProvider("app").getImmediate(),e=Hm(t,o2).getImmediate();return{getId:()=>GI(e),getToken:r=>$I(e,r)}};function ZI(){Ia(new Xs(o2,KI,"PUBLIC")),Ia(new Xs(WI,QI,"PRIVATE"))}ZI();vs(qC,Rw);vs(qC,Rw,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="analytics",JI="firebase_id",tN="origin",eN=60*1e3,iN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ow="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Vy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ys=new _u("analytics","Analytics",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(a){if(!a.startsWith(Ow)){const t=ys.create("invalid-gtag-resource",{gtagURL:a});return Sn.warn(t.message),""}return a}function l2(a){return Promise.all(a.map(t=>t.catch(e=>e)))}function aN(a,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(a,t)),e}function rN(a,t){const e=aN("firebase-js-sdk-policy",{createScriptURL:sN}),i=document.createElement("script"),r=`${Ow}?l=${a}&id=${t}`;i.src=e?e==null?void 0:e.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function oN(a){let t=[];return Array.isArray(window[a])?t=window[a]:window[a]=t,t}async function lN(a,t,e,i,r,o){const c=i[r];try{if(c)await t[c];else{const d=(await l2(e)).find(m=>m.measurementId===r);d&&await t[d.appId]}}catch(h){Sn.error(h)}a("config",r,o)}async function cN(a,t,e,i,r){try{let o=[];if(r&&r.send_to){let c=r.send_to;Array.isArray(c)||(c=[c]);const h=await l2(e);for(const d of c){const m=h.find(b=>b.measurementId===d),v=m&&t[m.appId];if(v)o.push(v);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),a("event",i,r||{})}catch(o){Sn.error(o)}}function uN(a,t,e,i){async function r(o,...c){try{if(o==="event"){const[h,d]=c;await cN(a,t,e,h,d)}else if(o==="config"){const[h,d]=c;await lN(a,t,e,i,h,d)}else if(o==="consent"){const[h,d]=c;a("consent",h,d)}else if(o==="get"){const[h,d,m]=c;a("get",h,d,m)}else if(o==="set"){const[h]=c;a("set",h)}else a(o,...c)}catch(h){Sn.error(h)}}return r}function hN(a,t,e,i,r){let o=function(...c){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=uN(o,a,t,e),{gtagCore:o,wrappedGtag:window[r]}}function dN(a){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Ow)&&e.src.includes(a))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=30,pN=1e3;class mN{constructor(t={},e=pN){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const c2=new mN;function gN(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function vN(a){var t;const{appId:e,apiKey:i}=a,r={method:"GET",headers:gN(i)},o=iN.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let h="";try{const d=await c.json();!((t=d.error)===null||t===void 0)&&t.message&&(h=d.error.message)}catch{}throw ys.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function yN(a,t=c2,e){const{appId:i,apiKey:r,measurementId:o}=a.options;if(!i)throw ys.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw ys.create("no-api-key")}const c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new _N;return setTimeout(async()=>{h.abort()},eN),u2({appId:i,apiKey:r,measurementId:o},c,h,t)}async function u2(a,{throttleEndTimeMillis:t,backoffCount:e},i,r=c2){var o;const{appId:c,measurementId:h}=a;try{await bN(i,t)}catch(d){if(h)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:c,measurementId:h};throw d}try{const d=await vN(a);return r.deleteThrottleMetadata(c),d}catch(d){const m=d;if(!AN(m)){if(r.deleteThrottleMetadata(c),h)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:h};throw d}const v=Number((o=m==null?void 0:m.customData)===null||o===void 0?void 0:o.httpStatus)===503?MS(e,r.intervalMillis,fN):MS(e,r.intervalMillis),b={throttleEndTimeMillis:Date.now()+v,backoffCount:e+1};return r.setThrottleMetadata(c,b),Sn.debug(`Calling attemptFetch again in ${v} millis`),u2(a,b,i,r)}}function bN(a,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),o=setTimeout(e,r);a.addEventListener(()=>{clearTimeout(o),i(ys.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AN(a){if(!(a instanceof Ks)||!a.customData)return!1;const t=Number(a.customData.httpStatus);return t===429||t===500||t===503||t===504}class _N{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function wN(a,t,e,i,r){if(r&&r.global){a("event",e,i);return}else{const o=await t,c=Object.assign(Object.assign({},i),{send_to:o});a("event",e,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(){if(NC())try{await PC()}catch(a){return Sn.warn(ys.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return Sn.warn(ys.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EN(a,t,e,i,r,o,c){var h;const d=yN(a);d.then(w=>{e[w.measurementId]=w.appId,a.options.measurementId&&w.measurementId!==a.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Sn.error(w)),t.push(d);const m=xN().then(w=>{if(w)return i.getId()}),[v,b]=await Promise.all([d,m]);dN(o)||rN(o,v.measurementId),r("js",new Date);const A=(h=c==null?void 0:c.config)!==null&&h!==void 0?h:{};return A[tN]="firebase",A.update=!0,b!=null&&(A[JI]=b),r("config",v.measurementId,A),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(t){this.app=t}_delete(){return delete hp[this.app.options.appId],Promise.resolve()}}let hp={},VS=[];const qS={};let wA="dataLayer",TN="gtag",GS,h2,$S=!1;function CN(){const a=[];if(IC()&&a.push("This is a browser extension environment."),XO()||a.push("Cookies are not available."),a.length>0){const t=a.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=ys.create("invalid-analytics-context",{errorInfo:t});Sn.warn(e.message)}}function RN(a,t,e){CN();const i=a.options.appId;if(!i)throw ys.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ys.create("no-api-key");if(hp[i]!=null)throw ys.create("already-exists",{id:i});if(!$S){oN(wA);const{wrappedGtag:o,gtagCore:c}=hN(hp,VS,qS,wA,TN);h2=o,GS=c,$S=!0}return hp[i]=EN(a,VS,qS,t,GS,wA,e),new SN(a)}function kN(a,t,e,i){a=Qr(a),wN(h2,hp[a.app.options.appId],t,e,i).catch(r=>Sn.error(r))}const XS="@firebase/analytics",YS="0.10.12";function DN(){Ia(new Xs(BS,(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return RN(i,r,e)},"PUBLIC")),Ia(new Xs("analytics-internal",a,"PRIVATE")),vs(XS,YS),vs(XS,YS,"esm2017");function a(t){try{const e=t.getProvider(BS).getImmediate();return{logEvent:(i,r,o)=>kN(e,i,r,o)}}catch(e){throw ys.create("interop-component-reg-failed",{reason:e})}}}DN();function Lw(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e}function wu(a,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(v){try{m(i.next(v))}catch(b){c(b)}}function d(v){try{m(i.throw(v))}catch(b){c(b)}}function m(v){v.done?o(v.value):r(v.value).then(h,d)}m((i=i.apply(a,t||[])).next())})}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MN=d2,f2=new _u("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=new Vy("@firebase/auth");function ON(a,...t){uy.logLevel<=de.WARN&&uy.warn(`Auth (${Ld}): ${a}`,...t)}function Sv(a,...t){uy.logLevel<=de.ERROR&&uy.error(`Auth (${Ld}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(a,...t){throw Iw(a,...t)}function Oa(a,...t){return Iw(a,...t)}function p2(a,t,e){const i=Object.assign(Object.assign({},MN()),{[t]:e});return new _u("auth","Firebase",i).create(t,{appName:a.name})}function bl(a){return p2(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iw(a,...t){if(typeof a!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=a.name),a._errorFactory.create(e,...i)}return f2.create(a,...t)}function Lt(a,t,...e){if(!a)throw Iw(t,...e)}function Ur(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Sv(t),new Error(t)}function Xr(a,t){a||Ur(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function LN(){return WS()==="http:"||WS()==="https:"}function WS(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||IC()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,e){this.shortDelay=t,this.longDelay=e,Xr(e>t,"Short delay should be less than long delay!"),this.isMobile=VO()||GO()}get(){return IN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(a,t){Xr(a.emulator,"Emulator should always be set here");const{url:e}=a.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new zm(3e4,6e4);function xu(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function El(a,t,e,i,r={}){return g2(a,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Um(Object.assign({key:a.config.apiKey},c)).slice(1),d=await a._getAdditionalHeaders();d["Content-Type"]="application/json",a.languageCode&&(d["X-Firebase-Locale"]=a.languageCode);const m=Object.assign({method:t,headers:d},o);return qO()||(m.referrerPolicy="no-referrer"),m2.fetch()(v2(a,a.config.apiHost,e,h),m)})}async function g2(a,t,e){a._canInitEmulator=!1;const i=Object.assign(Object.assign({},PN),t);try{const r=new UN(a),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw pv(a,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pv(a,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw pv(a,"email-already-in-use",c);if(d==="USER_DISABLED")throw pv(a,"user-disabled",c);const v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw p2(a,v,m);Ys(a,v)}}catch(r){if(r instanceof Ks)throw r;Ys(a,"network-request-failed",{message:String(r)})}}async function $y(a,t,e,i,r={}){const o=await El(a,t,e,i,r);return"mfaPendingCredential"in o&&Ys(a,"multi-factor-auth-required",{_serverResponse:o}),o}function v2(a,t,e,i){const r=`${t}${e}?${i}`;return a.config.emulator?Nw(a.config,r):`${a.config.apiScheme}://${r}`}function FN(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Oa(this.auth,"network-request-failed")),jN.get())})}}function pv(a,t,e){const i={appName:a.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Oa(a,t,i);return r.customData._tokenResponse=e,r}function KS(a){return a!==void 0&&a.enterprise!==void 0}class HN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return FN(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zN(a,t){return El(a,"GET","/v2/recaptchaConfig",xu(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(a,t){return El(a,"POST","/v1/accounts:delete",t)}async function y2(a,t){return El(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VN(a,t=!1){const e=Qr(a),i=await e.getIdToken(t),r=Pw(i);Lt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:dp(xA(r.auth_time)),issuedAtTime:dp(xA(r.iat)),expirationTime:dp(xA(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xA(a){return Number(a)*1e3}function Pw(a){const[t,e,i]=a.split(".");if(t===void 0||e===void 0||i===void 0)return Sv("JWT malformed, contained fewer than 3 sections"),null;try{const r=DC(e);return r?JSON.parse(r):(Sv("Failed to decode base64 JWT payload"),null)}catch(r){return Sv("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function QS(a){const t=Pw(a);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(a,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ks&&qN(i)&&a.auth.currentUser===a&&await a.auth.signOut(),i}}function qN({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=dp(this.lastLoginAt),this.creationTime=dp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(a){var t;const e=a.auth,i=await a.getIdToken(),r=await bp(a,y2(e,{idToken:i}));Lt(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?b2(o.providerUserInfo):[],h=XN(a.providerData,c),d=a.isAnonymous,m=!(a.email&&o.passwordHash)&&!(h!=null&&h.length),v=d?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new YA(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(a,b)}async function $N(a){const t=Qr(a);await hy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XN(a,t){return[...a.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function b2(a){return a.map(t=>{var{providerId:e}=t,i=Lw(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(a,t){const e=await g2(a,{},async()=>{const i=Um({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=a.config,c=v2(a,r,"/v1/token",`key=${o}`),h=await a._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",m2.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function WN(a,t){return El(a,"POST","/v2/accounts:revokeToken",xu(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):QS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const e=QS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await YN(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Eh;return i&&(Lt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Lt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Lt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(a,t){Lt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Hr{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Lw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new YA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await bp(this,this.stsTokenManager.getToken(this.auth,t));return Lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return VN(this,t)}reload(){return $N(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Hr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await hy(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(bl(this.auth));const t=await this.getIdToken();return await bp(this,BN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,d,m,v;const b=(i=e.displayName)!==null&&i!==void 0?i:void 0,A=(r=e.email)!==null&&r!==void 0?r:void 0,w=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,E=(c=e.photoURL)!==null&&c!==void 0?c:void 0,C=(h=e.tenantId)!==null&&h!==void 0?h:void 0,I=(d=e._redirectEventId)!==null&&d!==void 0?d:void 0,k=(m=e.createdAt)!==null&&m!==void 0?m:void 0,z=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:X,isAnonymous:K,providerData:Z,stsTokenManager:P}=e;Lt(V&&P,t,"internal-error");const M=Eh.fromJSON(this.name,P);Lt(typeof V=="string",t,"internal-error"),No(b,t.name),No(A,t.name),Lt(typeof X=="boolean",t,"internal-error"),Lt(typeof K=="boolean",t,"internal-error"),No(w,t.name),No(E,t.name),No(C,t.name),No(I,t.name),No(k,t.name),No(z,t.name);const D=new Hr({uid:V,auth:t,email:A,emailVerified:X,displayName:b,isAnonymous:K,photoURL:E,phoneNumber:w,tenantId:C,stsTokenManager:M,createdAt:k,lastLoginAt:z});return Z&&Array.isArray(Z)&&(D.providerData=Z.map(j=>Object.assign({},j))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new Eh;r.updateFromServerResponse(e);const o=new Hr({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await hy(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Lt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?b2(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new Eh;h.updateFromIdToken(i);const d=new Hr({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new YA(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Map;function zr(a){Xr(a instanceof Function,"Expected a class definition");let t=ZS.get(a);return t?(Xr(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,ZS.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}A2.type="NONE";const JS=A2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(a,t,e){return`firebase:${a}:${t}:${e}`}class Sh{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Tv(this.userKey,r.apiKey,o),this.fullPersistenceKey=Tv("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Hr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Sh(zr(JS),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||zr(JS);const c=Tv(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const v=await m._get(c);if(v){const b=Hr._fromJSON(t,v);m!==o&&(h=b),o=m;break}}catch{}const d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Sh(o,t,i):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Sh(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(E2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T2(t))return"Blackberry";if(C2(t))return"Webos";if(w2(t))return"Safari";if((t.includes("chrome/")||x2(t))&&!t.includes("edge/"))return"Chrome";if(S2(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=a.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _2(a=cn()){return/firefox\//i.test(a)}function w2(a=cn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function x2(a=cn()){return/crios\//i.test(a)}function E2(a=cn()){return/iemobile/i.test(a)}function S2(a=cn()){return/android/i.test(a)}function T2(a=cn()){return/blackberry/i.test(a)}function C2(a=cn()){return/webos/i.test(a)}function jw(a=cn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function KN(a=cn()){var t;return jw(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QN(){return $O()&&document.documentMode===10}function R2(a=cn()){return jw(a)||S2(a)||C2(a)||T2(a)||/windows phone/i.test(a)||E2(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(a,t=[]){let e;switch(a){case"Browser":e=tT(cn());break;case"Worker":e=`${tT(cn())}-${a}`;break;default:e=a}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ld}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const d=t(o);c(d)}catch(d){h(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(a,t={}){return El(a,"GET","/v2/passwordPolicy",xu(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=6;class eP{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:tP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(e=d.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new ZN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=zr(e)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Sh.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await y2(this,{idToken:t}),i=await Hr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(qs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(t);(!c||c===h)&&(d!=null&&d.user)&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hy(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qs(this.app))return Promise.reject(bl(this));const e=t?Qr(t):null;return e&&Lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(bl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qs(this.app)?Promise.reject(bl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JN(this),e=new eP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _u("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await WN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&zr(t)||this._popupRedirectResolver;Lt(e,this,"argument-error"),this.redirectPersistenceManager=await Sh.create(this,[zr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{c=!0,d()}}else{const d=t.addObserver(e);return()=>{c=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&ON(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Id(a){return Qr(a)}class eT{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZO(e=>this.observer=e)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nP(a){Xy=a}function D2(a){return Xy.loadJS(a)}function sP(){return Xy.recaptchaEnterpriseScript}function aP(){return Xy.gapiScript}function rP(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class oP{constructor(){this.enterprise=new lP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class lP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cP="recaptcha-enterprise",M2="NO_RECAPTCHA";class uP{constructor(t){this.type=cP,this.auth=Id(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{zN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new HN(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function r(o,c,h){const d=window.grecaptcha;KS(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(M2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&KS(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=sP();d.length!==0&&(d+=h),D2(d).then(()=>{r(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function iT(a,t,e,i=!1,r=!1){const o=new uP(a);let c;if(r)c=M2;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function nT(a,t,e,i,r){var o;if(!((o=a._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await iT(a,t,e,e==="getOobCode");return i(a,c)}else return i(a,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await iT(a,t,e,e==="getOobCode");return i(a,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(a,t){const e=Hm(a,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(hu(o,t??{}))return r;Ys(r,"already-initialized")}return e.initialize({options:t})}function dP(a,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(zr);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function fP(a,t,e){const i=Id(a);Lt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=O2(t),{host:c,port:h}=pP(t),d=h===null?"":`:${h}`,m={url:`${o}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Lt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Lt(hu(m,i.config.emulator)&&hu(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,mP()}function O2(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function pP(a){const t=O2(a),e=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:sT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:sT(c)}}}function sT(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function mP(){function a(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ur("not implemented")}_getIdTokenResponse(t){return Ur("not implemented")}_linkToIdToken(t,e){return Ur("not implemented")}_getReauthenticationResolver(t){return Ur("not implemented")}}async function gP(a,t){return El(a,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(a,t){return $y(a,"POST","/v1/accounts:signInWithPassword",xu(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(a,t){return $y(a,"POST","/v1/accounts:signInWithEmailLink",xu(a,t))}async function bP(a,t){return $y(a,"POST","/v1/accounts:signInWithEmailLink",xu(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Fw{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ap(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Ap(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nT(t,e,"signInWithPassword",vP);case"emailLink":return yP(t,{email:this._email,oobCode:this._password});default:Ys(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nT(t,i,"signUpPassword",gP);case"emailLink":return bP(t,{idToken:e,email:this._email,oobCode:this._password});default:Ys(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(a,t){return $y(a,"POST","/v1/accounts:signInWithIdp",xu(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="http://localhost";class pu extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new pu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ys("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Lw(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new pu(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Th(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Th(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Th(t,e)}buildRequest(){const t={requestUri:AP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Um(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wP(a){const t=Xf(Yf(a)).link,e=t?Xf(Yf(t)).deep_link_id:null,i=Xf(Yf(a)).deep_link_id;return(i?Xf(Yf(i)).link:null)||i||e||t||a}class Uw{constructor(t){var e,i,r,o,c,h;const d=Xf(Yf(t)),m=(e=d.apiKey)!==null&&e!==void 0?e:null,v=(i=d.oobCode)!==null&&i!==void 0?i:null,b=_P((r=d.mode)!==null&&r!==void 0?r:null);Lt(m&&v&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=v,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=d.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=wP(t);try{return new Uw(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.providerId=Nd.PROVIDER_ID}static credential(t,e){return Ap._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Uw.parseLink(e);return Lt(i,"argument-error"),Ap._fromEmailAndCode(t,i.code,i.tenantId)}}Nd.PROVIDER_ID="password";Nd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends L2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Bm{constructor(){super("facebook.com")}static credential(t){return pu._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fo.credential(t.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Bm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return pu._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Uo.credentialFromTaggedObject(t)}static credentialFromError(t){return Uo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Uo.credential(e,i)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends Bm{constructor(){super("github.com")}static credential(t){return pu._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ho.credentialFromTaggedObject(t)}static credentialFromError(t){return Ho.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ho.credential(t.oauthAccessToken)}catch{return null}}}Ho.GITHUB_SIGN_IN_METHOD="github.com";Ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Bm{constructor(){super("twitter.com")}static credential(t,e){return pu._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return zo.credentialFromTaggedObject(t)}static credentialFromError(t){return zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return zo.credential(e,i)}catch{return null}}}zo.TWITTER_SIGN_IN_METHOD="twitter.com";zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Hr._fromIdTokenResponse(t,i,r),c=aT(i);return new kd({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=aT(i);return new kd({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function aT(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends Ks{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,dy.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new dy(t,e,i,r)}}function I2(a,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(a):e._getIdTokenResponse(a)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dy._fromErrorAndOperation(a,o,t,i):o})}async function xP(a,t,e=!1){const i=await bp(a,t._linkToIdToken(a.auth,await a.getIdToken()),e);return kd._forOperation(a,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(a,t,e=!1){const{auth:i}=a;if(qs(i.app))return Promise.reject(bl(i));const r="reauthenticate";try{const o=await bp(a,I2(i,r,t,a),e);Lt(o.idToken,i,"internal-error");const c=Pw(o.idToken);Lt(c,i,"internal-error");const{sub:h}=c;return Lt(a.uid===h,i,"user-mismatch"),kd._forOperation(a,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ys(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(a,t,e=!1){if(qs(a.app))return Promise.reject(bl(a));const i="signIn",r=await I2(a,i,t),o=await kd._fromIdTokenResponse(a,i,r);return e||await a._updateCurrentUser(o.user),o}async function SP(a,t){return N2(Id(a),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(a){const t=Id(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function CP(a,t,e){return qs(a.app)?Promise.reject(bl(a)):SP(Qr(a),Nd.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&TP(a),i})}function RP(a,t,e,i){return Qr(a).onIdTokenChanged(t,e,i)}function kP(a,t,e){return Qr(a).beforeAuthStateChanged(t,e)}function DP(a){return Qr(a).signOut()}const fy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(fy,"1"),this.storage.removeItem(fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=1e3,OP=10;class j2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);QN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,OP):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}j2.type="LOCAL";const LP=j2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}F2.type="SESSION";const U2=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Yy(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),d=await IP(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(a="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return a+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const m=Hw("",20);r.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(b){const A=b;if(A.data.eventId===m)switch(A.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(A.data.response);break;default:clearTimeout(v),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(){return window}function PP(a){La().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof La().WorkerGlobalScope<"u"&&typeof La().importScripts=="function"}async function jP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FP(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function UP(){return H2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="firebaseLocalStorageDb",HP=1,py="firebaseLocalStorage",B2="fbase_key";class Vm{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Wy(a,t){return a.transaction([py],t?"readwrite":"readonly").objectStore(py)}function zP(){const a=indexedDB.deleteDatabase(z2);return new Vm(a).toPromise()}function WA(){const a=indexedDB.open(z2,HP);return new Promise((t,e)=>{a.addEventListener("error",()=>{e(a.error)}),a.addEventListener("upgradeneeded",()=>{const i=a.result;try{i.createObjectStore(py,{keyPath:B2})}catch(r){e(r)}}),a.addEventListener("success",async()=>{const i=a.result;i.objectStoreNames.contains(py)?t(i):(i.close(),await zP(),t(await WA()))})})}async function rT(a,t,e){const i=Wy(a,!0).put({[B2]:t,value:e});return new Vm(i).toPromise()}async function BP(a,t){const e=Wy(a,!1).get(t),i=await new Vm(e).toPromise();return i===void 0?null:i.value}function oT(a,t){const e=Wy(a,!0).delete(t);return new Vm(e).toPromise()}const VP=800,qP=3;class V2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WA(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>qP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yy._getInstance(UP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await WA();return await rT(t,fy,"1"),await oT(t,fy),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>rT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>BP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>oT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=Wy(r,!1).getAll();return new Vm(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V2.type="LOCAL";const GP=V2;new zm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(a,t){return t?zr(t):(Lt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends Fw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Th(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Th(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Th(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function XP(a){return N2(a.auth,new zw(a),a.bypassAuthState)}function YP(a){const{auth:t,user:e}=a;return Lt(e,t,"internal-error"),EP(e,new zw(a),a.bypassAuthState)}async function WP(a){const{auth:t,user:e}=a;return Lt(e,t,"internal-error"),xP(e,new zw(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return YP;default:Ys(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new zm(2e3,1e4);class wh extends q2{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,wh.currentPopupAction&&wh.currentPopupAction.cancel(),wh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=Hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KP.get())};t()}}wh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="pendingRedirect",Cv=new Map;class ZP extends q2{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Cv.get(this.auth._key());if(!t){try{const i=await JP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Cv.set(this.auth._key(),t)}return this.bypassAuthState||Cv.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JP(a,t){const e=i3(t),i=e3(a);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function t3(a,t){Cv.set(a._key(),t)}function e3(a){return zr(a._redirectPersistence)}function i3(a){return Tv(QP,a.config.apiKey,a.name)}async function n3(a,t,e=!1){if(qs(a.app))return Promise.reject(bl(a));const i=Id(a),r=$P(i,t),c=await new ZP(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=10*60*1e3;class a3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r3(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!G2(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Oa(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=s3&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(t))}saveEventToCache(t){this.cachedEventUids.add(lT(t)),this.lastProcessedEventTime=Date.now()}}function lT(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function G2({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function r3(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(a,t={}){return El(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c3=/^https?/;async function u3(a){if(a.config.emulator)return;const{authorizedDomains:t}=await o3(a);for(const e of t)try{if(h3(e))return}catch{}Ys(a,"unauthorized-domain")}function h3(a){const t=XA(),{protocol:e,hostname:i}=new URL(t);if(a.startsWith("chrome-extension://")){const c=new URL(a);return c.hostname===""&&i===""?e==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!c3.test(e))return!1;if(l3.test(a))return i===a;const r=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new zm(3e4,6e4);function cT(){const a=La().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let e=0;e<a.CP.length;e++)a.CP[e]=null}}function f3(a){return new Promise((t,e)=>{var i,r,o;function c(){cT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cT(),e(Oa(a,"network-request-failed"))},timeout:d3.get()})}if(!((r=(i=La().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=La().gapi)===null||o===void 0)&&o.load)c();else{const h=rP("iframefcb");return La()[h]=()=>{gapi.load?c():e(Oa(a,"network-request-failed"))},D2(`${aP()}?onload=${h}`).catch(d=>e(d))}}).catch(t=>{throw Rv=null,t})}let Rv=null;function p3(a){return Rv=Rv||f3(a),Rv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new zm(5e3,15e3),g3="__/auth/iframe",v3="emulator/auth/iframe",y3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A3(a){const t=a.config;Lt(t.authDomain,a,"auth-domain-config-required");const e=t.emulator?Nw(t,v3):`https://${a.config.authDomain}/${g3}`,i={apiKey:t.apiKey,appName:a.name,v:Ld},r=b3.get(a.config.apiHost);r&&(i.eid=r);const o=a._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Um(i).slice(1)}`}async function _3(a){const t=await p3(a),e=La().gapi;return Lt(e,a,"internal-error"),t.open({where:document.body,url:A3(a),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y3,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Oa(a,"network-request-failed"),h=La().setTimeout(()=>{o(c)},m3.get());function d(){La().clearTimeout(h),r(i)}i.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x3=500,E3=600,S3="_blank",T3="http://localhost";class uT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C3(a,t,e,i=x3,r=E3){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},w3),{width:i.toString(),height:r.toString(),top:o,left:c}),m=cn().toLowerCase();e&&(h=x2(m)?S3:e),_2(m)&&(t=t||T3,d.scrollbars="yes");const v=Object.entries(d).reduce((A,[w,E])=>`${A}${w}=${E},`,"");if(KN(m)&&h!=="_self")return R3(t||"",h),new uT(null);const b=window.open(t||"",h,v);Lt(b,a,"popup-blocked");try{b.focus()}catch{}return new uT(b)}function R3(a,t){const e=document.createElement("a");e.href=a,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="__/auth/handler",D3="emulator/auth/handler",M3=encodeURIComponent("fac");async function hT(a,t,e,i,r,o){Lt(a.config.authDomain,a,"auth-domain-config-required"),Lt(a.config.apiKey,a,"invalid-api-key");const c={apiKey:a.config.apiKey,appName:a.name,authType:e,redirectUrl:i,v:Ld,eventId:r};if(t instanceof L2){t.setDefaultLanguage(a.languageCode),c.providerId=t.providerId||"",QO(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(t instanceof Bm){const v=t.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}a.tenantId&&(c.tid=a.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await a._getAppCheckToken(),m=d?`#${M3}=${encodeURIComponent(d)}`:"";return`${O3(a)}?${Um(h).slice(1)}${m}`}function O3({config:a}){return a.emulator?Nw(a,D3):`https://${a.authDomain}/${k3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="webStorageSupport";class L3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U2,this._completeRedirectFn=n3,this._overrideRedirectResult=t3}async _openPopup(t,e,i,r){var o;Xr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await hT(t,e,i,XA(),r);return C3(t,c,Hw())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await hT(t,e,i,XA(),r);return PP(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Xr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await _3(t),i=new a3(t);return e.register("authEvent",r=>(Lt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(EA,{type:EA},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[EA];c!==void 0&&e(!!c),Ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=u3(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return R2()||w2()||jw()}}const I3=L3;var dT="@firebase/auth",fT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j3(a){Ia(new Xs("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Lt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:h,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k2(a)},m=new iP(i,r,o,d);return dP(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ia(new Xs("auth-internal",t=>{const e=Id(t.getProvider("auth").getImmediate());return(i=>new N3(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(dT,fT,P3(a)),vs(dT,fT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=5*60,U3=LC("authIdTokenMaxAge")||F3;let pT=null;const H3=a=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>U3)return;const r=e==null?void 0:e.token;pT!==r&&(pT=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function z3(a=zC()){const t=Hm(a,"auth");if(t.isInitialized())return t.getImmediate();const e=hP(a,{popupRedirectResolver:I3,persistence:[GP,LP,U2]}),i=LC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=H3(o.toString());kP(e,c,()=>c(e.currentUser)),RP(e,h=>c(h))}}const r=MC("auth");return r&&fP(e,`http://${r}`),e}function B3(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}nP({loadJS(a){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",a),i.onload=t,i.onerror=r=>{const o=Oa("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",B3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j3("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $2;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,M){function D(){}D.prototype=M.prototype,P.D=M.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(j,U,$){for(var F=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)F[mt-2]=arguments[mt];return M.prototype[U].apply(j,F)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(P,M,D){D||(D=0);var j=Array(16);if(typeof M=="string")for(var U=0;16>U;++U)j[U]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(U=0;16>U;++U)j[U]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=P.g[0],D=P.g[1],U=P.g[2];var $=P.g[3],F=M+($^D&(U^$))+j[0]+3614090360&4294967295;M=D+(F<<7&4294967295|F>>>25),F=$+(U^M&(D^U))+j[1]+3905402710&4294967295,$=M+(F<<12&4294967295|F>>>20),F=U+(D^$&(M^D))+j[2]+606105819&4294967295,U=$+(F<<17&4294967295|F>>>15),F=D+(M^U&($^M))+j[3]+3250441966&4294967295,D=U+(F<<22&4294967295|F>>>10),F=M+($^D&(U^$))+j[4]+4118548399&4294967295,M=D+(F<<7&4294967295|F>>>25),F=$+(U^M&(D^U))+j[5]+1200080426&4294967295,$=M+(F<<12&4294967295|F>>>20),F=U+(D^$&(M^D))+j[6]+2821735955&4294967295,U=$+(F<<17&4294967295|F>>>15),F=D+(M^U&($^M))+j[7]+4249261313&4294967295,D=U+(F<<22&4294967295|F>>>10),F=M+($^D&(U^$))+j[8]+1770035416&4294967295,M=D+(F<<7&4294967295|F>>>25),F=$+(U^M&(D^U))+j[9]+2336552879&4294967295,$=M+(F<<12&4294967295|F>>>20),F=U+(D^$&(M^D))+j[10]+4294925233&4294967295,U=$+(F<<17&4294967295|F>>>15),F=D+(M^U&($^M))+j[11]+2304563134&4294967295,D=U+(F<<22&4294967295|F>>>10),F=M+($^D&(U^$))+j[12]+1804603682&4294967295,M=D+(F<<7&4294967295|F>>>25),F=$+(U^M&(D^U))+j[13]+4254626195&4294967295,$=M+(F<<12&4294967295|F>>>20),F=U+(D^$&(M^D))+j[14]+2792965006&4294967295,U=$+(F<<17&4294967295|F>>>15),F=D+(M^U&($^M))+j[15]+1236535329&4294967295,D=U+(F<<22&4294967295|F>>>10),F=M+(U^$&(D^U))+j[1]+4129170786&4294967295,M=D+(F<<5&4294967295|F>>>27),F=$+(D^U&(M^D))+j[6]+3225465664&4294967295,$=M+(F<<9&4294967295|F>>>23),F=U+(M^D&($^M))+j[11]+643717713&4294967295,U=$+(F<<14&4294967295|F>>>18),F=D+($^M&(U^$))+j[0]+3921069994&4294967295,D=U+(F<<20&4294967295|F>>>12),F=M+(U^$&(D^U))+j[5]+3593408605&4294967295,M=D+(F<<5&4294967295|F>>>27),F=$+(D^U&(M^D))+j[10]+38016083&4294967295,$=M+(F<<9&4294967295|F>>>23),F=U+(M^D&($^M))+j[15]+3634488961&4294967295,U=$+(F<<14&4294967295|F>>>18),F=D+($^M&(U^$))+j[4]+3889429448&4294967295,D=U+(F<<20&4294967295|F>>>12),F=M+(U^$&(D^U))+j[9]+568446438&4294967295,M=D+(F<<5&4294967295|F>>>27),F=$+(D^U&(M^D))+j[14]+3275163606&4294967295,$=M+(F<<9&4294967295|F>>>23),F=U+(M^D&($^M))+j[3]+4107603335&4294967295,U=$+(F<<14&4294967295|F>>>18),F=D+($^M&(U^$))+j[8]+1163531501&4294967295,D=U+(F<<20&4294967295|F>>>12),F=M+(U^$&(D^U))+j[13]+2850285829&4294967295,M=D+(F<<5&4294967295|F>>>27),F=$+(D^U&(M^D))+j[2]+4243563512&4294967295,$=M+(F<<9&4294967295|F>>>23),F=U+(M^D&($^M))+j[7]+1735328473&4294967295,U=$+(F<<14&4294967295|F>>>18),F=D+($^M&(U^$))+j[12]+2368359562&4294967295,D=U+(F<<20&4294967295|F>>>12),F=M+(D^U^$)+j[5]+4294588738&4294967295,M=D+(F<<4&4294967295|F>>>28),F=$+(M^D^U)+j[8]+2272392833&4294967295,$=M+(F<<11&4294967295|F>>>21),F=U+($^M^D)+j[11]+1839030562&4294967295,U=$+(F<<16&4294967295|F>>>16),F=D+(U^$^M)+j[14]+4259657740&4294967295,D=U+(F<<23&4294967295|F>>>9),F=M+(D^U^$)+j[1]+2763975236&4294967295,M=D+(F<<4&4294967295|F>>>28),F=$+(M^D^U)+j[4]+1272893353&4294967295,$=M+(F<<11&4294967295|F>>>21),F=U+($^M^D)+j[7]+4139469664&4294967295,U=$+(F<<16&4294967295|F>>>16),F=D+(U^$^M)+j[10]+3200236656&4294967295,D=U+(F<<23&4294967295|F>>>9),F=M+(D^U^$)+j[13]+681279174&4294967295,M=D+(F<<4&4294967295|F>>>28),F=$+(M^D^U)+j[0]+3936430074&4294967295,$=M+(F<<11&4294967295|F>>>21),F=U+($^M^D)+j[3]+3572445317&4294967295,U=$+(F<<16&4294967295|F>>>16),F=D+(U^$^M)+j[6]+76029189&4294967295,D=U+(F<<23&4294967295|F>>>9),F=M+(D^U^$)+j[9]+3654602809&4294967295,M=D+(F<<4&4294967295|F>>>28),F=$+(M^D^U)+j[12]+3873151461&4294967295,$=M+(F<<11&4294967295|F>>>21),F=U+($^M^D)+j[15]+530742520&4294967295,U=$+(F<<16&4294967295|F>>>16),F=D+(U^$^M)+j[2]+3299628645&4294967295,D=U+(F<<23&4294967295|F>>>9),F=M+(U^(D|~$))+j[0]+4096336452&4294967295,M=D+(F<<6&4294967295|F>>>26),F=$+(D^(M|~U))+j[7]+1126891415&4294967295,$=M+(F<<10&4294967295|F>>>22),F=U+(M^($|~D))+j[14]+2878612391&4294967295,U=$+(F<<15&4294967295|F>>>17),F=D+($^(U|~M))+j[5]+4237533241&4294967295,D=U+(F<<21&4294967295|F>>>11),F=M+(U^(D|~$))+j[12]+1700485571&4294967295,M=D+(F<<6&4294967295|F>>>26),F=$+(D^(M|~U))+j[3]+2399980690&4294967295,$=M+(F<<10&4294967295|F>>>22),F=U+(M^($|~D))+j[10]+4293915773&4294967295,U=$+(F<<15&4294967295|F>>>17),F=D+($^(U|~M))+j[1]+2240044497&4294967295,D=U+(F<<21&4294967295|F>>>11),F=M+(U^(D|~$))+j[8]+1873313359&4294967295,M=D+(F<<6&4294967295|F>>>26),F=$+(D^(M|~U))+j[15]+4264355552&4294967295,$=M+(F<<10&4294967295|F>>>22),F=U+(M^($|~D))+j[6]+2734768916&4294967295,U=$+(F<<15&4294967295|F>>>17),F=D+($^(U|~M))+j[13]+1309151649&4294967295,D=U+(F<<21&4294967295|F>>>11),F=M+(U^(D|~$))+j[4]+4149444226&4294967295,M=D+(F<<6&4294967295|F>>>26),F=$+(D^(M|~U))+j[11]+3174756917&4294967295,$=M+(F<<10&4294967295|F>>>22),F=U+(M^($|~D))+j[2]+718787259&4294967295,U=$+(F<<15&4294967295|F>>>17),F=D+($^(U|~M))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(U+(F<<21&4294967295|F>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+$&4294967295}i.prototype.u=function(P,M){M===void 0&&(M=P.length);for(var D=M-this.blockSize,j=this.B,U=this.h,$=0;$<M;){if(U==0)for(;$<=D;)r(this,P,$),$+=this.blockSize;if(typeof P=="string"){for(;$<M;)if(j[U++]=P.charCodeAt($++),U==this.blockSize){r(this,j),U=0;break}}else for(;$<M;)if(j[U++]=P[$++],U==this.blockSize){r(this,j),U=0;break}}this.h=U,this.o+=M},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;var D=8*this.o;for(M=P.length-8;M<P.length;++M)P[M]=D&255,D/=256;for(this.u(P),P=Array(16),M=D=0;4>M;++M)for(var j=0;32>j;j+=8)P[D++]=this.g[M]>>>j&255;return P};function o(P,M){var D=h;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=M(P)}function c(P,M){this.h=M;for(var D=[],j=!0,U=P.length-1;0<=U;U--){var $=P[U]|0;j&&$==M||(D[U]=$,j=!1)}this.g=D}var h={};function d(P){return-128<=P&&128>P?o(P,function(M){return new c([M|0],0>M?-1:0)}):new c([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return I(m(-P));for(var M=[],D=1,j=0;P>=D;j++)M[j]=P/D|0,D*=4294967296;return new c(M,0)}function v(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return I(v(P.substring(1),M));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(M,8)),j=b,U=0;U<P.length;U+=8){var $=Math.min(8,P.length-U),F=parseInt(P.substring(U,U+$),M);8>$?($=m(Math.pow(M,$)),j=j.j($).add(m(F))):(j=j.j(D),j=j.add(m(F)))}return j}var b=d(0),A=d(1),w=d(16777216);a=c.prototype,a.m=function(){if(C(this))return-I(this).m();for(var P=0,M=1,D=0;D<this.g.length;D++){var j=this.i(D);P+=(0<=j?j:4294967296+j)*M,M*=4294967296}return P},a.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(C(this))return"-"+I(this).toString(P);for(var M=m(Math.pow(P,6)),D=this,j="";;){var U=X(D,M).g;D=k(D,U.j(M));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=U,E(D))return $+j;for(;6>$.length;)$="0"+$;j=$+j}},a.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function C(P){return P.h==-1}a.l=function(P){return P=k(this,P),C(P)?-1:E(P)?0:1};function I(P){for(var M=P.g.length,D=[],j=0;j<M;j++)D[j]=~P.g[j];return new c(D,~P.h).add(A)}a.abs=function(){return C(this)?I(this):this},a.add=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0,U=0;U<=M;U++){var $=j+(this.i(U)&65535)+(P.i(U)&65535),F=($>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);j=F>>>16,$&=65535,F&=65535,D[U]=F<<16|$}return new c(D,D[D.length-1]&-2147483648?-1:0)};function k(P,M){return P.add(I(M))}a.j=function(P){if(E(this)||E(P))return b;if(C(this))return C(P)?I(this).j(I(P)):I(I(this).j(P));if(C(P))return I(this.j(I(P)));if(0>this.l(w)&&0>P.l(w))return m(this.m()*P.m());for(var M=this.g.length+P.g.length,D=[],j=0;j<2*M;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var U=0;U<P.g.length;U++){var $=this.i(j)>>>16,F=this.i(j)&65535,mt=P.i(U)>>>16,bt=P.i(U)&65535;D[2*j+2*U]+=F*bt,z(D,2*j+2*U),D[2*j+2*U+1]+=$*bt,z(D,2*j+2*U+1),D[2*j+2*U+1]+=F*mt,z(D,2*j+2*U+1),D[2*j+2*U+2]+=$*mt,z(D,2*j+2*U+2)}for(j=0;j<M;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=M;j<2*M;j++)D[j]=0;return new c(D,0)};function z(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function V(P,M){this.g=P,this.h=M}function X(P,M){if(E(M))throw Error("division by zero");if(E(P))return new V(b,b);if(C(P))return M=X(I(P),M),new V(I(M.g),I(M.h));if(C(M))return M=X(P,I(M)),new V(I(M.g),M.h);if(30<P.g.length){if(C(P)||C(M))throw Error("slowDivide_ only works with positive integers.");for(var D=A,j=M;0>=j.l(P);)D=K(D),j=K(j);var U=Z(D,1),$=Z(j,1);for(j=Z(j,2),D=Z(D,2);!E(j);){var F=$.add(j);0>=F.l(P)&&(U=U.add(D),$=F),j=Z(j,1),D=Z(D,1)}return M=k(P,U.j(M)),new V(U,M)}for(U=b;0<=P.l(M);){for(D=Math.max(1,Math.floor(P.m()/M.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),$=m(D),F=$.j(M);C(F)||0<F.l(P);)D-=j,$=m(D),F=$.j(M);E($)&&($=A),U=U.add($),P=k(P,F)}return new V(U,P)}a.A=function(P){return X(this,P).h},a.and=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)&P.i(j);return new c(D,this.h&P.h)},a.or=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)|P.i(j);return new c(D,this.h|P.h)},a.xor=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)^P.i(j);return new c(D,this.h^P.h)};function K(P){for(var M=P.g.length+1,D=[],j=0;j<M;j++)D[j]=P.i(j)<<1|P.i(j-1)>>>31;return new c(D,P.h)}function Z(P,M){var D=M>>5;M%=32;for(var j=P.g.length-D,U=[],$=0;$<j;$++)U[$]=0<M?P.i($+D)>>>M|P.i($+D+1)<<32-M:P.i($+D);return new c(U,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,$2=c}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,x){return p==Array.prototype||p==Object.prototype||(p[_]=x.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mv=="object"&&mv];for(var _=0;_<p.length;++_){var x=p[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=e(this);function r(p,_){if(_)t:{var x=i;p=p.split(".");for(var N=0;N<p.length-1;N++){var J=p[N];if(!(J in x))break t;x=x[J]}p=p[p.length-1],N=x[p],_=_(N),_!=N&&_!=null&&t(x,p,{configurable:!0,writable:!0,value:_})}}function o(p,_){p instanceof String&&(p+="");var x=0,N=!1,J={next:function(){if(!N&&x<p.length){var it=x++;return{value:_(it,p[it]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}r("Array.prototype.values",function(p){return p||function(){return o(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function m(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function v(p,_,x){return p.call.apply(p.bind,arguments)}function b(p,_,x){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),p.apply(_,J)}}return function(){return p.apply(_,arguments)}}function A(p,_,x){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,A.apply(null,arguments)}function w(p,_){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function E(p,_){function x(){}x.prototype=_.prototype,p.aa=_.prototype,p.prototype=new x,p.prototype.constructor=p,p.Qb=function(N,J,it){for(var vt=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)vt[ue-2]=arguments[ue];return _.prototype[J].apply(N,vt)}}function C(p){const _=p.length;if(0<_){const x=Array(_);for(let N=0;N<_;N++)x[N]=p[N];return x}return[]}function I(p,_){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(d(N)){const J=p.length||0,it=N.length||0;p.length=J+it;for(let vt=0;vt<it;vt++)p[J+vt]=N[vt]}else p.push(N)}}class k{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function X(p){return X[" "](p),p}X[" "]=function(){};var K=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Z(p,_,x){for(const N in p)_.call(x,p[N],N,p)}function P(p,_){for(const x in p)_.call(void 0,p[x],x,p)}function M(p){const _={};for(const x in p)_[x]=p[x];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(p,_){let x,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(x in N)p[x]=N[x];for(let it=0;it<D.length;it++)x=D[it],Object.prototype.hasOwnProperty.call(N,x)&&(p[x]=N[x])}}function U(p){var _=1;p=p.split(":");const x=[];for(;0<_&&p.length;)x.push(p.shift()),_--;return p.length&&x.push(p.join(":")),x}function $(p){h.setTimeout(()=>{throw p},0)}function F(){var p=dt;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class mt{constructor(){this.h=this.g=null}add(_,x){const N=bt.get();N.set(_,x),this.h?this.h.next=N:this.g=N,this.h=N}}var bt=new k(()=>new at,p=>p.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,lt=!1,dt=new mt,G=()=>{const p=h.Promise.resolve(void 0);ot=()=>{p.then(nt)}};var nt=()=>{for(var p;p=F();){try{p.h.call(p.g)}catch(x){$(x)}var _=bt;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}lt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const x=()=>{};h.addEventListener("test",x,_),h.removeEventListener("test",x,_)}catch{}return p}();function Et(p,_){if(ht.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var x=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(K){t:{try{X(_.nodeName);var J=!0;break t}catch{}J=!1}J||(_=null)}}else x=="mouseover"?_=p.fromElement:x=="mouseout"&&(_=p.toElement);this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_t[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Et.aa.h.call(this)}}E(Et,ht);var _t={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),It=0;function Kt(p,_,x,N,J){this.listener=p,this.proxy=null,this.src=_,this.type=x,this.capture=!!N,this.ha=J,this.key=++It,this.da=this.fa=!1}function Tt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,_,x,N,J){var it=p.toString();p=this.g[it],p||(p=this.g[it]=[],this.h++);var vt=Ht(p,_,N,J);return-1<vt?(_=p[vt],x||(_.fa=!1)):(_=new Kt(_,this.src,it,!!N,J),_.fa=x,p.push(_)),_};function Be(p,_){var x=_.type;if(x in p.g){var N=p.g[x],J=Array.prototype.indexOf.call(N,_,void 0),it;(it=0<=J)&&Array.prototype.splice.call(N,J,1),it&&(Tt(_),p.g[x].length==0&&(delete p.g[x],p.h--))}}function Ht(p,_,x,N){for(var J=0;J<p.length;++J){var it=p[J];if(!it.da&&it.listener==_&&it.capture==!!x&&it.ha==N)return J}return-1}var se="closure_lm_"+(1e6*Math.random()|0),ve={};function le(p,_,x,N,J){if(Array.isArray(_)){for(var it=0;it<_.length;it++)le(p,_[it],x,N,J);return null}return x=Dt(x),p&&p[St]?p.K(_,x,m(N)?!!N.capture:!1,J):ri(p,_,x,!1,N,J)}function ri(p,_,x,N,J,it){if(!_)throw Error("Invalid event type");var vt=m(J)?!!J.capture:!!J,ue=Pa(p);if(ue||(p[se]=ue=new Te(p)),x=ue.add(_,x,N,vt,it),x.proxy)return x;if(N=Fi(),x.proxy=N,N.src=p,N.listener=x,p.addEventListener)pt||(J=vt),J===void 0&&(J=!1),p.addEventListener(_.toString(),N,J);else if(p.attachEvent)p.attachEvent(Cn(_.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Fi(){function p(x){return _.call(p.src,p.listener,x)}const _=Cl;return p}function Tn(p,_,x,N,J){if(Array.isArray(_))for(var it=0;it<_.length;it++)Tn(p,_[it],x,N,J);else N=m(N)?!!N.capture:!!N,x=Dt(x),p&&p[St]?(p=p.i,_=String(_).toString(),_ in p.g&&(it=p.g[_],x=Ht(it,x,N,J),-1<x&&(Tt(it[x]),Array.prototype.splice.call(it,x,1),it.length==0&&(delete p.g[_],p.h--)))):p&&(p=Pa(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Ht(_,x,N,J)),(x=-1<p?_[p]:null)&&un(x))}function un(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[St])Be(_.i,p);else{var x=p.type,N=p.proxy;_.removeEventListener?_.removeEventListener(x,N,p.capture):_.detachEvent?_.detachEvent(Cn(x),N):_.addListener&&_.removeListener&&_.removeListener(N),(x=Pa(_))?(Be(x,p),x.h==0&&(x.src=null,_[se]=null)):Tt(p)}}}function Cn(p){return p in ve?ve[p]:ve[p]="on"+p}function Cl(p,_){if(p.da)p=!0;else{_=new Et(_,this);var x=p.listener,N=p.ha||p.src;p.fa&&un(p),p=x.call(N,_)}return p}function Pa(p){return p=p[se],p instanceof Te?p:null}var gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(p){return typeof p=="function"?p:(p[gt]||(p[gt]=function(_){return p.handleEvent(_)}),p[gt])}function zt(){ft.call(this),this.i=new Te(this),this.M=this,this.F=null}E(zt,ft),zt.prototype[St]=!0,zt.prototype.removeEventListener=function(p,_,x,N){Tn(this,p,_,x,N)};function jt(p,_){var x,N=p.F;if(N)for(x=[];N;N=N.F)x.push(N);if(p=p.M,N=_.type||_,typeof _=="string")_=new ht(_,p);else if(_ instanceof ht)_.target=_.target||p;else{var J=_;_=new ht(N,p),j(_,J)}if(J=!0,x)for(var it=x.length-1;0<=it;it--){var vt=_.g=x[it];J=ye(vt,N,!0,_)&&J}if(vt=_.g=p,J=ye(vt,N,!0,_)&&J,J=ye(vt,N,!1,_)&&J,x)for(it=0;it<x.length;it++)vt=_.g=x[it],J=ye(vt,N,!1,_)&&J}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var x=p.g[_],N=0;N<x.length;N++)Tt(x[N]);delete p.g[_],p.h--}}this.F=null},zt.prototype.K=function(p,_,x,N){return this.i.add(String(p),_,!1,x,N)},zt.prototype.L=function(p,_,x,N){return this.i.add(String(p),_,!0,x,N)};function ye(p,_,x,N){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,it=0;it<_.length;++it){var vt=_[it];if(vt&&!vt.da&&vt.capture==x){var ue=vt.listener,Me=vt.ha||vt.src;vt.fa&&Be(p.i,vt),J=ue.call(Me,N)!==!1&&J}}return J&&!N.defaultPrevented}function Ki(p,_,x){if(typeof p=="function")x&&(p=A(p,x));else if(p&&typeof p.handleEvent=="function")p=A(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(p,_||0)}function Ui(p){p.g=Ki(()=>{p.g=null,p.i&&(p.i=!1,Ui(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Rl extends ft{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(p){ft.call(this),this.h=p,this.g={}}E(_s,ft);var Xn=[];function We(p){Z(p.g,function(_,x){this.g.hasOwnProperty(x)&&un(_)},p),p.g={}}_s.prototype.N=function(){_s.aa.N.call(this),We(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ja=h.JSON.stringify,hn=h.JSON.parse,oi=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Fa(){}Fa.prototype.h=null;function Cu(p){return p.h||(p.h=p.i())}function h0(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){ht.call(this,"d")}E(Zr,ht);function ws(){ht.call(this,"c")}E(ws,ht);var xs={},Jr=null;function Ud(){return Jr=Jr||new zt}xs.La="serverreachability";function Hd(p){ht.call(this,xs.La,p)}E(Hd,ht);function to(p){const _=Ud();jt(_,new Hd(_))}xs.STAT_EVENT="statevent";function Ru(p,_){ht.call(this,xs.STAT_EVENT,p),this.stat=_}E(Ru,ht);function Ke(p){const _=Ud();jt(_,new Ru(_,p))}xs.Ma="timingevent";function Qm(p,_){ht.call(this,xs.Ma,p),this.size=_}E(Qm,ht);function eo(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},_)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function Zm(p,_,x,N,J,it){p.info(function(){if(p.g)if(it)for(var vt="",ue=it.split("&"),Me=0;Me<ue.length;Me++){var ee=ue[Me].split("=");if(1<ee.length){var bi=ee[0];ee=ee[1];var Ai=bi.split("_");vt=2<=Ai.length&&Ai[1]=="type"?vt+(bi+"="+ee+"&"):vt+(bi+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+_+`
`+x+`
`+vt})}function Jm(p,_,x,N,J,it,vt){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+_+`
`+x+`
`+it+" "+vt})}function no(p,_,x,N){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+gi(p,x)+(N?" "+N:"")})}function Js(p,_){p.info(function(){return"TIMEOUT: "+_})}io.prototype.info=function(){};function gi(p,_){if(!p.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(p=0;p<x.length;p++)if(Array.isArray(x[p])){var N=x[p];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var it=J[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<J.length;vt++)J[vt]=""}}}}return ja(x)}catch{return _}}var vi={NO_ERROR:0,TIMEOUT:8},so={},kl;function ku(){}E(ku,Fa),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},kl=new ku;function ta(p,_,x,N){this.j=p,this.i=_,this.l=x,this.R=N||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zd}function zd(){this.i=null,this.g="",this.h=!1}var ao={},Dl={};function Es(p,_,x){p.L=1,p.v=Ll(Ve(_)),p.m=x,p.P=!0,Ua(p,null)}function Ua(p,_){p.F=Date.now(),Ie(p),p.A=Ve(p.v);var x=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),Ba(x.i,"t",N),p.C=0,x=p.j.J,p.h=new zd,p.g=fg(p.j,x?_:null,!p.m),0<p.O&&(p.M=new Rl(A(p.Y,p,p.g),p.O)),_=p.U,x=p.g,N=p.ca;var J="readystatechange";Array.isArray(J)||(J&&(Xn[0]=J.toString()),J=Xn);for(var it=0;it<J.length;it++){var vt=le(x,J[it],N||_.handleEvent,!1,_.h||_);if(!vt)break;_.g[vt.key]=vt}_=p.H?M(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),to(),Zm(p.i,p.u,p.A,p.l,p.R,p.m)}ta.prototype.ca=function(p){p=p.target;const _=this.M;_&&Zn(p)==3?_.j():this.Y(p)},ta.prototype.Y=function(p){try{if(p==this.g)t:{const Ai=Zn(this.g);var _=this.g.Ba();const $a=this.g.Z();if(!(3>Ai)&&(Ai!=3||this.g&&(this.h.h||this.g.oa()||ag(this.g)))){this.J||Ai!=4||_==7||(_==8||0>=$a?to(3):to(2)),Du(this);var x=this.g.Z();this.X=x;e:if(ro(this)){var N=ag(this.g);p="";var J=N.length,it=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Rn(this);var vt="";break e}this.h.i=new h.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,p+=this.h.i.decode(N[_],{stream:!(it&&_==J-1)});N.length=0,this.h.g+=p,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=x==200,Jm(this.i,this.u,this.A,this.l,this.R,Ai,x),this.o){if(this.T&&!this.K){e:{if(this.g){var ue,Me=this.g;if((ue=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ue)){var ee=ue;break e}}ee=null}if(x=ee)no(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kn(this,x);else{this.o=!1,this.s=3,Ke(12),dn(this),Rn(this);break t}}if(this.P){x=!0;let pn;for(;!this.J&&this.C<vt.length;)if(pn=oo(this,vt),pn==Dl){Ai==4&&(this.s=4,Ke(14),x=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ao){this.s=4,Ke(15),no(this.i,this.l,vt,"[Invalid Chunk]"),x=!1;break}else no(this.i,this.l,pn,null),kn(this,pn);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ai!=4||vt.length!=0||this.h.h||(this.s=1,Ke(16),x=!1),this.o=this.o&&x,!x)no(this.i,this.l,vt,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(0<vt.length&&!this.W){this.W=!0;var bi=this.j;bi.g==this&&bi.ba&&!bi.M&&(bi.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Hl(bi),bi.M=!0,Ke(11))}}else no(this.i,this.l,vt,null),kn(this,vt);Ai==4&&dn(this),this.o&&!this.J&&(Ai==4?ug(this.j,this):(this.o=!1,Ie(this)))}else v0(this.g),x==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),dn(this),Rn(this)}}}catch{}finally{}};function ro(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function oo(p,_){var x=p.C,N=_.indexOf(`
`,x);return N==-1?Dl:(x=Number(_.substring(x,N)),isNaN(x)?ao:(N+=1,N+x>_.length?Dl:(_=_.slice(N,N+x),p.C=N+x,_)))}ta.prototype.cancel=function(){this.J=!0,dn(this)};function Ie(p){p.S=Date.now()+p.I,Bd(p,p.I)}function Bd(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=eo(A(p.ba,p),_)}function Du(p){p.B&&(h.clearTimeout(p.B),p.B=null)}ta.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Js(this.i,this.A),this.L!=2&&(to(),Ke(17)),dn(this),this.s=2,Rn(this)):Bd(this,this.S-p)};function Rn(p){p.j.G==0||p.J||ug(p.j,p)}function dn(p){Du(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,We(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function kn(p,_){try{var x=p.j;if(x.G!=0&&(x.g==p||lo(x.h,p))){if(!p.K&&lo(x.h,p)&&x.G==3){try{var N=x.Da.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<p.F)Hu(x),Fu(x);else break t;Jd(x),Ke(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=eo(A(x.Za,x),6e3));if(1>=tg(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ga(x,11)}else if((p.K||x.g==p)&&Hu(x),!z(_))for(J=x.Da.g.parse(_),_=0;_<J.length;_++){let ee=J[_];if(x.T=ee[0],ee=ee[1],x.G==2)if(ee[0]=="c"){x.K=ee[1],x.ia=ee[2];const bi=ee[3];bi!=null&&(x.la=bi,x.j.info("VER="+x.la));const Ai=ee[4];Ai!=null&&(x.Aa=Ai,x.j.info("SVER="+x.Aa));const $a=ee[5];$a!=null&&typeof $a=="number"&&0<$a&&(N=1.5*$a,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const pn=p.g;if(pn){const ra=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var it=N.h;it.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(co(it,it.h),it.h=null))}if(N.D){const Xa=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(N.ya=Xa,ae(N.I,N.D,Xa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-p.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var vt=p;if(N.qa=dg(N,N.J?N.ia:null,N.W),vt.K){Yn(N.h,vt);var ue=vt,Me=N.L;Me&&(ue.I=Me),ue.B&&(Du(ue),Ie(ue)),N.g=vt}else lg(N);0<x.i.length&&Uu(x)}else ee[0]!="stop"&&ee[0]!="close"||Ga(x,7);else x.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Ga(x,7):Qd(x):ee[0]!="noop"&&x.l&&x.l.ta(ee),x.v=0)}}to(4)}catch{}}var d0=class{constructor(p,_){this.g=p,this.map=_}};function Vd(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qd(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function tg(p){return p.h?1:p.g?p.g.size:0}function lo(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function co(p,_){p.g?p.g.add(_):p.h=_}function Yn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Vd.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Qi(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const x of p.g.values())_=_.concat(x.D);return _}return C(p.i)}function eg(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var _=[],x=p.length,N=0;N<x;N++)_.push(p[N]);return _}_=[],x=0;for(N in p)_[x++]=p[N];return _}function f0(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var _=[];p=p.length;for(var x=0;x<p;x++)_.push(x);return _}_=[],x=0;for(const N in p)_[x++]=N;return _}}}function Ml(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var x=f0(p),N=eg(p),J=N.length,it=0;it<J;it++)_.call(void 0,N[it],x&&x[it],p)}var Gd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mu(p,_){if(p){p=p.split("&");for(var x=0;x<p.length;x++){var N=p[x].indexOf("="),J=null;if(0<=N){var it=p[x].substring(0,N);J=p[x].substring(N+1)}else it=p[x];_(it,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ha(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ha){this.h=p.h,uo(this,p.j),this.o=p.o,this.g=p.g,Ol(this,p.s),this.l=p.l;var _=p.i,x=new ea;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),Ou(this,x),this.m=p.m}else p&&(_=String(p).match(Gd))?(this.h=!1,uo(this,_[1]||"",!0),this.o=ho(_[2]||""),this.g=ho(_[3]||"",!0),Ol(this,_[4]),this.l=ho(_[5]||"",!0),Ou(this,_[6]||"",!0),this.m=ho(_[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}Ha.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Wn(_,$d,!0),":");var x=this.g;return(x||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Wn(_,$d,!0),"@"),p.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&p.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&p.push("/"),p.push(Wn(x,x.charAt(0)=="/"?Xd:ig,!0))),(x=this.i.toString())&&p.push("?",x),(x=this.m)&&p.push("#",Wn(x,g0)),p.join("")};function Ve(p){return new Ha(p)}function uo(p,_,x){p.j=x?ho(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ol(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Ou(p,_,x){_ instanceof ea?(p.i=_,Yd(p.i,p.h)):(x||(_=Wn(_,m0)),p.i=new ea(_,p.h))}function ae(p,_,x){p.i.set(_,x)}function Ll(p){return ae(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ho(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Wn(p,_,x){return typeof p=="string"?(p=encodeURI(p).replace(_,p0),x&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function p0(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var $d=/[#\/\?@]/g,ig=/[#\?:]/g,Xd=/[#\?]/g,m0=/[#\?@]/g,g0=/#/g;function ea(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Kn(p){p.g||(p.g=new Map,p.h=0,p.i&&Mu(p.i,function(_,x){p.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}a=ea.prototype,a.add=function(p,_){Kn(this),this.i=null,p=Va(this,p);var x=this.g.get(p);return x||this.g.set(p,x=[]),x.push(_),this.h+=1,this};function Lu(p,_){Kn(p),_=Va(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function za(p,_){return Kn(p),_=Va(p,_),p.g.has(_)}a.forEach=function(p,_){Kn(this),this.g.forEach(function(x,N){x.forEach(function(J){p.call(_,J,N,this)},this)},this)},a.na=function(){Kn(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let N=0;N<_.length;N++){const J=p[N];for(let it=0;it<J.length;it++)x.push(_[N])}return x},a.V=function(p){Kn(this);let _=[];if(typeof p=="string")za(this,p)&&(_=_.concat(this.g.get(Va(this,p))));else{p=Array.from(this.g.values());for(let x=0;x<p.length;x++)_=_.concat(p[x])}return _},a.set=function(p,_){return Kn(this),this.i=null,p=Va(this,p),za(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},a.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Ba(p,_,x){Lu(p,_),0<x.length&&(p.i=null,p.g.set(Va(p,_),C(x)),p.h+=x.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var N=_[x];const it=encodeURIComponent(String(N)),vt=this.V(N);for(N=0;N<vt.length;N++){var J=it;vt[N]!==""&&(J+="="+encodeURIComponent(String(vt[N]))),p.push(J)}}return this.i=p.join("&")};function Va(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Yd(p,_){_&&!p.j&&(Kn(p),p.i=null,p.g.forEach(function(x,N){var J=N.toLowerCase();N!=J&&(Lu(this,N),Ba(this,J,x))},p)),p.j=_}function ng(p,_){const x=new io;if(h.Image){const N=new Image;N.onload=w(Qn,x,"TestLoadImage: loaded",!0,_,N),N.onerror=w(Qn,x,"TestLoadImage: error",!1,_,N),N.onabort=w(Qn,x,"TestLoadImage: abort",!1,_,N),N.ontimeout=w(Qn,x,"TestLoadImage: timeout",!1,_,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else _(!1)}function Il(p,_){const x=new io,N=new AbortController,J=setTimeout(()=>{N.abort(),Qn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:N.signal}).then(it=>{clearTimeout(J),it.ok?Qn(x,"TestPingServer: ok",!0,_):Qn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),Qn(x,"TestPingServer: error",!1,_)})}function Qn(p,_,x,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(x)}catch{}}function Nl(){this.g=new oi}function ia(p,_,x){const N=x||"";try{Ml(p,function(J,it){let vt=J;m(J)&&(vt=ja(J)),_.push(N+it+"="+encodeURIComponent(vt))})}catch(J){throw _.push(N+"type="+encodeURIComponent("_badmap")),J}}function fo(p){this.l=p.Ub||null,this.j=p.eb||!1}E(fo,Fa),fo.prototype.g=function(){return new qa(this.l,this.j)},fo.prototype.i=function(p){return function(){return p}}({});function qa(p,_){zt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(qa,zt),a=qa.prototype,a.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,sa(this)},a.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},a.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}a.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?na(this):sa(this),this.readyState==3&&Wd(this)}},a.Ra=function(p){this.g&&(this.response=this.responseText=p,na(this))},a.Qa=function(p){this.g&&(this.response=p,na(this))},a.ga=function(){this.g&&na(this)};function na(p){p.readyState=4,p.l=null,p.j=null,p.v=null,sa(p)}a.setRequestHeader=function(p,_){this.u.append(p,_)},a.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,p.push(x[0]+": "+x[1]),x=_.next();return p.join(`\r
`)};function sa(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Kd(p){let _="";return Z(p,function(x,N){_+=N,_+=":",_+=x,_+=`\r
`}),_}function yi(p,_,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=Kd(x),typeof p=="string"?x!=null&&encodeURIComponent(String(x)):ae(p,_,x))}function fe(p){zt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(fe,zt);var Iu=/^https?$/i,Pl=["POST","PUT"];a=fe.prototype,a.Ha=function(p){this.J=p},a.ea=function(p,_,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kl.g(),this.v=this.o?Cu(this.o):Cu(kl),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(it){sg(this,it);return}if(p=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)x.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const it of N.keys())x.set(it,N.get(it));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(it=>it.toLowerCase()=="content-type"),J=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Pl,_,void 0))||N||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of x)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jl(this),this.u=!0,this.g.send(p),this.u=!1}catch(it){sg(this,it)}};function sg(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Nu(p),aa(p)}function Nu(p){p.A||(p.A=!0,jt(p,"complete"),jt(p,"error"))}a.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,jt(this,"complete"),jt(this,"abort"),aa(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),aa(this,!0)),fe.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},a.bb=function(){Pu(this)};function Pu(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Zn(p)!=4||p.Z()!=2)){if(p.u&&Zn(p)==4)Ki(p.Ea,0,p);else if(jt(p,"readystatechange"),Zn(p)==4){p.h=!1;try{const vt=p.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var x;if(!(x=_)){var N;if(N=vt===0){var J=String(p.D).match(Gd)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),N=!Iu.test(J?J.toLowerCase():"")}x=N}if(x)jt(p,"complete"),jt(p,"success");else{p.m=6;try{var it=2<Zn(p)?p.g.statusText:""}catch{it=""}p.l=it+" ["+p.Z()+"]",Nu(p)}}finally{aa(p)}}}}function aa(p,_){if(p.g){jl(p);const x=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||jt(p,"ready");try{x.onreadystatechange=N}catch{}}}function jl(p){p.I&&(h.clearTimeout(p.I),p.I=null)}a.isActive=function(){return!!this.g};function Zn(p){return p.g?p.g.readyState:0}a.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),hn(_)}};function ag(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function v0(p){const _={};p=(p.g&&2<=Zn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(z(p[N]))continue;var x=U(p[N]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const it=_[J]||[];_[J]=it,it.push(x)}P(_,function(N){return N.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(p,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[p]||_}function ju(p){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fl("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fl("baseRetryDelayMs",5e3,p),this.cb=Fl("retryDelaySeedMs",1e4,p),this.Wa=Fl("forwardChannelMaxRetries",2,p),this.wa=Fl("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Vd(p&&p.concurrentRequestLimit),this.Da=new Nl,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=ju.prototype,a.la=8,a.G=1,a.connect=function(p,_,x,N){Ke(0),this.W=p,this.H=_||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=dg(this,null,this.W),Uu(this)};function Qd(p){if(rg(p),p.G==3){var _=p.U++,x=Ve(p.I);if(ae(x,"SID",p.K),ae(x,"RID",_),ae(x,"TYPE","terminate"),Ul(p,x),_=new ta(p,p.j,_),_.L=2,_.v=Ll(Ve(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=_.v,x=!0),x||(_.g=fg(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ie(_)}hg(p)}function Fu(p){p.g&&(Hl(p),p.g.cancel(),p.g=null)}function rg(p){Fu(p),p.u&&(h.clearTimeout(p.u),p.u=null),Hu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Uu(p){if(!qd(p.h)&&!p.s){p.s=!0;var _=p.Ga;ot||G(),lt||(ot(),lt=!0),dt.add(_,p),p.B=0}}function y0(p,_){return tg(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=eo(A(p.Ga,p,_),tf(p,p.B)),p.B++,!0)}a.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const J=new ta(this,this.j,p);let it=this.o;if(this.S&&(it?(it=M(it),j(it,this.S)):it=this.S),this.m!==null||this.O||(J.H=it,it=null),this.P)t:{for(var _=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(_+=N,4096<_){_=x;break t}if(_===4096||x===this.i.length-1){_=x+1;break t}}_=1e3}else _=1e3;_=og(this,J,_),x=Ve(this.I),ae(x,"RID",p),ae(x,"CVER",22),this.D&&ae(x,"X-HTTP-Session-Id",this.D),Ul(this,x),it&&(this.O?_="headers="+encodeURIComponent(String(Kd(it)))+"&"+_:this.m&&yi(x,this.m,it)),co(this.h,J),this.Ua&&ae(x,"TYPE","init"),this.P?(ae(x,"$req",_),ae(x,"SID","null"),J.T=!0,Es(J,x,null)):Es(J,x,_),this.G=2}}else this.G==3&&(p?Zd(this,p):this.i.length==0||qd(this.h)||Zd(this))};function Zd(p,_){var x;_?x=_.l:x=p.U++;const N=Ve(p.I);ae(N,"SID",p.K),ae(N,"RID",x),ae(N,"AID",p.T),Ul(p,N),p.m&&p.o&&yi(N,p.m,p.o),x=new ta(p,p.j,x,p.B+1),p.m===null&&(x.H=p.o),_&&(p.i=_.D.concat(p.i)),_=og(p,x,1e3),x.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),co(p.h,x),Es(x,N,_)}function Ul(p,_){p.H&&Z(p.H,function(x,N){ae(_,N,x)}),p.l&&Ml({},function(x,N){ae(_,N,x)})}function og(p,_,x){x=Math.min(p.i.length,x);var N=p.l?A(p.l.Na,p.l,p):null;t:{var J=p.i;let it=-1;for(;;){const vt=["count="+x];it==-1?0<x?(it=J[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let ue=!0;for(let Me=0;Me<x;Me++){let ee=J[Me].g;const bi=J[Me].map;if(ee-=it,0>ee)it=Math.max(0,J[Me].g-100),ue=!1;else try{ia(bi,vt,"req"+ee+"_")}catch{N&&N(bi)}}if(ue){N=vt.join("&");break t}}}return p=p.i.splice(0,x),_.D=p,N}function lg(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;ot||G(),lt||(ot(),lt=!0),dt.add(_,p),p.v=0}}function Jd(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=eo(A(p.Fa,p),tf(p,p.v)),p.v++,!0)}a.Fa=function(){if(this.u=null,cg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=eo(A(this.ab,this),p)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),Fu(this),cg(this))};function Hl(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function cg(p){p.g=new ta(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Ve(p.qa);ae(_,"RID","rpc"),ae(_,"SID",p.K),ae(_,"AID",p.T),ae(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&ae(_,"TO",p.ja),ae(_,"TYPE","xmlhttp"),Ul(p,_),p.m&&p.o&&yi(_,p.m,p.o),p.L&&(p.g.I=p.L);var x=p.g;p=p.ia,x.L=1,x.v=Ll(Ve(_)),x.m=null,x.P=!0,Ua(x,p)}a.Za=function(){this.C!=null&&(this.C=null,Fu(this),Jd(this),Ke(19))};function Hu(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function ug(p,_){var x=null;if(p.g==_){Hu(p),Hl(p),p.g=null;var N=2}else if(lo(p.h,_))x=_.D,Yn(p.h,_),N=1;else return;if(p.G!=0){if(_.o)if(N==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var J=p.B;N=Ud(),jt(N,new Qm(N,x)),Uu(p)}else lg(p);else if(J=_.s,J==3||J==0&&0<_.X||!(N==1&&y0(p,_)||N==2&&Jd(p)))switch(x&&0<x.length&&(_=p.h,_.i=_.i.concat(x)),J){case 1:Ga(p,5);break;case 4:Ga(p,10);break;case 3:Ga(p,6);break;default:Ga(p,2)}}}function tf(p,_){let x=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(x*=2),x*_}function Ga(p,_){if(p.j.info("Error code "+_),_==2){var x=A(p.fb,p),N=p.Xa;const J=!N;N=new Ha(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||uo(N,"https"),Ll(N),J?ng(N.toString(),x):Il(N.toString(),x)}else Ke(2);p.G=0,p.l&&p.l.sa(_),hg(p),rg(p)}a.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function hg(p){if(p.G=0,p.ka=[],p.l){const _=Qi(p.h);(_.length!=0||p.i.length!=0)&&(I(p.ka,_),I(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function dg(p,_,x){var N=x instanceof Ha?Ve(x):new Ha(x);if(N.g!="")_&&(N.g=_+"."+N.g),Ol(N,N.s);else{var J=h.location;N=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var it=new Ha(null);N&&uo(it,N),_&&(it.g=_),J&&Ol(it,J),x&&(it.l=x),N=it}return x=p.D,_=p.ya,x&&_&&ae(N,x,_),ae(N,"VER",p.la),Ul(p,N),N}function fg(p,_,x){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new fe(new fo({eb:x})):new fe(p.pa),_.Ha(p.J),_}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function pg(){}a=pg.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function fn(p,_){zt.call(this),this.g=new ju(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!z(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!z(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new po(this)}E(fn,zt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Qd(this.g)},fn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var x={};x.__data__=p,p=x}else this.u&&(x={},x.__data__=ja(p),p=x);_.i.push(new d0(_.Ya++,p)),_.G==3&&Uu(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Qd(this.g),delete this.g,fn.aa.N.call(this)};function mg(p){Zr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){t:{for(const x in _){p=x;break t}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}E(mg,Zr);function gg(){ws.call(this),this.status=1}E(gg,ws);function po(p){this.g=p}E(po,pg),po.prototype.ua=function(){jt(this.g,"a")},po.prototype.ta=function(p){jt(this.g,new mg(p))},po.prototype.sa=function(p){jt(this.g,new gg)},po.prototype.ra=function(){jt(this.g,"b")},fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,so.COMPLETE="complete",h0.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",zt.prototype.listen=zt.prototype.K,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",vT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Vy("@firebase/firestore");function Gs(a,...t){if(Dd.logLevel<=de.DEBUG){const e=t.map(Bw);Dd.debug(`Firestore (${qm}): ${a}`,...e)}}function X2(a,...t){if(Dd.logLevel<=de.ERROR){const e=t.map(Bw);Dd.error(`Firestore (${qm}): ${a}`,...e)}}function V3(a,...t){if(Dd.logLevel<=de.WARN){const e=t.map(Bw);Dd.warn(`Firestore (${qm}): ${a}`,...e)}}function Bw(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(a="Unexpected state"){const t=`FIRESTORE (${qm}) INTERNAL ASSERTION FAILED: `+a;throw X2(t),new Error(t)}function fp(a,t){a||Vw()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class xn extends Ks{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(sn.UNAUTHENTICATED))}shutdown(){}}class G3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class $3{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){fp(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new pp;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pp,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{Gs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Gs("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pp)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Gs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fp(typeof i.accessToken=="string"),new Y2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fp(t===null||typeof t=="string"),new sn(t)}}class X3{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y3{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new X3(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W3{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,qs(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){fp(this.o===void 0);const i=o=>{o.error!=null&&Gs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,Gs("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Gs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):Gs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new yT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fp(typeof e.token=="string"),this.R=e.token,new yT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K3(a){return a.name==="IndexedDbTransactionError"}const KA="(default)";class my{constructor(t,e){this.projectId=t,this.database=e||KA}static empty(){return new my("","")}get isDefaultDatabase(){return this.database===KA}isEqual(t){return t instanceof my&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT,ne;(ne=bT||(bT={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $2([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1048576;function SA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=r,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,e-i);r>0&&Gs("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new qw(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xn(wn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var AT,_T;(_T=AT||(AT={}))._a="default",_T.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;function e4(a,t,e,i){if(t===!0&&i===!0)throw new xn(wn.INVALID_ARGUMENT,`${a} and ${e} cannot be used together.`)}function i4(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":Vw()}function n4(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new xn(wn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=i4(a);throw new xn(wn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firestore.googleapis.com",xT=!0;class ET{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new xn(wn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W2,this.ssl=xT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:xT;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q3;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Z3)throw new xn(wn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t4((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new xn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xn(wn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class K2{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xn(wn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xn(wn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new q3;switch(i.type){case"firstParty":return new Y3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xn(wn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=wT.get(e);i&&(Gs("ComponentProvider","Removing Datastore"),wT.delete(e),i.terminate())}(this),Promise.resolve()}}function s4(a,t,e,i={}){var r;const o=(a=n4(a,K2))._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:a._getEmulatorOptions()}),h=`${t}:${e}`;o.host!==W2&&o.host!==h&&V3("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!hu(d,c)&&(a._setSettings(d),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=sn.MOCK_USER;else{m=BO(i.mockUserToken,(r=a._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new xn(wn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}a._authCredentials=new G3(new Y2(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="AsyncQueue";class TT{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new J3(this,"async_queue_retry"),this.Su=()=>{const i=SA();i&&Gs(ST,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=t;const e=SA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=SA();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new pp;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!K3(t))throw t;Gs(ST,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const r=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw X2("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const r=qw.createAndSchedule(this,t,e,i,o=>this.Fu(o));return this.fu.push(r),r}Du(){this.gu&&Vw()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class a4 extends K2{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new TT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TT(t),this._firestoreClient=void 0,await t}}}function r4(a,t){const e=typeof a=="object"?a:zC(),i=typeof a=="string"?a:KA,r=Hm(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=HO("firestore");o&&s4(r,...o)}return r}(function(t,e=!0){(function(r){qm=r})(Ld),Ia(new Xs("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new a4(new $3(i.getProvider("auth-internal")),new W3(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xn(wn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new my(m.options.projectId,v)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),vs(gT,vT,t),vs(gT,vT,"esm2017")})();const o4={apiKey:"AIzaSyDuEQtial0HScShpwupRXDpRzC9NAa3fYM",authDomain:"speech-articulator.firebaseapp.com",projectId:"speech-articulator",storageBucket:"speech-articulator.firebasestorage.app",messagingSenderId:"671350928114",appId:"1:671350928114:web:8628d9681cf4bd5472966b",measurementId:"G-XCWG5DDD36"},Q2=HC(o4),Gw=z3(Q2);r4(Q2);const Z2=H.createContext();function J2(){return H.useContext(Z2)}function l4({children:a}){const[t,e]=H.useState(null),[i,r]=H.useState(!0);H.useEffect(()=>Gw.onAuthStateChanged(h=>{console.log(h),e(h),r(!1)}),[]);const o={currentUser:t,loading:i};return q.jsx(Z2.Provider,{value:o,children:a})}var Bf={},CT;function c4(){if(CT)return Bf;CT=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.parse=c,Bf.serialize=m;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,w){const E=new o,C=A.length;if(C<2)return E;const I=(w==null?void 0:w.decode)||v;let k=0;do{const z=A.indexOf("=",k);if(z===-1)break;const V=A.indexOf(";",k),X=V===-1?C:V;if(z>X){k=A.lastIndexOf(";",z-1)+1;continue}const K=h(A,k,z),Z=d(A,z,K),P=A.slice(K,Z);if(E[P]===void 0){let M=h(A,z+1,X),D=d(A,X,M);const j=I(A.slice(M,D));E[P]=j}k=X+1}while(k<C);return E}function h(A,w,E){do{const C=A.charCodeAt(w);if(C!==32&&C!==9)return w}while(++w<E);return E}function d(A,w,E){for(;w>E;){const C=A.charCodeAt(--w);if(C!==32&&C!==9)return w+1}return E}function m(A,w,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!a.test(A))throw new TypeError(`argument name is invalid: ${A}`);const I=C(w);if(!t.test(I))throw new TypeError(`argument val is invalid: ${w}`);let k=A+"="+I;if(!E)return k;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);k+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);k+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);k+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);k+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(k+="; HttpOnly"),E.secure&&(k+="; Secure"),E.partitioned&&(k+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return k}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return r.call(A)==="[object Date]"}return Bf}c4();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RT="popstate";function u4(a={}){function t(i,r){let{pathname:o,search:c,hash:h}=i.location;return QA("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:_p(r)}return d4(t,e,null,a)}function Le(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Ws(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h4(){return Math.random().toString(36).substring(2,10)}function kT(a,t){return{usr:a.state,key:a.key,idx:t}}function QA(a,t,e=null,i){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?Pd(t):t,state:e,key:t&&t.key||i||h4()}}function _p({pathname:a="/",search:t="",hash:e=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(a+=e.charAt(0)==="#"?e:"#"+e),a}function Pd(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substring(e),a=a.substring(0,e));let i=a.indexOf("?");i>=0&&(t.search=a.substring(i),a=a.substring(0,i)),a&&(t.pathname=a)}return t}function d4(a,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",d=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let I=v(),k=I==null?null:I-m;m=I,d&&d({action:h,location:C.location,delta:k})}function A(I,k){h="PUSH";let z=QA(C.location,I,k);m=v()+1;let V=kT(z,m),X=C.createHref(z);try{c.pushState(V,"",X)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;r.location.assign(X)}o&&d&&d({action:h,location:C.location,delta:1})}function w(I,k){h="REPLACE";let z=QA(C.location,I,k);m=v();let V=kT(z,m),X=C.createHref(z);c.replaceState(V,"",X),o&&d&&d({action:h,location:C.location,delta:0})}function E(I){let k=r.location.origin!=="null"?r.location.origin:r.location.href,z=typeof I=="string"?I:_p(I);return z=z.replace(/ $/,"%20"),Le(k,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,k)}let C={get action(){return h},get location(){return a(r,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(RT,b),d=I,()=>{r.removeEventListener(RT,b),d=null}},createHref(I){return t(r,I)},createURL:E,encodeLocation(I){let k=E(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:A,replace:w,go(I){return c.go(I)}};return C}function tR(a,t,e="/"){return f4(a,t,e,!1)}function f4(a,t,e,i){let r=typeof t=="string"?Pd(t):t,o=Yr(r.pathname||"/",e);if(o==null)return null;let c=eR(a);p4(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=S4(o);h=x4(c[d],m,i)}return h}function eR(a,t=[],e=[],i=""){let r=(o,c,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(Le(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=Br([i,d.relativePath]),v=e.concat(d);o.children&&o.children.length>0&&(Le(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),eR(o.children,t,v,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:_4(m,o.index),routesMeta:v})};return a.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,c);else for(let d of iR(o.path))r(o,c,d)}),t}function iR(a){let t=a.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=iR(i.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>a.startsWith("/")&&d===""?"/":d)}function p4(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:w4(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var m4=/^:[\w-]+$/,g4=3,v4=2,y4=1,b4=10,A4=-2,DT=a=>a==="*";function _4(a,t){let e=a.split("/"),i=e.length;return e.some(DT)&&(i+=A4),t&&(i+=v4),e.filter(r=>!DT(r)).reduce((r,o)=>r+(m4.test(o)?g4:o===""?y4:b4),i)}function w4(a,t){return a.length===t.length&&a.slice(0,-1).every((i,r)=>i===t[r])?a[a.length-1]-t[t.length-1]:0}function x4(a,t,e=!1){let{routesMeta:i}=a,r={},o="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,v=o==="/"?t:t.slice(o.length)||"/",b=gy({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),A=d.route;if(!b&&m&&e&&!i[i.length-1].route.index&&(b=gy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:Br([o,b.pathname]),pathnameBase:k4(Br([o,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(o=Br([o,b.pathnameBase]))}return c}function gy(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,i]=E4(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:b},A)=>{if(v==="*"){let E=h[A]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=h[A];return b&&!w?m[v]=void 0:m[v]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:a}}function E4(a,t=!1,e=!0){Ws(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let i=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function S4(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ws(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Yr(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=a.charAt(e);return i&&i!=="/"?null:a.slice(e)||"/"}function T4(a,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof a=="string"?Pd(a):a;return{pathname:e?e.startsWith("/")?e:C4(e,t):t,search:D4(i),hash:M4(r)}}function C4(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function TA(a,t,e,i){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R4(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function $w(a){let t=R4(a);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Xw(a,t,e,i=!1){let r;typeof a=="string"?r=Pd(a):(r={...a},Le(!r.pathname||!r.pathname.includes("?"),TA("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),TA("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),TA("#","search","hash",r)));let o=a===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let b=t.length-1;if(!i&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),b-=1;r.pathname=A.join("/")}h=b>=0?t[b]:"/"}let d=T4(r,h),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}var Br=a=>a.join("/").replace(/\/\/+/g,"/"),k4=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),D4=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,M4=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function O4(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var nR=["POST","PUT","PATCH","DELETE"];new Set(nR);var L4=["GET",...nR];new Set(L4);var jd=H.createContext(null);jd.displayName="DataRouter";var Ky=H.createContext(null);Ky.displayName="DataRouterState";var sR=H.createContext({isTransitioning:!1});sR.displayName="ViewTransition";var I4=H.createContext(new Map);I4.displayName="Fetchers";var N4=H.createContext(null);N4.displayName="Await";var Qs=H.createContext(null);Qs.displayName="Navigation";var Gm=H.createContext(null);Gm.displayName="Location";var Na=H.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var Yw=H.createContext(null);Yw.displayName="RouteError";function P4(a,{relative:t}={}){Le(Fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=H.useContext(Qs),{hash:r,pathname:o,search:c}=$m(a,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Br([e,o])),i.createHref({pathname:h,search:c,hash:r})}function Fd(){return H.useContext(Gm)!=null}function Sl(){return Le(Fd(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Gm).location}var aR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rR(a){H.useContext(Qs).static||H.useLayoutEffect(a)}function oR(){let{isDataRoute:a}=H.useContext(Na);return a?W4():j4()}function j4(){Le(Fd(),"useNavigate() may be used only in the context of a <Router> component.");let a=H.useContext(jd),{basename:t,navigator:e}=H.useContext(Qs),{matches:i}=H.useContext(Na),{pathname:r}=Sl(),o=JSON.stringify($w(i)),c=H.useRef(!1);return rR(()=>{c.current=!0}),H.useCallback((d,m={})=>{if(Ws(c.current,aR),!c.current)return;if(typeof d=="number"){e.go(d);return}let v=Xw(d,JSON.parse(o),r,m.relative==="path");a==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Br([t,v.pathname])),(m.replace?e.replace:e.push)(v,m.state,m)},[t,e,o,r,a])}H.createContext(null);function $m(a,{relative:t}={}){let{matches:e}=H.useContext(Na),{pathname:i}=Sl(),r=JSON.stringify($w(e));return H.useMemo(()=>Xw(a,JSON.parse(r),i,t==="path"),[a,r,i,t])}function F4(a,t){return lR(a,t)}function lR(a,t,e,i){var z;Le(Fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=H.useContext(Qs),{matches:c}=H.useContext(Na),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let V=b&&b.path||"";cR(m,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let A=Sl(),w;if(t){let V=typeof t=="string"?Pd(t):t;Le(v==="/"||((z=V.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=A;let E=w.pathname||"/",C=E;if(v!=="/"){let V=v.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(V.length).join("/")}let I=!o&&e&&e.matches&&e.matches.length>0?e.matches:tR(a,{pathname:C});Ws(b||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ws(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=V4(I&&I.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:Br([v,r.encodeLocation?r.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:Br([v,r.encodeLocation?r.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),c,e,i);return t&&k?H.createElement(Gm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function U4(){let a=Y4(),t=O4(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),e?H.createElement("pre",{style:r},e):null,c)}var H4=H.createElement(U4,null),z4=class extends H.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){console.error("React Router caught the following error during render",a,t)}render(){return this.state.error!==void 0?H.createElement(Na.Provider,{value:this.props.routeContext},H.createElement(Yw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B4({routeContext:a,match:t,children:e}){let i=H.useContext(jd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Na.Provider,{value:a},e)}function V4(a,t=[],e=null,i=null){if(a==null){if(!e)return null;if(e.errors)a=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let r=a,o=e==null?void 0:e.errors;if(o!=null){let d=r.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Le(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let c=!1,h=-1;if(e)for(let d=0;d<r.length;d++){let m=r[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:v,errors:b}=e,A=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||A){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((d,m,v)=>{let b,A=!1,w=null,E=null;e&&(b=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||H4,c&&(h<0&&v===0?(cR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,E=null):h===v&&(A=!0,E=m.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,v+1)),I=()=>{let k;return b?k=w:A?k=E:m.route.Component?k=H.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=d,H.createElement(B4,{match:m,routeContext:{outlet:d,matches:C,isDataRoute:e!=null},children:k})};return e&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?H.createElement(z4,{location:e.location,revalidation:e.revalidation,component:w,error:b,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function Ww(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q4(a){let t=H.useContext(jd);return Le(t,Ww(a)),t}function G4(a){let t=H.useContext(Ky);return Le(t,Ww(a)),t}function $4(a){let t=H.useContext(Na);return Le(t,Ww(a)),t}function Kw(a){let t=$4(a),e=t.matches[t.matches.length-1];return Le(e.route.id,`${a} can only be used on routes that contain a unique "id"`),e.route.id}function X4(){return Kw("useRouteId")}function Y4(){var i;let a=H.useContext(Yw),t=G4("useRouteError"),e=Kw("useRouteError");return a!==void 0?a:(i=t.errors)==null?void 0:i[e]}function W4(){let{router:a}=q4("useNavigate"),t=Kw("useNavigate"),e=H.useRef(!1);return rR(()=>{e.current=!0}),H.useCallback(async(r,o={})=>{Ws(e.current,aR),e.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var MT={};function cR(a,t,e){!t&&!MT[a]&&(MT[a]=!0,Ws(!1,e))}H.memo(K4);function K4({routes:a,future:t,state:e}){return lR(a,void 0,e,t)}function CA({to:a,replace:t,state:e,relative:i}){Le(Fd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=H.useContext(Qs);Ws(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(Na),{pathname:c}=Sl(),h=oR(),d=Xw(a,$w(o),c,i==="path"),m=JSON.stringify(d);return H.useEffect(()=>{h(JSON.parse(m),{replace:t,state:e,relative:i})},[h,m,i,t,e]),null}function fh(a){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q4({basename:a="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Le(!Fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Pd(e));let{pathname:d="/",search:m="",hash:v="",state:b=null,key:A="default"}=e,w=H.useMemo(()=>{let E=Yr(d,c);return E==null?null:{location:{pathname:E,search:m,hash:v,state:b,key:A},navigationType:i}},[c,d,m,v,b,A,i]);return Ws(w!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:H.createElement(Qs.Provider,{value:h},H.createElement(Gm.Provider,{children:t,value:w}))}function Z4({children:a,location:t}){return F4(ZA(a),t)}function ZA(a,t=[]){let e=[];return H.Children.forEach(a,(i,r)=>{if(!H.isValidElement(i))return;let o=[...t,r];if(i.type===H.Fragment){e.push.apply(e,ZA(i.props.children,o));return}Le(i.type===fh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ZA(i.props.children,o)),e.push(c)}),e}var kv="get",Dv="application/x-www-form-urlencoded";function Qy(a){return a!=null&&typeof a.tagName=="string"}function J4(a){return Qy(a)&&a.tagName.toLowerCase()==="button"}function t5(a){return Qy(a)&&a.tagName.toLowerCase()==="form"}function e5(a){return Qy(a)&&a.tagName.toLowerCase()==="input"}function i5(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function n5(a,t){return a.button===0&&(!t||t==="_self")&&!i5(a)}var gv=null;function s5(){if(gv===null)try{new FormData(document.createElement("form"),0),gv=!1}catch{gv=!0}return gv}var a5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function RA(a){return a!=null&&!a5.has(a)?(Ws(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dv}"`),null):a}function r5(a,t){let e,i,r,o,c;if(t5(a)){let h=a.getAttribute("action");i=h?Yr(h,t):null,e=a.getAttribute("method")||kv,r=RA(a.getAttribute("enctype"))||Dv,o=new FormData(a)}else if(J4(a)||e5(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=a.getAttribute("formaction")||h.getAttribute("action");if(i=d?Yr(d,t):null,e=a.getAttribute("formmethod")||h.getAttribute("method")||kv,r=RA(a.getAttribute("formenctype"))||RA(h.getAttribute("enctype"))||Dv,o=new FormData(h,a),!s5()){let{name:m,type:v,value:b}=a;if(v==="image"){let A=m?`${m}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else m&&o.append(m,b)}}else{if(Qy(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=kv,i=null,r=Dv,c=a}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function Qw(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}async function o5(a,t){if(a.id in t)return t[a.id];try{let e=await import(a.module);return t[a.id]=e,e}catch(e){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l5(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function c5(a,t,e){let i=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await o5(o,e);return c.links?c.links():[]}return[]}));return f5(i.flat(1).filter(l5).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function OT(a,t,e,i,r,o){let c=(d,m)=>e[m]?d.route.id!==e[m].route.id:!0,h=(d,m)=>{var v;return e[m].pathname!==d.pathname||((v=e[m].route.path)==null?void 0:v.endsWith("*"))&&e[m].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,m)=>c(d,m)||h(d,m)):o==="data"?t.filter((d,m)=>{var b;let v=i.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let A=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(a,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function u5(a,t,{includeHydrateFallback:e}={}){return h5(a.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function h5(a){return[...new Set(a)]}function d5(a){let t={},e=Object.keys(a).sort();for(let i of e)t[i]=a[i];return t}function f5(a,t){let e=new Set;return new Set(t),a.reduce((i,r)=>{let o=JSON.stringify(d5(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function p5(a,t){let e=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return e.pathname==="/"?e.pathname="_root.data":t&&Yr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uR(){let a=H.useContext(jd);return Qw(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function m5(){let a=H.useContext(Ky);return Qw(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Zw=H.createContext(void 0);Zw.displayName="FrameworkContext";function hR(){let a=H.useContext(Zw);return Qw(a,"You must render this element inside a <HydratedRouter> element"),a}function g5(a,t){let e=H.useContext(Zw),[i,r]=H.useState(!1),[o,c]=H.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=t,A=H.useRef(null);H.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let C=k=>{k.forEach(z=>{c(z.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return A.current&&I.observe(A.current),()=>{I.disconnect()}}},[a]),H.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let w=()=>{r(!0)},E=()=>{r(!1),c(!1)};return e?a!=="intent"?[o,A,{}]:[o,A,{onFocus:Vf(h,w),onBlur:Vf(d,E),onMouseEnter:Vf(m,w),onMouseLeave:Vf(v,E),onTouchStart:Vf(b,w)}]:[!1,A,{}]}function Vf(a,t){return e=>{a&&a(e),e.defaultPrevented||t(e)}}function v5({page:a,...t}){let{router:e}=uR(),i=H.useMemo(()=>tR(e.routes,a,e.basename),[e.routes,a,e.basename]);return i?H.createElement(b5,{page:a,matches:i,...t}):null}function y5(a){let{manifest:t,routeModules:e}=hR(),[i,r]=H.useState([]);return H.useEffect(()=>{let o=!1;return c5(a,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[a,t,e]),i}function b5({page:a,matches:t,...e}){let i=Sl(),{manifest:r,routeModules:o}=hR(),{basename:c}=uR(),{loaderData:h,matches:d}=m5(),m=H.useMemo(()=>OT(a,t,d,r,i,"data"),[a,t,d,r,i]),v=H.useMemo(()=>OT(a,t,d,r,i,"assets"),[a,t,d,r,i]),b=H.useMemo(()=>{if(a===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(t.forEach(k=>{var V;let z=r.routes[k.route.id];!z||!z.hasLoader||(!m.some(X=>X.route.id===k.route.id)&&k.route.id in h&&((V=o[k.route.id])!=null&&V.shouldRevalidate)||z.hasClientLoader?C=!0:E.add(k.route.id))}),E.size===0)return[];let I=p5(a,c);return C&&E.size>0&&I.searchParams.set("_routes",t.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[I.pathname+I.search]},[c,h,i,r,m,t,a,o]),A=H.useMemo(()=>u5(v,r),[v,r]),w=y5(v);return H.createElement(H.Fragment,null,b.map(E=>H.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),A.map(E=>H.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),w.map(({key:E,link:C})=>H.createElement("link",{key:E,...C})))}function A5(...a){return t=>{a.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var dR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dR&&(window.__reactRouterVersion="7.4.0")}catch{}function _5({basename:a,children:t,window:e}){let i=H.useRef();i.current==null&&(i.current=u4({window:e,v5Compat:!0}));let r=i.current,[o,c]=H.useState({action:r.action,location:r.location}),h=H.useCallback(d=>{H.startTransition(()=>c(d))},[c]);return H.useLayoutEffect(()=>r.listen(h),[r,h]),H.createElement(Q4,{basename:a,children:t,location:o.location,navigationType:o.action,navigator:r})}var fR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=H.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:m,preventScrollReset:v,viewTransition:b,...A},w){let{basename:E}=H.useContext(Qs),C=typeof m=="string"&&fR.test(m),I,k=!1;if(typeof m=="string"&&C&&(I=m,dR))try{let D=new URL(window.location.href),j=m.startsWith("//")?new URL(D.protocol+m):new URL(m),U=Yr(j.pathname,E);j.origin===D.origin&&U!=null?m=U+j.search+j.hash:k=!0}catch{Ws(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=P4(m,{relative:r}),[V,X,K]=g5(i,A),Z=S5(m,{replace:c,state:h,target:d,preventScrollReset:v,relative:r,viewTransition:b});function P(D){t&&t(D),D.defaultPrevented||Z(D)}let M=H.createElement("a",{...A,...K,href:I||z,onClick:k||o?t:P,ref:A5(w,X),target:d,"data-discover":!C&&e==="render"?"true":void 0});return V&&!C?H.createElement(H.Fragment,null,M,H.createElement(v5,{page:z})):M});Bo.displayName="Link";var w5=H.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...m},v){let b=$m(c,{relative:m.relative}),A=Sl(),w=H.useContext(Ky),{navigator:E,basename:C}=H.useContext(Qs),I=w!=null&&D5(b)&&h===!0,k=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,z=A.pathname,V=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(z=z.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&C&&(V=Yr(V,C)||V);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let K=z===k||!r&&z.startsWith(k)&&z.charAt(X)==="/",Z=V!=null&&(V===k||!r&&V.startsWith(k)&&V.charAt(k.length)==="/"),P={isActive:K,isPending:Z,isTransitioning:I},M=K?t:void 0,D;typeof i=="function"?D=i(P):D=[i,K?"active":null,Z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(P):o;return H.createElement(Bo,{...m,"aria-current":M,className:D,ref:v,style:j,to:c,viewTransition:h},typeof d=="function"?d(P):d)});w5.displayName="NavLink";var x5=H.forwardRef(({discover:a="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=kv,action:h,onSubmit:d,relative:m,preventScrollReset:v,viewTransition:b,...A},w)=>{let E=R5(),C=k5(h,{relative:m}),I=c.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&fR.test(h),z=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let X=V.nativeEvent.submitter,K=(X==null?void 0:X.getAttribute("formmethod"))||c;E(X||V.currentTarget,{fetcherKey:t,method:K,navigate:e,replace:r,state:o,relative:m,preventScrollReset:v,viewTransition:b})};return H.createElement("form",{ref:w,method:I,action:C,onSubmit:i?d:z,...A,"data-discover":!k&&a==="render"?"true":void 0})});x5.displayName="Form";function E5(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pR(a){let t=H.useContext(jd);return Le(t,E5(a)),t}function S5(a,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=oR(),d=Sl(),m=$m(a,{relative:o});return H.useCallback(v=>{if(n5(v,t)){v.preventDefault();let b=e!==void 0?e:_p(d)===_p(m);h(a,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,m,e,i,t,a,r,o,c])}var T5=0,C5=()=>`__${String(++T5)}__`;function R5(){let{router:a}=pR("useSubmit"),{basename:t}=H.useContext(Qs),e=X4();return H.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:d,body:m}=r5(i,t);if(r.navigate===!1){let v=r.fetcherKey||C5();await a.fetch(v,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,e])}function k5(a,{relative:t}={}){let{basename:e}=H.useContext(Qs),i=H.useContext(Na);Le(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...$m(a||".",{relative:t})},c=Sl();if(a==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();o.search=v?`?${v}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Br([e,o.pathname])),_p(o)}function D5(a,t={}){let e=H.useContext(sR);Le(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pR("useViewTransitionState"),r=$m(a,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Yr(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Yr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return gy(r.pathname,c)!=null||gy(r.pathname,o)!=null}new TextEncoder;const M5="data:image/svg+xml,%3csvg%20width='24'%20height='15'%20viewBox='0%200%2024%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.862962%201.26274C1.19114%200.934668%201.63617%200.750366%202.10021%200.750366C2.56425%200.750366%203.00929%200.934668%203.33746%201.26274L12%209.92524L20.6625%201.26274C20.9925%200.943966%2021.4346%200.767575%2021.8934%200.771562C22.3523%200.77555%2022.7912%200.959596%2023.1156%201.28406C23.4401%201.60852%2023.6242%202.04745%2023.6281%202.50629C23.6321%202.96513%2023.4557%203.40719%2023.137%203.73724L13.2372%2013.637C12.909%2013.9651%2012.464%2014.1494%2012%2014.1494C11.5359%2014.1494%2011.0909%2013.9651%2010.7627%2013.637L0.862962%203.73724C0.534888%203.40907%200.350586%202.96403%200.350586%202.49999C0.350586%202.03596%200.534888%201.59092%200.862962%201.26274Z'%20fill='%231E1E1E'/%3e%3c/svg%3e",O5=(a,t)=>CP(Gw,a,t);function Jw(){return q.jsx(Bo,{to:"/",children:q.jsx("img",{src:"/src/assets/logo.svg",alt:"Logo",className:"h-8"})})}const L5=()=>{const[a,t]=H.useState(null),[e,i]=H.useState(!1),r=[{question:"How does the resume analysis work?",answer:"Our platform lets you upload your resume and a target job description. It then checks the resume based on industry standard         ensures your resume is ATS-friendly, and offers tailored suggestions to match the position's requirements.        You'll receive clear, actionable feedback on how to reorganize your content, highlight relevant skills, and remove potential red flags."},{question:"Can this tool help if my first language isn't English?",answer:"Absolutely! Our audio and text analysis features are designed to help non-native English speakers refine their communication.        We identify filler words, grammar issues, and unclear phrasing—then provide tips for improving clarity and tone.        This guidance is especially helpful for immigrants who may need extra support navigating Western workplace expectations."},{question:"What's the difference between Speech Analysis and Vocal Analysis?",answer:"Speech Analysis focuses on what you say: It transcribes your spoken words, flags grammar errors, counts filler words, measures words per minute, and checks overall comprehensibility and structure. <br/><br/>Vocal Analysis looks at how you sound: It evaluates your tone, volume, and pitch so you can adjust for a more confident, engaging delivery."},{question:"Is my data kept private and secure?",answer:"Yes. We prioritize user confidentiality. Any resume or audio file you upload is processed securely, and we do not share your information with third parties. All feedback is generated solely to help you improve your employability and is not stored beyond your session unless you choose to save it for personal reference."}],o=[{name:"Features",route:"#features"},{name:"FAQ",route:"#faq"}],c=d=>{t(a===d?null:d)},h=()=>{i(d=>!d)};return q.jsxs(q.Fragment,{children:[q.jsxs("section",{className:"flex items-center justify-between p-6 lg:mx-16 ",children:[q.jsx(Jw,{}),q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"size-6 md:hidden",onClick:h,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),q.jsxs("div",{className:`hidden max-md:flex px-8 py-6 max-md:flex-col max-md:fixed max-md:z-2 max-md:inset-0 max-md:left-[15%] max-md:bg-white transition-all ${e?"":"translate-x-[100%]"}`,children:[q.jsx("div",{className:"ml-auto mr-0",children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"size-6",onClick:h,children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})})}),q.jsxs("ul",{className:"my-16",children:[o.map(d=>q.jsx("li",{className:"mb-2",children:q.jsx("a",{href:d.route,children:q.jsx("p",{className:"text-lg",children:d.name})})})),q.jsx(Bo,{to:"/auth",children:q.jsx("button",{type:"button",className:"signup-button mt-8",children:q.jsx("p",{className:"text-white font-bold",children:"Sign Up"})})})]})]}),q.jsx("div",{className:"max-md:hidden items-center justify-center",children:q.jsxs("ul",{className:"[&>*]:mx-8 inline-flex",children:[o.map(d=>q.jsx("li",{className:"text-center my-auto",children:q.jsx("a",{href:d.route,className:"",children:q.jsx("p",{className:"text-lg",children:d.name})})})),q.jsx(Bo,{to:"/auth",children:q.jsx("button",{type:"button",className:"signup-button",children:q.jsx("p",{className:"text-white font-bold",children:"Sign Up"})})})]})})]}),q.jsxs("section",{className:"flex flex-col items-center mx-8 mt-4 md:mt-6 overflow-hidden relative xl:hidden",children:[q.jsxs("h1",{className:"text-[2.5rem]/[2.75rem] text-center font-semibold md:text-6xl",children:[q.jsx("span",{className:"text-[#070036]",children:"Articulate your voice."}),q.jsx("span",{className:"text-[#5d5c61]",children:" Empower your future."})]}),q.jsx("p",{className:"text-center mt-6 text-lg md:text-2xl",children:"Enhance your speech, polish your resume, and conquer your next interview with Acento.ai."}),q.jsx("img",{src:"/src/assets/lines.svg",className:"opacity-40 -mx-8 my-10 animate-oscillate"}),q.jsxs("div",{className:"",children:[q.jsx(Bo,{to:"/auth",children:q.jsx("button",{type:"button",className:"bg-[#bcaeec] color-white px-6 py-3 rounded-full mr-8",children:"Sign Up"})}),q.jsx("button",{type:"button",onClick:()=>window.location.href="#features",children:"Features"})]})]}),q.jsxs("section",{className:"lg:grid-cols-2 hidden xl:grid mt-8 py-16",children:[q.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-16 justify-start items-center",children:[q.jsxs("h1",{className:"text-6xl xl:text-7xl leading-none text-center font-semibold",children:[q.jsx("span",{className:"text-[#070036]",children:"Articulate your voice."}),q.jsx("span",{className:"text-[#5d5c61]",children:" Empower your future."})]}),q.jsx("p",{className:"text-center mt-6 text-lg",children:"Enhance your speech, polish your resume, and conquer your next interview with Acento.ai."}),q.jsxs("div",{className:"mt-16",children:[q.jsx(Bo,{to:"/auth",children:q.jsx("button",{type:"button",className:"bg-[#bcaeec] color-white px-6 py-3 rounded-full mr-8",children:"Sign Up"})}),q.jsx("button",{type:"button",onClick:()=>window.location.href="#features",children:"Features"})]})]}),q.jsx("img",{src:"/src/assets/lines.svg",className:"w-full h-full max-w-[60%] max-h-[60%] m-auto opacity-40 animate-oscillate"})]}),q.jsx("section",{className:"mx-8 mt-12 lg:max-w-[60rem] lg:mx-auto",children:q.jsx("div",{className:"bg-gray-400 w-full aspect-video rounded-2xl"})}),q.jsxs("section",{id:"features",className:"flex flex-col mx-8 my-20 lg:mx-16",children:[q.jsxs("div",{className:"text-4xl font-medium font-heading text-[#5d5c61] mb-8 lg:text-right lg:text-5xl xl:text-6xl lg:font-semibold lg:max-w-[48rem] lg:ml-auto",children:[q.jsx("span",{className:"text-[#070036]",children:"Speak with clarity."}),q.jsxs("span",{children:[" ","Let our AI refine your voice and elevate your confidence."]})]}),q.jsx("div",{className:" flex flex-col gap-8 lg:grid lg:grid-cols-3 lg:my-4",children:[{title:"Speech Analysis",description:"Assess your interview performance by examining transcription accuracy, filler word frequency, words-per-minute, grammar, and content structure to ensure clear communication.",icon:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})},{title:"Vocal Analysis",description:"Evaluate tone, pitch, and volume to help you deliver a confident and engaging verbal presence during interviews and presentations.",icon:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})},{title:"Resume Analysis",description:"Compare your resume against job descriptions for ATS compatibility and cultural appropriateness, offering tailored feedback to maximize relevance and impact.",icon:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}].map((d,m)=>q.jsxs("div",{className:"bg-white py-12 px-8 rounded-4xl",children:[q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-16 lg:size-20 xl:size-24",children:d.icon}),q.jsx("h1",{className:"text-4xl mt-8 lg:text-5xl lg:mt-16 xl:mt-32 xl:text-6xl",children:d.title}),q.jsx("p",{className:"text-[#666] mt-4 lg:text-lg xl:text-xl",children:d.description})]},m))})]}),q.jsxs("section",{id:"faq",className:"mx-8 my-20 gap-12 lg:mx-16 lg:flex",children:[q.jsxs("div",{className:"mb-12",children:[q.jsx("h2",{className:"text-4xl font-medium text-[#070036] mb-4 md:text-5xl lg:text-6xl lg:font-semibold",children:"Popular Questions"}),q.jsx("p",{className:"text-[#666] md:text-xl lg:text-2",children:"Not seeing your question here? Check out our Help Center for more detailed articles, or reach out to our support team at support@yourdomain.com. We're here to help you get the most out of our platform!"})]}),q.jsx("div",{className:"flex flex-col gap-4",children:r.map((d,m)=>q.jsxs("div",{className:"rounded-2xl border-2 p-4",children:[q.jsxs("div",{className:"flex justify-between items-center cursor-pointer color-[#070036] text-xl",onClick:()=>c(m),children:[q.jsx("span",{className:"max-w-[90%] md:text-xl xl:text-2xl",children:d.question}),q.jsx("span",{className:`transition ${a===m?"-rotate-180":""}`,children:q.jsx("img",{src:M5,alt:"Arrow",className:"size-4"})})]}),q.jsx("div",{className:`text-[#555] max-h-0 overflow-hidden transition-all duration-300 ease-linear ${a===m?" max-h-72 mt-4":""}`,children:d.answer.split("<br/>").map((v,b)=>q.jsxs("span",{children:[v,q.jsx("br",{})]},b))})]},m))})]}),q.jsxs("section",{className:`flex flex-col items-center text-center mx-8 my-8 mb-8 px-4 py-8 lg:max-w-[60rem] lg:mx-auto rounded-4xl bg-center bg-cover
      bg-[url(/src/assets/cta-image.webp)]`,children:[q.jsx("h3",{className:"text-4xl font-medium ",children:"Empower Your Career. "}),q.jsx("p",{className:"text-[#5d5c61] mt-4 mb-8 px-2 text-xl",children:"Refine your resume, master interview skills, and navigate cultural norms—our AI-driven platform guides you ever"}),q.jsx("button",{type:"button",className:"bg-[#bcaeec] color-white px-6 py-3 rounded-full mt-16 md:mt-20 lg:mt-32 xl:mt-48",children:"Sign Up"})]}),q.jsxs("section",{className:"w-screen py-6 lg:px-16 flex items-center justify-center lg:justify-between",children:[q.jsx("span",{className:"text-[#666] text-sm lg:text-lg",children:"© 2025 Acento.ai. All rights reserved."}),q.jsx("div",{className:"hidden lg:flex",children:q.jsxs("ul",{className:"[&>*]:mx-8 inline-flex",children:[o.map(d=>q.jsx("li",{className:"text-center my-auto",children:q.jsx("a",{href:d.route,className:"",children:q.jsx("p",{className:"text-lg",children:d.name})})})),q.jsx(Bo,{to:"/auth",children:q.jsx("button",{type:"button",className:"signup-button",children:q.jsx("p",{className:"text-white font-bold",children:"Sign Up"})})})]})})]})]})};var kA={exports:{}},DA,LT;function I5(){if(LT)return DA;LT=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return DA=a,DA}var MA,IT;function N5(){if(IT)return MA;IT=1;var a=I5();function t(){}function e(){}return e.resetWarningCache=t,MA=function(){function i(c,h,d,m,v,b){if(b!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function r(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},MA}var NT;function P5(){return NT||(NT=1,kA.exports=N5()()),kA.exports}var j5=P5();const Ee=By(j5),F5=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Md(a,t,e){const i=U5(a),{webkitRelativePath:r}=a,o=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${a.name}`;return typeof i.path!="string"&&PT(i,"path",o),PT(i,"relativePath",o),i}function U5(a){const{name:t}=a;if(t&&t.lastIndexOf(".")!==-1&&!a.type){const i=t.split(".").pop().toLowerCase(),r=F5.get(i);r&&Object.defineProperty(a,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return a}function PT(a,t,e){Object.defineProperty(a,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const H5=[".DS_Store","Thumbs.db"];function z5(a){return wu(this,void 0,void 0,function*(){return vy(a)&&B5(a.dataTransfer)?$5(a.dataTransfer,a.type):V5(a)?q5(a):Array.isArray(a)&&a.every(t=>"getFile"in t&&typeof t.getFile=="function")?G5(a):[]})}function B5(a){return vy(a)}function V5(a){return vy(a)&&vy(a.target)}function vy(a){return typeof a=="object"&&a!==null}function q5(a){return JA(a.target.files).map(t=>Md(t))}function G5(a){return wu(this,void 0,void 0,function*(){return(yield Promise.all(a.map(e=>e.getFile()))).map(e=>Md(e))})}function $5(a,t){return wu(this,void 0,void 0,function*(){if(a.items){const e=JA(a.items).filter(r=>r.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(X5));return jT(mR(i))}return jT(JA(a.files).map(e=>Md(e)))})}function jT(a){return a.filter(t=>H5.indexOf(t.name)===-1)}function JA(a){if(a===null)return[];const t=[];for(let e=0;e<a.length;e++){const i=a[e];t.push(i)}return t}function X5(a){if(typeof a.webkitGetAsEntry!="function")return FT(a);const t=a.webkitGetAsEntry();return t&&t.isDirectory?gR(t):FT(a,t)}function mR(a){return a.reduce((t,e)=>[...t,...Array.isArray(e)?mR(e):[e]],[])}function FT(a,t){return wu(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof a.getAsFileSystemHandle=="function"){const o=yield a.getAsFileSystemHandle();if(o===null)throw new Error(`${a} is not a File`);if(o!==void 0){const c=yield o.getFile();return c.handle=o,Md(c)}}const i=a.getAsFile();if(!i)throw new Error(`${a} is not a File`);return Md(i,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function Y5(a){return wu(this,void 0,void 0,function*(){return a.isDirectory?gR(a):W5(a)})}function gR(a){const t=a.createReader();return new Promise((e,i)=>{const r=[];function o(){t.readEntries(c=>wu(this,void 0,void 0,function*(){if(c.length){const h=Promise.all(c.map(Y5));r.push(h),o()}else try{const h=yield Promise.all(r);e(h)}catch(h){i(h)}}),c=>{i(c)})}o()})}function W5(a){return wu(this,void 0,void 0,function*(){return new Promise((t,e)=>{a.file(i=>{const r=Md(i,a.fullPath);t(r)},i=>{e(i)})})})}var vv={},UT;function K5(){return UT||(UT=1,vv.__esModule=!0,vv.default=function(a,t){if(a&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=a.name||"",r=(a.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return e.some(function(c){var h=c.trim().toLowerCase();return h.charAt(0)==="."?i.toLowerCase().endsWith(h):h.endsWith("/*")?o===h.replace(/\/.*$/,""):r===h})}return!0}),vv}var Q5=K5();const OA=By(Q5);function HT(a){return t6(a)||J5(a)||yR(a)||Z5()}function Z5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function t6(a){if(Array.isArray(a))return t_(a)}function zT(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,i)}return e}function BT(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(e),!0).forEach(function(i){vR(a,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):zT(Object(e)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))})}return a}function vR(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function wp(a,t){return n6(a)||i6(a,t)||yR(a,t)||e6()}function e6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(a,t){if(a){if(typeof a=="string")return t_(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return t_(a,t)}}function t_(a,t){(t==null||t>a.length)&&(t=a.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=a[e];return i}function i6(a,t){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var i=[],r=!0,o=!1,c,h;try{for(e=e.call(a);!(r=(c=e.next()).done)&&(i.push(c.value),!(t&&i.length===t));r=!0);}catch(d){o=!0,h=d}finally{try{!r&&e.return!=null&&e.return()}finally{if(o)throw h}}return i}}function n6(a){if(Array.isArray(a))return a}var s6=typeof OA=="function"?OA:OA.default,a6="file-invalid-type",r6="file-too-large",o6="file-too-small",l6="too-many-files",c6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:a6,message:"File type must be ".concat(i)}},VT=function(t){return{code:r6,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},qT=function(t){return{code:o6,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},u6={code:l6,message:"Too many files"};function bR(a,t){var e=a.type==="application/x-moz-file"||s6(a,t);return[e,e?null:c6(t)]}function AR(a,t,e){if(hc(a.size))if(hc(t)&&hc(e)){if(a.size>e)return[!1,VT(e)];if(a.size<t)return[!1,qT(t)]}else{if(hc(t)&&a.size<t)return[!1,qT(t)];if(hc(e)&&a.size>e)return[!1,VT(e)]}return[!0,null]}function hc(a){return a!=null}function h6(a){var t=a.files,e=a.accept,i=a.minSize,r=a.maxSize,o=a.multiple,c=a.maxFiles,h=a.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(d){var m=bR(d,e),v=wp(m,1),b=v[0],A=AR(d,i,r),w=wp(A,1),E=w[0],C=h?h(d):null;return b&&E&&!C})}function yy(a){return typeof a.isPropagationStopped=="function"?a.isPropagationStopped():typeof a.cancelBubble<"u"?a.cancelBubble:!1}function yv(a){return a.dataTransfer?Array.prototype.some.call(a.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!a.target&&!!a.target.files}function GT(a){a.preventDefault()}function d6(a){return a.indexOf("MSIE")!==-1||a.indexOf("Trident/")!==-1}function f6(a){return a.indexOf("Edge/")!==-1}function p6(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return d6(a)||f6(a)}function da(){for(var a=arguments.length,t=new Array(a),e=0;e<a;e++)t[e]=arguments[e];return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return t.some(function(h){return!yy(i)&&h&&h.apply(void 0,[i].concat(o)),yy(i)})}}function m6(){return"showOpenFilePicker"in window}function g6(a){if(hc(a)){var t=Object.entries(a).filter(function(e){var i=wp(e,2),r=i[0],o=i[1],c=!0;return _R(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(wR))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(e,i){var r=wp(i,2),o=r[0],c=r[1];return BT(BT({},e),{},vR({},o,c))},{});return[{description:"Files",accept:t}]}return a}function v6(a){if(hc(a))return Object.entries(a).reduce(function(t,e){var i=wp(e,2),r=i[0],o=i[1];return[].concat(HT(t),[r],HT(o))},[]).filter(function(t){return _R(t)||wR(t)}).join(",")}function y6(a){return a instanceof DOMException&&(a.name==="AbortError"||a.code===a.ABORT_ERR)}function b6(a){return a instanceof DOMException&&(a.name==="SecurityError"||a.code===a.SECURITY_ERR)}function _R(a){return a==="audio/*"||a==="video/*"||a==="image/*"||a==="text/*"||a==="application/*"||/\w+\/[-+.\w]+/g.test(a)}function wR(a){return/^.*\.[\w]+$/.test(a)}var A6=["children"],_6=["open"],w6=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],x6=["refKey","onChange","onClick"];function E6(a){return C6(a)||T6(a)||xR(a)||S6()}function S6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function C6(a){if(Array.isArray(a))return e_(a)}function LA(a,t){return D6(a)||k6(a,t)||xR(a,t)||R6()}function R6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xR(a,t){if(a){if(typeof a=="string")return e_(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return e_(a,t)}}function e_(a,t){(t==null||t>a.length)&&(t=a.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=a[e];return i}function k6(a,t){var e=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(e!=null){var i=[],r=!0,o=!1,c,h;try{for(e=e.call(a);!(r=(c=e.next()).done)&&(i.push(c.value),!(t&&i.length===t));r=!0);}catch(d){o=!0,h=d}finally{try{!r&&e.return!=null&&e.return()}finally{if(o)throw h}}return i}}function D6(a){if(Array.isArray(a))return a}function $T(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,i)}return e}function ze(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(e),!0).forEach(function(i){i_(a,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):$T(Object(e)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))})}return a}function i_(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function by(a,t){if(a==null)return{};var e=M6(a,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(e[i]=a[i])}return e}function M6(a,t){if(a==null)return{};var e={},i=Object.keys(a),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(e[r]=a[r]);return e}var Zy=H.forwardRef(function(a,t){var e=a.children,i=by(a,A6),r=SR(i),o=r.open,c=by(r,_6);return H.useImperativeHandle(t,function(){return{open:o}},[o]),MO.createElement(H.Fragment,null,e(ze(ze({},c),{},{open:o})))});Zy.displayName="Dropzone";var ER={disabled:!1,getFilesFromEvent:z5,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Zy.defaultProps=ER;Zy.propTypes={children:Ee.func,accept:Ee.objectOf(Ee.arrayOf(Ee.string)),multiple:Ee.bool,preventDropOnDocument:Ee.bool,noClick:Ee.bool,noKeyboard:Ee.bool,noDrag:Ee.bool,noDragEventsBubbling:Ee.bool,minSize:Ee.number,maxSize:Ee.number,maxFiles:Ee.number,disabled:Ee.bool,getFilesFromEvent:Ee.func,onFileDialogCancel:Ee.func,onFileDialogOpen:Ee.func,useFsAccessApi:Ee.bool,autoFocus:Ee.bool,onDragEnter:Ee.func,onDragLeave:Ee.func,onDragOver:Ee.func,onDrop:Ee.func,onDropAccepted:Ee.func,onDropRejected:Ee.func,onError:Ee.func,validator:Ee.func};var n_={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function SR(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ze(ze({},ER),a),e=t.accept,i=t.disabled,r=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,h=t.multiple,d=t.maxFiles,m=t.onDragEnter,v=t.onDragLeave,b=t.onDragOver,A=t.onDrop,w=t.onDropAccepted,E=t.onDropRejected,C=t.onFileDialogCancel,I=t.onFileDialogOpen,k=t.useFsAccessApi,z=t.autoFocus,V=t.preventDropOnDocument,X=t.noClick,K=t.noKeyboard,Z=t.noDrag,P=t.noDragEventsBubbling,M=t.onError,D=t.validator,j=H.useMemo(function(){return v6(e)},[e]),U=H.useMemo(function(){return g6(e)},[e]),$=H.useMemo(function(){return typeof I=="function"?I:XT},[I]),F=H.useMemo(function(){return typeof C=="function"?C:XT},[C]),mt=H.useRef(null),bt=H.useRef(null),at=H.useReducer(O6,n_),ot=LA(at,2),lt=ot[0],dt=ot[1],G=lt.isFocused,nt=lt.isFileDialogActive,ft=H.useRef(typeof window<"u"&&window.isSecureContext&&k&&m6()),ht=function(){!ft.current&&nt&&setTimeout(function(){if(bt.current){var Dt=bt.current.files;Dt.length||(dt({type:"closeDialog"}),F())}},300)};H.useEffect(function(){return window.addEventListener("focus",ht,!1),function(){window.removeEventListener("focus",ht,!1)}},[bt,nt,F,ft]);var pt=H.useRef([]),Et=function(Dt){mt.current&&mt.current.contains(Dt.target)||(Dt.preventDefault(),pt.current=[])};H.useEffect(function(){return V&&(document.addEventListener("dragover",GT,!1),document.addEventListener("drop",Et,!1)),function(){V&&(document.removeEventListener("dragover",GT),document.removeEventListener("drop",Et))}},[mt,V]),H.useEffect(function(){return!i&&z&&mt.current&&mt.current.focus(),function(){}},[mt,z,i]);var _t=H.useCallback(function(gt){M?M(gt):console.error(gt)},[M]),St=H.useCallback(function(gt){gt.preventDefault(),gt.persist(),un(gt),pt.current=[].concat(E6(pt.current),[gt.target]),yv(gt)&&Promise.resolve(r(gt)).then(function(Dt){if(!(yy(gt)&&!P)){var zt=Dt.length,jt=zt>0&&h6({files:Dt,accept:j,minSize:c,maxSize:o,multiple:h,maxFiles:d,validator:D}),ye=zt>0&&!jt;dt({isDragAccept:jt,isDragReject:ye,isDragActive:!0,type:"setDraggedFiles"}),m&&m(gt)}}).catch(function(Dt){return _t(Dt)})},[r,m,_t,P,j,c,o,h,d,D]),It=H.useCallback(function(gt){gt.preventDefault(),gt.persist(),un(gt);var Dt=yv(gt);if(Dt&&gt.dataTransfer)try{gt.dataTransfer.dropEffect="copy"}catch{}return Dt&&b&&b(gt),!1},[b,P]),Kt=H.useCallback(function(gt){gt.preventDefault(),gt.persist(),un(gt);var Dt=pt.current.filter(function(jt){return mt.current&&mt.current.contains(jt)}),zt=Dt.indexOf(gt.target);zt!==-1&&Dt.splice(zt,1),pt.current=Dt,!(Dt.length>0)&&(dt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),yv(gt)&&v&&v(gt))},[mt,v,P]),Tt=H.useCallback(function(gt,Dt){var zt=[],jt=[];gt.forEach(function(ye){var Ki=bR(ye,j),Ui=LA(Ki,2),Rl=Ui[0],_s=Ui[1],Xn=AR(ye,c,o),We=LA(Xn,2),ja=We[0],hn=We[1],oi=D?D(ye):null;if(Rl&&ja&&!oi)zt.push(ye);else{var Fa=[_s,hn];oi&&(Fa=Fa.concat(oi)),jt.push({file:ye,errors:Fa.filter(function(Cu){return Cu})})}}),(!h&&zt.length>1||h&&d>=1&&zt.length>d)&&(zt.forEach(function(ye){jt.push({file:ye,errors:[u6]})}),zt.splice(0)),dt({acceptedFiles:zt,fileRejections:jt,isDragReject:jt.length>0,type:"setFiles"}),A&&A(zt,jt,Dt),jt.length>0&&E&&E(jt,Dt),zt.length>0&&w&&w(zt,Dt)},[dt,h,j,c,o,d,A,w,E,D]),Te=H.useCallback(function(gt){gt.preventDefault(),gt.persist(),un(gt),pt.current=[],yv(gt)&&Promise.resolve(r(gt)).then(function(Dt){yy(gt)&&!P||Tt(Dt,gt)}).catch(function(Dt){return _t(Dt)}),dt({type:"reset"})},[r,Tt,_t,P]),Be=H.useCallback(function(){if(ft.current){dt({type:"openDialog"}),$();var gt={multiple:h,types:U};window.showOpenFilePicker(gt).then(function(Dt){return r(Dt)}).then(function(Dt){Tt(Dt,null),dt({type:"closeDialog"})}).catch(function(Dt){y6(Dt)?(F(Dt),dt({type:"closeDialog"})):b6(Dt)?(ft.current=!1,bt.current?(bt.current.value=null,bt.current.click()):_t(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_t(Dt)});return}bt.current&&(dt({type:"openDialog"}),$(),bt.current.value=null,bt.current.click())},[dt,$,F,k,Tt,_t,U,h]),Ht=H.useCallback(function(gt){!mt.current||!mt.current.isEqualNode(gt.target)||(gt.key===" "||gt.key==="Enter"||gt.keyCode===32||gt.keyCode===13)&&(gt.preventDefault(),Be())},[mt,Be]),se=H.useCallback(function(){dt({type:"focus"})},[]),ve=H.useCallback(function(){dt({type:"blur"})},[]),le=H.useCallback(function(){X||(p6()?setTimeout(Be,0):Be())},[X,Be]),ri=function(Dt){return i?null:Dt},Fi=function(Dt){return K?null:ri(Dt)},Tn=function(Dt){return Z?null:ri(Dt)},un=function(Dt){P&&Dt.stopPropagation()},Cn=H.useMemo(function(){return function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dt=gt.refKey,zt=Dt===void 0?"ref":Dt,jt=gt.role,ye=gt.onKeyDown,Ki=gt.onFocus,Ui=gt.onBlur,Rl=gt.onClick,_s=gt.onDragEnter,Xn=gt.onDragOver,We=gt.onDragLeave,ja=gt.onDrop,hn=by(gt,w6);return ze(ze(i_({onKeyDown:Fi(da(ye,Ht)),onFocus:Fi(da(Ki,se)),onBlur:Fi(da(Ui,ve)),onClick:ri(da(Rl,le)),onDragEnter:Tn(da(_s,St)),onDragOver:Tn(da(Xn,It)),onDragLeave:Tn(da(We,Kt)),onDrop:Tn(da(ja,Te)),role:typeof jt=="string"&&jt!==""?jt:"presentation"},zt,mt),!i&&!K?{tabIndex:0}:{}),hn)}},[mt,Ht,se,ve,le,St,It,Kt,Te,K,Z,i]),Cl=H.useCallback(function(gt){gt.stopPropagation()},[]),Pa=H.useMemo(function(){return function(){var gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Dt=gt.refKey,zt=Dt===void 0?"ref":Dt,jt=gt.onChange,ye=gt.onClick,Ki=by(gt,x6),Ui=i_({accept:j,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ri(da(jt,Te)),onClick:ri(da(ye,Cl)),tabIndex:-1},zt,bt);return ze(ze({},Ui),Ki)}},[bt,e,h,Te,i]);return ze(ze({},lt),{},{isFocused:G&&!i,getRootProps:Cn,getInputProps:Pa,rootRef:mt,inputRef:bt,open:ri(Be)})}function O6(a,t){switch(t.type){case"focus":return ze(ze({},a),{},{isFocused:!0});case"blur":return ze(ze({},a),{},{isFocused:!1});case"openDialog":return ze(ze({},n_),{},{isFileDialogActive:!0});case"closeDialog":return ze(ze({},a),{},{isFileDialogActive:!1});case"setDraggedFiles":return ze(ze({},a),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ze(ze({},a),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ze({},n_);default:return a}}function XT(){}const L6="modulepreload",I6=function(a){return"/acento.ai/"+a},YT={},bv=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(d=>{if(d=I6(d),d in YT)return;YT[d]=!0;const m=d.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":L6,m||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((A,w)=>{b.addEventListener("load",A),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};var mp={};mp.d=(a,t)=>{for(var e in t)mp.o(t,e)&&!mp.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};mp.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var Ut=globalThis.pdfjsLib={};mp.d(Ut,{AbortException:()=>Su,AnnotationEditorLayer:()=>mw,AnnotationEditorParamsType:()=>Pt,AnnotationEditorType:()=>qt,AnnotationEditorUIManager:()=>gu,AnnotationLayer:()=>OF,AnnotationMode:()=>Vo,ColorPicker:()=>xy,DOMSVGFactory:()=>hx,DrawLayer:()=>bw,FeatureTest:()=>rn,GlobalWorkerOptions:()=>Fr,ImageKind:()=>Mv,InvalidPDFException:()=>CR,MissingPDFException:()=>Eu,OPS:()=>Ds,OutputScale:()=>l_,PDFDataRangeTransport:()=>xk,PDFDateString:()=>sx,PDFWorker:()=>Rh,PasswordResponses:()=>F6,PermissionFlag:()=>j6,PixelsPerInch:()=>Al,RenderingCancelledException:()=>ix,TextLayer:()=>P_,UnexpectedResponseException:()=>i0,Util:()=>Rt,VerbosityLevel:()=>Jy,XfaLayer:()=>Sk,build:()=>dF,createValidAbsoluteUrl:()=>B6,fetchData:()=>s0,getDocument:()=>nF,getFilenameFromUrl:()=>Q6,getPdfFilenameFromUrl:()=>Z6,getXfaPageViewport:()=>J6,isDataScheme:()=>a0,isPdfFile:()=>nx,noContextMenu:()=>As,normalizeUnicode:()=>Y6,setLayerDimensions:()=>mu,shadow:()=>te,version:()=>hF});const Wi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),TR=[1,0,0,1,0,0],s_=[.001,0,0,.001,0,0],N6=1e7,IA=1.35,qn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},P6="pdfjs_internal_editor_",qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},j6={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Bi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Mv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ui={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},qf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Jy={ERRORS:0,WARNINGS:1,INFOS:5},Ds={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},F6={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let t0=Jy.WARNINGS;function U6(a){Number.isInteger(a)&&(t0=a)}function H6(){return t0}function e0(a){t0>=Jy.INFOS&&console.log(`Info: ${a}`)}function Xt(a){t0>=Jy.WARNINGS&&console.log(`Warning: ${a}`)}function De(a){throw new Error(a)}function pi(a,t){a||De(t)}function z6(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function B6(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=X6(a)}catch{}}const i=t?new URL(a,t):new URL(a);if(z6(i))return i}catch{}return null}function te(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Tl=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class a_ extends Tl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class r_ extends Tl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class CR extends Tl{constructor(t){super(t,"InvalidPDFException")}}class Eu extends Tl{constructor(t){super(t,"MissingPDFException")}}class i0 extends Tl{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class V6 extends Tl{constructor(t){super(t,"FormatError")}}class Su extends Tl{constructor(t){super(t,"AbortException")}}function RR(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&De("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=a.subarray(r,o);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function n0(a){typeof a!="string"&&De("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function q6(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function tx(a){const t=Object.create(null);for(const[e,i]of a)t[e]=i;return t}function G6(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function $6(){try{return new Function(""),!0}catch{return!1}}class rn{static get isLittleEndian(){return te(this,"isLittleEndian",G6())}static get isEvalSupported(){return te(this,"isEvalSupported",$6())}static get isOffscreenCanvasSupported(){return te(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?te(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):te(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return te(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const NA=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var qr,Ov,o_;class Rt{static makeHexColor(t,e,i){return`#${NA[t]}${NA[e]}${NA[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,o]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],o[0],c[0]),Math.min(i[1],r[1],o[1],c[1]),Math.max(i[0],r[0],o[0],c[0]),Math.max(i[1],r[1],o[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(i+c)/2,d=Math.sqrt((i+c)**2-4*(i*c-o*r))/2,m=h+d||1,v=h-d||1;return[Math.sqrt(m),Math.sqrt(v)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[i,o,r,c]}static bezierBoundingBox(t,e,i,r,o,c,h,d,m){return m?(m[0]=Math.min(m[0],t,h),m[1]=Math.min(m[1],e,d),m[2]=Math.max(m[2],t,h),m[3]=Math.max(m[3],e,d)):m=[Math.min(t,h),Math.min(e,d),Math.max(t,h),Math.max(e,d)],R(this,qr,o_).call(this,t,i,o,h,e,r,c,d,3*(-t+3*(i-o)+h),6*(t-2*i+o),3*(i-t),m),R(this,qr,o_).call(this,t,i,o,h,e,r,c,d,3*(-e+3*(r-c)+d),6*(e-2*r+c),3*(r-e),m),m}}qr=new WeakSet,Ov=function(t,e,i,r,o,c,h,d,m,v){if(m<=0||m>=1)return;const b=1-m,A=m*m,w=A*m,E=b*(b*(b*t+3*m*e)+3*A*i)+w*r,C=b*(b*(b*o+3*m*c)+3*A*h)+w*d;v[0]=Math.min(v[0],E),v[1]=Math.min(v[1],C),v[2]=Math.max(v[2],E),v[3]=Math.max(v[3],C)},o_=function(t,e,i,r,o,c,h,d,m,v,b,A){if(Math.abs(m)<1e-12){Math.abs(v)>=1e-12&&R(this,qr,Ov).call(this,t,e,i,r,o,c,h,d,-b/v,A);return}const w=v**2-4*b*m;if(w<0)return;const E=Math.sqrt(w),C=2*m;R(this,qr,Ov).call(this,t,e,i,r,o,c,h,d,(-v+E)/C,A),R(this,qr,Ov).call(this,t,e,i,r,o,c,h,d,(-v-E)/C,A)},O(Rt,qr);function X6(a){return decodeURIComponent(escape(a))}let PA=null,WT=null;function Y6(a){return PA||(PA=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,WT=new Map([["ﬅ","ſt"]])),a.replaceAll(PA,(t,e,i)=>e?e.normalize("NFKC"):WT.get(i))}function W6(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return RR(a)}const ex="pdfjs_internal_id_",cr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function K6(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(RR(a))}const hr="http://www.w3.org/2000/svg",dc=class dc{};Nt(dc,"CSS",96),Nt(dc,"PDF",72),Nt(dc,"PDF_TO_CSS_UNITS",dc.CSS/dc.PDF);let Al=dc;async function s0(a,t="text"){if(Wf(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Xm{constructor({viewBox:t,scale:e,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=r,this.offsetY=o;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let m,v,b,A;switch(i%=360,i<0&&(i+=360),i){case 180:m=-1,v=0,b=0,A=1;break;case 90:m=0,v=1,b=1,A=0;break;case 270:m=0,v=-1,b=-1,A=0;break;case 0:m=1,v=0,b=0,A=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,A=-A);let w,E,C,I;m===0?(w=Math.abs(d-t[1])*e+r,E=Math.abs(h-t[0])*e+o,C=(t[3]-t[1])*e,I=(t[2]-t[0])*e):(w=Math.abs(h-t[0])*e+r,E=Math.abs(d-t[1])*e+o,C=(t[2]-t[0])*e,I=(t[3]-t[1])*e),this.transform=[m*e,v*e,b*e,A*e,w-m*e*h-b*e*d,E-v*e*h-A*e*d],this.width=C,this.height=I}get rawDims(){const{viewBox:t}=this;return te(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Xm({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return Rt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Rt.applyTransform([t[0],t[1]],this.transform),i=Rt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return Rt.applyInverseTransform([t,e],this.transform)}}class ix extends Tl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function a0(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function nx(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function Q6(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function Z6(a,t="document.pdf"){if(typeof a!="string")return t;if(a0(a))return Xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let o=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}class KT{constructor(){Nt(this,"started",Object.create(null));Nt(this,"times",[])}time(t){t in this.started&&Xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}}function Wf(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function As(a){a.preventDefault()}function QT(a){console.log("Deprecated API usage: "+a)}var Ep;class sx{static toDateObject(t){if(!t||typeof t!="string")return null;f(this,Ep)||T(this,Ep,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=f(this,Ep).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const m=e[7]||"Z";let v=parseInt(e[8],10);v=v>=0&&v<=23?v:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,m==="-"?(c+=v,h+=b):m==="+"&&(c-=v,h-=b),new Date(Date.UTC(i,r,o,c,h,d))}}Ep=new WeakMap,O(sx,Ep);function J6(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new Xm({viewBox:o,scale:t,rotation:e})}function ax(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Xt(`Not a valid color format: "${a}"`),[0,0,0])}function tj(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,ax(i))}t.remove()}function He(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform();return[t,e,i,r,o,c]}function ur(a){const{a:t,b:e,c:i,d:r,e:o,f:c}=a.getTransform().invertSelf();return[t,e,i,r,o,c]}function mu(a,t,e=!1,i=!0){if(t instanceof Xm){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=a,h=rn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,m=`var(--scale-factor) * ${o}px`,v=h?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,b=h?`round(down, ${m}, var(--scale-round-y, 1px))`:`calc(${m})`;!e||t.rotation%180===0?(c.width=v,c.height=b):(c.width=b,c.height=v)}i&&a.setAttribute("data-main-rotation",t.rotation)}class l_{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var qo,mc,Ms,gc,Sp,Tp,Sy,kR,on,DR,MR,Lv,OR,u_;const dr=class dr{constructor(t){O(this,on);O(this,qo,null);O(this,mc,null);O(this,Ms);O(this,gc,null);O(this,Sp,null);T(this,Ms,t),f(dr,Tp)||T(dr,Tp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=T(this,qo,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=f(this,Ms)._uiManager._signal;t.addEventListener("contextmenu",As,{signal:e}),t.addEventListener("pointerdown",R(dr,Sy,kR),{signal:e});const i=T(this,gc,document.createElement("div"));i.className="buttons",t.append(i);const r=f(this,Ms).toolbarPosition;if(r){const{style:o}=t,c=f(this,Ms)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return R(this,on,OR).call(this),t}get div(){return f(this,qo)}hide(){var t;f(this,qo).classList.add("hidden"),(t=f(this,mc))==null||t.hideDropdown()}show(){var t;f(this,qo).classList.remove("hidden"),(t=f(this,Sp))==null||t.shown()}async addAltText(t){const e=await t.render();R(this,on,Lv).call(this,e),f(this,gc).prepend(e,f(this,on,u_)),T(this,Sp,t)}addColorPicker(t){T(this,mc,t);const e=t.renderButton();R(this,on,Lv).call(this,e),f(this,gc).prepend(e,f(this,on,u_))}remove(){var t;f(this,qo).remove(),(t=f(this,mc))==null||t.destroy(),T(this,mc,null)}};qo=new WeakMap,mc=new WeakMap,Ms=new WeakMap,gc=new WeakMap,Sp=new WeakMap,Tp=new WeakMap,Sy=new WeakSet,kR=function(t){t.stopPropagation()},on=new WeakSet,DR=function(t){f(this,Ms)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},MR=function(t){f(this,Ms)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Lv=function(t){const e=f(this,Ms)._uiManager._signal;t.addEventListener("focusin",R(this,on,DR).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",R(this,on,MR).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",As,{signal:e})},OR=function(){const{editorType:t,_uiManager:e}=f(this,Ms),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",f(dr,Tp)[t]),R(this,on,Lv).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),f(this,gc).append(i)},u_=function(){const t=document.createElement("div");return t.className="divider",t},O(dr,Sy),O(dr,Tp,null);let c_=dr;var Cp,vc,yc,wl,LR,IR,NR;class ej{constructor(t){O(this,wl);O(this,Cp,null);O(this,vc,null);O(this,yc);T(this,yc,t)}show(t,e,i){const[r,o]=R(this,wl,IR).call(this,e,i),{style:c}=f(this,vc)||T(this,vc,R(this,wl,LR).call(this));t.append(f(this,vc)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){f(this,vc).remove()}}Cp=new WeakMap,vc=new WeakMap,yc=new WeakMap,wl=new WeakSet,LR=function(){const t=T(this,vc,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",As,{signal:f(this,yc)._signal});const e=T(this,Cp,document.createElement("div"));return e.className="buttons",t.append(e),R(this,wl,NR).call(this),t},IR=function(t,e){let i=0,r=0;for(const o of t){const c=o.y+o.height;if(c<i)continue;const h=o.x+(e?o.width:0);if(c>i){r=h,i=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,i]},NR=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=f(this,yc)._signal;t.addEventListener("contextmenu",As,{signal:i}),t.addEventListener("click",()=>{f(this,yc).highlightSelection("floating_button")},{signal:i}),f(this,Cp).append(t)};function Ay(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}function ij(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var Ty;class nj{constructor(){O(this,Ty,0)}get id(){return`${P6}${tn(this,Ty)._++}`}}Ty=new WeakMap;var Mh,Rp,qi,Oh,Iv;const px=class px{constructor(){O(this,Oh);O(this,Mh,W6());O(this,Rp,0);O(this,qi,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return te(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:o}=t;return R(this,Oh,Iv).call(this,`${e}_${i}_${r}_${o}`,t)}async getFromUrl(t){return R(this,Oh,Iv).call(this,t,t)}async getFromBlob(t,e){const i=await e;return R(this,Oh,Iv).call(this,t,i)}async getFromId(t){f(this,qi)||T(this,qi,new Map);const e=f(this,qi).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){f(this,qi)||T(this,qi,new Map);let i=f(this,qi).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${f(this,Mh)}_${tn(this,Rp)._++}`,refCounter:1,isSvg:!1},f(this,qi).set(t,i),f(this,qi).set(i.id,i),i}getSvgUrl(t){const e=f(this,qi).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;f(this,qi)||T(this,qi,new Map);const e=f(this,qi).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=o.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${f(this,Mh)}_`)}};Mh=new WeakMap,Rp=new WeakMap,qi=new WeakMap,Oh=new WeakSet,Iv=async function(t,e){f(this,qi)||T(this,qi,new Map);let i=f(this,qi).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${f(this,Mh)}_${tn(this,Rp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await s0(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=px._isSVGFittingCanvas,c=new FileReader,h=new Image,d=new Promise((m,v)=>{h.onload=()=>{i.bitmap=h,i.isSvg=!0,m()},c.onload=async()=>{const b=i.svgUrl=c.result;h.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=c.onerror=v});c.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return f(this,qi).set(t,i),i&&f(this,qi).set(i.id,i),i};let h_=px;var Si,Go,kp,Ti;class sj{constructor(t=128){O(this,Si,[]);O(this,Go,!1);O(this,kp);O(this,Ti,-1);T(this,kp,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),f(this,Go))return;const d={cmd:t,undo:e,post:i,type:o};if(f(this,Ti)===-1){f(this,Si).length>0&&(f(this,Si).length=0),T(this,Ti,0),f(this,Si).push(d);return}if(c&&f(this,Si)[f(this,Ti)].type===o){h&&(d.undo=f(this,Si)[f(this,Ti)].undo),f(this,Si)[f(this,Ti)]=d;return}const m=f(this,Ti)+1;m===f(this,kp)?f(this,Si).splice(0,1):(T(this,Ti,m),m<f(this,Si).length&&f(this,Si).splice(m)),f(this,Si).push(d)}undo(){if(f(this,Ti)===-1)return;T(this,Go,!0);const{undo:t,post:e}=f(this,Si)[f(this,Ti)];t(),e==null||e(),T(this,Go,!1),T(this,Ti,f(this,Ti)-1)}redo(){if(f(this,Ti)<f(this,Si).length-1){T(this,Ti,f(this,Ti)+1),T(this,Go,!0);const{cmd:t,post:e}=f(this,Si)[f(this,Ti)];t(),e==null||e(),T(this,Go,!1)}}hasSomethingToUndo(){return f(this,Ti)!==-1}hasSomethingToRedo(){return f(this,Ti)<f(this,Si).length-1}destroy(){T(this,Si,null)}}Si=new WeakMap,Go=new WeakMap,kp=new WeakMap,Ti=new WeakMap;var Cy,PR;class Ym{constructor(t){O(this,Cy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=rn.platform;for(const[i,r,o={}]of t)for(const c of i){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(R(this,Cy,PR).call(this,e));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:h=null}}=i;h&&!h(t,e)||(r.bind(t,...c,e)(),o||(e.stopPropagation(),e.preventDefault()))}}Cy=new WeakSet,PR=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Ry=class Ry{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return tj(t),te(this,"_colors",t)}convert(t){const e=ax(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((o,c)=>o===e[c]))return Ry._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Rt.makeHexColor(...e):t}};Nt(Ry,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let d_=Ry;var Lh,Pn,hi,Ii,Ih,pr,Nh,Os,$o,Ph,bc,pa,Ls,Ac,Dp,Mp,jh,Op,ma,Xo,Fh,Yo,ga,ky,Wo,Lp,Ko,_c,Ip,Np,Ci,pe,mr,wc,Pp,jp,Qo,va,gr,Fp,us,At,Nv,f_,jR,FR,Pv,UR,HR,zR,p_,BR,m_,g_,VR,en,Po,qR,GR,v_,$R,Kf,y_;const xh=class xh{constructor(t,e,i,r,o,c,h,d,m,v,b){O(this,At);O(this,Lh,new AbortController);O(this,Pn,null);O(this,hi,new Map);O(this,Ii,new Map);O(this,Ih,null);O(this,pr,null);O(this,Nh,null);O(this,Os,new sj);O(this,$o,null);O(this,Ph,0);O(this,bc,new Set);O(this,pa,null);O(this,Ls,null);O(this,Ac,new Set);O(this,Dp,!1);O(this,Mp,!1);O(this,jh,!1);O(this,Op,null);O(this,ma,null);O(this,Xo,null);O(this,Fh,null);O(this,Yo,!1);O(this,ga,null);O(this,ky,new nj);O(this,Wo,!1);O(this,Lp,!1);O(this,Ko,null);O(this,_c,null);O(this,Ip,null);O(this,Np,null);O(this,Ci,qt.NONE);O(this,pe,new Set);O(this,mr,null);O(this,wc,null);O(this,Pp,null);O(this,jp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});O(this,Qo,[0,0]);O(this,va,null);O(this,gr,null);O(this,Fp,null);O(this,us,null);const A=this._signal=f(this,Lh).signal;T(this,gr,t),T(this,Fp,e),T(this,Ih,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:A}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),r._on("setpreference",this.onSetPreference.bind(this),{signal:A}),r._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:A}),R(this,At,UR).call(this),R(this,At,VR).call(this),R(this,At,p_).call(this),T(this,pr,o.annotationStorage),T(this,Op,o.filterFactory),T(this,wc,c),T(this,Fh,h||null),T(this,Dp,d),T(this,Mp,m),T(this,jh,v),T(this,Np,b||null),this.viewParameters={realScale:Al.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=xh.prototype,e=c=>f(c,gr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return te(this,"_keyboardManager",new Ym([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&f(c,gr).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&f(c,gr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,i,r;(t=f(this,us))==null||t.resolve(),T(this,us,null),(e=f(this,Lh))==null||e.abort(),T(this,Lh,null),this._signal=null;for(const o of f(this,Ii).values())o.destroy();f(this,Ii).clear(),f(this,hi).clear(),f(this,Ac).clear(),T(this,Pn,null),f(this,pe).clear(),f(this,Os).destroy(),(i=f(this,Ih))==null||i.destroy(),(r=f(this,ga))==null||r.hide(),T(this,ga,null),f(this,ma)&&(clearTimeout(f(this,ma)),T(this,ma,null)),f(this,va)&&(clearTimeout(f(this,va)),T(this,va,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return f(this,Np)}get useNewAltTextFlow(){return f(this,Mp)}get useNewAltTextWhenAddingImage(){return f(this,jh)}get hcmFilter(){return te(this,"hcmFilter",f(this,wc)?f(this,Op).addHCMFilter(f(this,wc).foreground,f(this,wc).background):"none")}get direction(){return te(this,"direction",getComputedStyle(f(this,gr)).direction)}get highlightColors(){return te(this,"highlightColors",f(this,Fh)?new Map(f(this,Fh).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return te(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){T(this,Ip,t)}editAltText(t,e=!1){var i;(i=f(this,Ih))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":T(this,jh,e);break}}onPageChanging({pageNumber:t}){T(this,Ph,t-1)}focusMainContainer(){f(this,gr).focus()}findParent(t,e){for(const i of f(this,Ii).values()){const{x:r,y:o,width:c,height:h}=i.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+h)return i}return null}disableUserSelect(t=!1){f(this,Fp).classList.toggle("noUserSelect",t)}addShouldRescale(t){f(this,Ac).add(t)}removeShouldRescale(t){f(this,Ac).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Al.PDF_TO_CSS_UNITS;for(const e of f(this,Ac))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c}=e,h=e.toString(),m=R(this,At,Nv).call(this,e).closest(".textLayer"),v=this.getSelectionBoxes(m);if(!v)return;e.empty();const b=R(this,At,f_).call(this,m),A=f(this,Ci)===qt.NONE,w=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:v,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c,text:h}),A&&this.showAllEditors("highlight",!0,!0)};if(A){this.switchToMode(qt.HIGHLIGHT,w);return}w()}addToAnnotationStorage(t){!t.isEmpty()&&f(this,pr)&&!f(this,pr).has(t.id)&&f(this,pr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,f(this,Yo)&&(T(this,Yo,!1),R(this,At,Pv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of f(this,pe))if(e.div.contains(t)){T(this,_c,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!f(this,_c))return;const[t,e]=f(this,_c);T(this,_c,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){R(this,At,p_).call(this),R(this,At,m_).call(this)}removeEditListeners(){R(this,At,BR).call(this),R(this,At,g_).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of f(this,Ls))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of f(this,Ls))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=f(this,Pn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of f(this,pe)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of f(this,Ls))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Xt(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of i){const m=await r.deserialize(d);if(!m)return;o.push(m)}const c=()=>{for(const d of o)R(this,At,v_).call(this,d);R(this,At,y_).call(this,o)},h=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){Xt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),f(this,Ci)!==qt.NONE&&!this.isEditorHandlingKeyboard&&xh._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,f(this,Yo)&&(T(this,Yo,!1),R(this,At,Pv).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(R(this,At,HR).call(this),R(this,At,m_).call(this),R(this,At,en).call(this,{isEditing:f(this,Ci)!==qt.NONE,isEmpty:R(this,At,Kf).call(this),hasSomethingToUndo:f(this,Os).hasSomethingToUndo(),hasSomethingToRedo:f(this,Os).hasSomethingToRedo(),hasSelectedEditor:!1})):(R(this,At,zR).call(this),R(this,At,g_).call(this),R(this,At,en).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!f(this,Ls)){T(this,Ls,t);for(const e of f(this,Ls))R(this,At,Po).call(this,e.defaultPropertiesToUpdate)}}getId(){return f(this,ky).id}get currentLayer(){return f(this,Ii).get(f(this,Ph))}getLayer(t){return f(this,Ii).get(t)}get currentPageIndex(){return f(this,Ph)}addLayer(t){f(this,Ii).set(t.pageIndex,t),f(this,Wo)?t.enable():t.disable()}removeLayer(t){f(this,Ii).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(f(this,Ci)!==t&&!(f(this,us)&&(await f(this,us).promise,!f(this,us)))){if(T(this,us,Promise.withResolvers()),T(this,Ci,t),t===qt.NONE){this.setEditingState(!1),R(this,At,GR).call(this),f(this,us).resolve();return}this.setEditingState(!0),await R(this,At,qR).call(this),this.unselectAll();for(const r of f(this,Ii).values())r.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),f(this,us).resolve();return}for(const r of f(this,hi).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();f(this,us).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==f(this,Ci)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(f(this,Ls)){switch(t){case Pt.CREATE:this.currentLayer.addNewEditor();return;case Pt.HIGHLIGHT_DEFAULT_COLOR:(i=f(this,Ip))==null||i.updateColor(e);break;case Pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(f(this,Pp)||T(this,Pp,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of f(this,pe))r.updateParams(t,e);for(const r of f(this,Ls))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var o;for(const c of f(this,hi).values())c.editorType===t&&c.show(e);(((o=f(this,Pp))==null?void 0:o.get(Pt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&R(this,At,Po).call(this,[[Pt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(f(this,Lp)!==t){T(this,Lp,t);for(const e of f(this,Ii).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of f(this,hi).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return f(this,hi).get(t)}addEditor(t){f(this,hi).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(f(this,ma)&&clearTimeout(f(this,ma)),T(this,ma,setTimeout(()=>{this.focusMainContainer(),T(this,ma,null)},0))),f(this,hi).delete(t.id),this.unselect(t),(!t.annotationElementId||!f(this,bc).has(t.annotationElementId))&&((e=f(this,pr))==null||e.remove(t.id))}addDeletedAnnotationElement(t){f(this,bc).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return f(this,bc).has(t)}removeDeletedAnnotationElement(t){f(this,bc).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){f(this,Pn)!==t&&(T(this,Pn,t),t&&R(this,At,Po).call(this,t.propertiesToUpdate))}updateUI(t){f(this,At,$R)===t&&R(this,At,Po).call(this,t.propertiesToUpdate)}toggleSelected(t){if(f(this,pe).has(t)){f(this,pe).delete(t),t.unselect(),R(this,At,en).call(this,{hasSelectedEditor:this.hasSelection});return}f(this,pe).add(t),t.select(),R(this,At,Po).call(this,t.propertiesToUpdate),R(this,At,en).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of f(this,pe))e!==t&&e.unselect();f(this,pe).clear(),f(this,pe).add(t),t.select(),R(this,At,Po).call(this,t.propertiesToUpdate),R(this,At,en).call(this,{hasSelectedEditor:!0})}isSelected(t){return f(this,pe).has(t)}get firstSelectedEditor(){return f(this,pe).values().next().value}unselect(t){t.unselect(),f(this,pe).delete(t),R(this,At,en).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return f(this,pe).size!==0}get isEnterHandled(){return f(this,pe).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){f(this,Os).undo(),R(this,At,en).call(this,{hasSomethingToUndo:f(this,Os).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:R(this,At,Kf).call(this)})}redo(){f(this,Os).redo(),R(this,At,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:f(this,Os).hasSomethingToRedo(),isEmpty:R(this,At,Kf).call(this)})}addCommands(t){f(this,Os).add(t),R(this,At,en).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:R(this,At,Kf).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...f(this,pe)],e=()=>{for(const r of t)r.remove()},i=()=>{for(const r of t)R(this,At,v_).call(this,r)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=f(this,Pn))==null||t.commitOrRemove()}hasSomethingToControl(){return f(this,Pn)||this.hasSelection}selectAll(){for(const t of f(this,pe))t.commit();R(this,At,y_).call(this,f(this,hi).values())}unselectAll(){if(!(f(this,Pn)&&(f(this,Pn).commitOrRemove(),f(this,Ci)!==qt.NONE))&&this.hasSelection){for(const t of f(this,pe))t.unselect();f(this,pe).clear(),R(this,At,en).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;f(this,Qo)[0]+=t,f(this,Qo)[1]+=e;const[r,o]=f(this,Qo),c=[...f(this,pe)],h=1e3;f(this,va)&&clearTimeout(f(this,va)),T(this,va,setTimeout(()=>{T(this,va,null),f(this,Qo)[0]=f(this,Qo)[1]=0,this.addCommands({cmd:()=>{for(const d of c)f(this,hi).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of c)f(this,hi).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},h));for(const d of c)d.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,pa,new Map);for(const t of f(this,pe))f(this,pa).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!f(this,pa))return!1;this.disableUserSelect(!1);const t=f(this,pa);T(this,pa,null);let e=!1;for(const[{x:r,y:o,pageIndex:c},h]of t)h.newX=r,h.newY=o,h.newPageIndex=c,e||(e=r!==h.savedX||o!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const i=(r,o,c,h)=>{if(f(this,hi).has(r.id)){const d=f(this,Ii).get(h);d?r._setParentAndPosition(d,o,c):(r.pageIndex=h,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:h}]of t)i(r,o,c,h)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:h}]of t)i(r,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(f(this,pa))for(const i of f(this,pa).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||f(this,pe).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return f(this,Pn)===t}getActive(){return f(this,Pn)}getMode(){return f(this,Ci)}get imageManager(){return te(this,"imageManager",new h_)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let m=0,v=e.rangeCount;m<v;m++)if(!t.contains(e.getRangeAt(m).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(m,v,b,A)=>({x:(v-r)/c,y:1-(m+b-i)/o,width:A/c,height:b/o});break;case"180":h=(m,v,b,A)=>({x:1-(m+b-i)/o,y:1-(v+A-r)/c,width:b/o,height:A/c});break;case"270":h=(m,v,b,A)=>({x:1-(v+A-r)/c,y:(m-i)/o,width:A/c,height:b/o});break;default:h=(m,v,b,A)=>({x:(m-i)/o,y:(v-r)/c,width:b/o,height:A/c});break}const d=[];for(let m=0,v=e.rangeCount;m<v;m++){const b=e.getRangeAt(m);if(!b.collapsed)for(const{x:A,y:w,width:E,height:C}of b.getClientRects())E===0||C===0||d.push(h(A,w,E,C))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(f(this,Nh)||T(this,Nh,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=f(this,Nh))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=f(this,Nh))==null?void 0:r.get(t.data.id);if(!e)return;const i=f(this,pr).getRawValue(e);i&&(f(this,Ci)===qt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Lh=new WeakMap,Pn=new WeakMap,hi=new WeakMap,Ii=new WeakMap,Ih=new WeakMap,pr=new WeakMap,Nh=new WeakMap,Os=new WeakMap,$o=new WeakMap,Ph=new WeakMap,bc=new WeakMap,pa=new WeakMap,Ls=new WeakMap,Ac=new WeakMap,Dp=new WeakMap,Mp=new WeakMap,jh=new WeakMap,Op=new WeakMap,ma=new WeakMap,Xo=new WeakMap,Fh=new WeakMap,Yo=new WeakMap,ga=new WeakMap,ky=new WeakMap,Wo=new WeakMap,Lp=new WeakMap,Ko=new WeakMap,_c=new WeakMap,Ip=new WeakMap,Np=new WeakMap,Ci=new WeakMap,pe=new WeakMap,mr=new WeakMap,wc=new WeakMap,Pp=new WeakMap,jp=new WeakMap,Qo=new WeakMap,va=new WeakMap,gr=new WeakMap,Fp=new WeakMap,us=new WeakMap,At=new WeakSet,Nv=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},f_=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of f(this,Ii).values())if(i.hasTextLayer(t))return i;return null},jR=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=R(this,At,Nv).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(f(this,ga)||T(this,ga,new ej(this)),f(this,ga).show(i,r,this.direction==="ltr"))},FR=function(){var o,c,h;const t=document.getSelection();if(!t||t.isCollapsed){f(this,mr)&&((o=f(this,ga))==null||o.hide(),T(this,mr,null),R(this,At,en).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===f(this,mr))return;const r=R(this,At,Nv).call(this,t).closest(".textLayer");if(!r){f(this,mr)&&((c=f(this,ga))==null||c.hide(),T(this,mr,null),R(this,At,en).call(this,{hasSelectedText:!1}));return}if((h=f(this,ga))==null||h.hide(),T(this,mr,e),R(this,At,en).call(this,{hasSelectedText:!0}),!(f(this,Ci)!==qt.HIGHLIGHT&&f(this,Ci)!==qt.NONE)&&(f(this,Ci)===qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,Yo,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=f(this,Ci)===qt.HIGHLIGHT?R(this,At,f_).call(this,r):null;d==null||d.toggleDrawing();const m=new AbortController,v=this.combinedSignal(m),b=A=>{A.type==="pointerup"&&A.button!==0||(m.abort(),d==null||d.toggleDrawing(!0),A.type==="pointerup"&&R(this,At,Pv).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:v}),window.addEventListener("blur",b,{signal:v})}},Pv=function(t=""){f(this,Ci)===qt.HIGHLIGHT?this.highlightSelection(t):f(this,Dp)&&R(this,At,jR).call(this)},UR=function(){document.addEventListener("selectionchange",R(this,At,FR).bind(this),{signal:this._signal})},HR=function(){if(f(this,Xo))return;T(this,Xo,new AbortController);const t=this.combinedSignal(f(this,Xo));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},zR=function(){var t;(t=f(this,Xo))==null||t.abort(),T(this,Xo,null)},p_=function(){if(f(this,Ko))return;T(this,Ko,new AbortController);const t=this.combinedSignal(f(this,Ko));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},BR=function(){var t;(t=f(this,Ko))==null||t.abort(),T(this,Ko,null)},m_=function(){if(f(this,$o))return;T(this,$o,new AbortController);const t=this.combinedSignal(f(this,$o));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},g_=function(){var t;(t=f(this,$o))==null||t.abort(),T(this,$o,null)},VR=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},en=function(t){Object.entries(t).some(([i,r])=>f(this,jp)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(f(this,jp),t)}),f(this,Ci)===qt.HIGHLIGHT&&t.hasSelectedEditor===!1&&R(this,At,Po).call(this,[[Pt.HIGHLIGHT_FREE,!0]]))},Po=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},qR=async function(){if(!f(this,Wo)){T(this,Wo,!0);const t=[];for(const e of f(this,Ii).values())t.push(e.enable());await Promise.all(t);for(const e of f(this,hi).values())e.enable()}},GR=function(){if(this.unselectAll(),f(this,Wo)){T(this,Wo,!1);for(const t of f(this,Ii).values())t.disable();for(const t of f(this,hi).values())t.disable()}},v_=function(t){const e=f(this,Ii).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},$R=function(){let t=null;for(t of f(this,pe));return t},Kf=function(){if(f(this,hi).size===0)return!0;if(f(this,hi).size===1)for(const t of f(this,hi).values())return t.isEmpty();return!1},y_=function(t){for(const e of f(this,pe))e.unselect();f(this,pe).clear();for(const e of t)e.isEmpty()||(f(this,pe).add(e),e.select());R(this,At,en).call(this,{hasSelectedEditor:this.hasSelection})},Nt(xh,"TRANSLATE_SMALL",1),Nt(xh,"TRANSLATE_BIG",10);let gu=xh;var Ri,ya,Is,Uh,ba,jn,Hh,Aa,yn,vr,xc,_a,Zo,$s,Qf,jv;const nn=class nn{constructor(t){O(this,$s);O(this,Ri,null);O(this,ya,!1);O(this,Is,null);O(this,Uh,null);O(this,ba,null);O(this,jn,null);O(this,Hh,!1);O(this,Aa,null);O(this,yn,null);O(this,vr,null);O(this,xc,null);O(this,_a,!1);T(this,yn,t),T(this,_a,t._uiManager.useNewAltTextFlow),f(nn,Zo)||T(nn,Zo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){nn._l10n??(nn._l10n=t)}async render(){const t=T(this,Is,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=T(this,Uh,document.createElement("span"));t.append(e),f(this,_a)?(t.classList.add("new"),t.setAttribute("data-l10n-id",f(nn,Zo).missing),e.setAttribute("data-l10n-id",f(nn,Zo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=f(this,yn)._uiManager._signal;t.addEventListener("contextmenu",As,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),f(this,yn)._uiManager.editAltText(f(this,yn)),f(this,_a)&&f(this,yn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:f(this,$s,Qf)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(T(this,Hh,!0),r(o))},{signal:i}),await R(this,$s,jv).call(this),t}finish(){f(this,Is)&&(f(this,Is).focus({focusVisible:f(this,Hh)}),T(this,Hh,!1))}isEmpty(){return f(this,_a)?f(this,Ri)===null:!f(this,Ri)&&!f(this,ya)}hasData(){return f(this,_a)?f(this,Ri)!==null||!!f(this,vr):this.isEmpty()}get guessedText(){return f(this,vr)}async setGuessedText(t){f(this,Ri)===null&&(T(this,vr,t),T(this,xc,await nn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),R(this,$s,jv).call(this))}toggleAltTextBadge(t=!1){var e;if(!f(this,_a)||f(this,Ri)){(e=f(this,Aa))==null||e.remove(),T(this,Aa,null);return}if(!f(this,Aa)){const i=T(this,Aa,document.createElement("div"));i.className="noAltTextBadge",f(this,yn).div.append(i)}f(this,Aa).classList.toggle("hidden",!t)}serialize(t){let e=f(this,Ri);return!t&&f(this,vr)===e&&(e=f(this,xc)),{altText:e,decorative:f(this,ya),guessedText:f(this,vr),textWithDisclaimer:f(this,xc)}}get data(){return{altText:f(this,Ri),decorative:f(this,ya)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(T(this,vr,i),T(this,xc,r)),!(f(this,Ri)===t&&f(this,ya)===e)&&(o||(T(this,Ri,t),T(this,ya,e)),R(this,$s,jv).call(this))}toggle(t=!1){f(this,Is)&&(!t&&f(this,jn)&&(clearTimeout(f(this,jn)),T(this,jn,null)),f(this,Is).disabled=!t)}shown(){f(this,yn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:f(this,$s,Qf)}})}destroy(){var t,e;(t=f(this,Is))==null||t.remove(),T(this,Is,null),T(this,Uh,null),T(this,ba,null),(e=f(this,Aa))==null||e.remove(),T(this,Aa,null)}};Ri=new WeakMap,ya=new WeakMap,Is=new WeakMap,Uh=new WeakMap,ba=new WeakMap,jn=new WeakMap,Hh=new WeakMap,Aa=new WeakMap,yn=new WeakMap,vr=new WeakMap,xc=new WeakMap,_a=new WeakMap,Zo=new WeakMap,$s=new WeakSet,Qf=function(){return f(this,Ri)&&"added"||f(this,Ri)===null&&this.guessedText&&"review"||"missing"},jv=async function(){var r,o,c;const t=f(this,Is);if(!t)return;if(f(this,_a)){if(t.classList.toggle("done",!!f(this,Ri)),t.setAttribute("data-l10n-id",f(nn,Zo)[f(this,$s,Qf)]),(r=f(this,Uh))==null||r.setAttribute("data-l10n-id",f(nn,Zo)[`${f(this,$s,Qf)}-label`]),!f(this,Ri)){(o=f(this,ba))==null||o.remove();return}}else{if(!f(this,Ri)&&!f(this,ya)){t.classList.remove("done"),(c=f(this,ba))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=f(this,ba);if(!e){T(this,ba,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${f(this,yn).id}`;const h=100,d=f(this,yn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(f(this,jn)),T(this,jn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{T(this,jn,setTimeout(()=>{T(this,jn,null),f(this,ba).classList.add("show"),f(this,yn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:d}),t.addEventListener("mouseleave",()=>{var m;f(this,jn)&&(clearTimeout(f(this,jn)),T(this,jn,null)),(m=f(this,ba))==null||m.classList.remove("show")},{signal:d})}f(this,ya)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=f(this,Ri)),e.parentNode||t.append(e);const i=f(this,yn).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},O(nn,Zo,null),Nt(nn,"_l10n",null);let _y=nn;var Ec,Ns,Fe,zh,Sc,Ni,Tc,Jo,Up,Cc,tl,Hp,Rc,yr,wa,Bh,Vh,hs,zp,Dy,Gt,b_,Bp,A_,__,XR,YR,w_,x_,E_,WR,S_,KR,QR,ZR,T_,Zf;const he=class he{constructor(t){O(this,Gt);O(this,Ec,null);O(this,Ns,null);O(this,Fe,null);O(this,zh,!1);O(this,Sc,!1);O(this,Ni,null);O(this,Tc,null);O(this,Jo,null);O(this,Up,"");O(this,Cc,!1);O(this,tl,null);O(this,Hp,!1);O(this,Rc,!1);O(this,yr,!1);O(this,wa,null);O(this,Bh,0);O(this,Vh,0);O(this,hs,null);Nt(this,"_editToolbar",null);Nt(this,"_initialOptions",Object.create(null));Nt(this,"_initialData",null);Nt(this,"_isVisible",!0);Nt(this,"_uiManager",null);Nt(this,"_focusEventsAllowed",!0);O(this,zp,!1);O(this,Dy,he._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,c];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=he.prototype._resizeWithKeyboard,e=gu.TRANSLATE_SMALL,i=gu.TRANSLATE_BIG;return te(this,"_resizerKeyboardManager",new Ym([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],he.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return te(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new aj({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(he._l10n??(he._l10n=t),he._l10nResizer||(he._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),he._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);he._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){De("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return f(this,zp)}set _isDraggable(t){var e;T(this,zp,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=f(this,Dy)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):R(this,Gt,Zf).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(f(this,Cc)?T(this,Cc,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[o,c]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){R(this,Gt,b_).call(this,this.parentDimensions,t,e)}translateInPage(t,e){f(this,tl)||T(this,tl,[this.x,this.y]),R(this,Gt,b_).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){f(this,tl)||T(this,tl,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[h,d]=this.getBaseTranslation();o+=h,c+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!f(this,tl)&&(f(this,tl)[0]!==this.x||f(this,tl)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=he,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:r,y:o,width:c,height:h}=this;if(c*=e,h*=i,r*=e,o*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),o=Math.max(0,Math.min(i-h,o));break;case 90:r=Math.max(0,Math.min(e-h,r)),o=Math.min(i,Math.max(c,o));break;case 180:r=Math.min(e,Math.max(c,r)),o=Math.min(i,Math.max(h,o));break;case 270:r=Math.min(e,Math.max(h,r)),o=Math.max(0,Math.min(i-c,o));break}this.x=r/=e,this.y=o/=i;const[d,m]=this.getBaseTranslation();r+=d,o+=m;const{style:v}=this.div;v.left=`${(100*r).toFixed(2)}%`,v.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return R(i=he,Bp,A_).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return R(i=he,Bp,A_).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,f(this,Sc)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),o=!f(this,Sc)&&e.endsWith("%");if(r&&o)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!f(this,Sc)&&!o&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=f(this,Fe))==null||t.finish()}async addEditToolbar(){return this._editToolbar||f(this,Rc)?this._editToolbar:(this._editToolbar=new c_(this),this.div.append(this._editToolbar.render()),f(this,Fe)&&await this._editToolbar.addAltText(f(this,Fe)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=f(this,Fe))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){f(this,Fe)||(_y.initialize(he._l10n),T(this,Fe,new _y(this)),f(this,Ec)&&(f(this,Fe).data=f(this,Ec),T(this,Ec,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=f(this,Fe))==null?void 0:t.data}set altTextData(t){f(this,Fe)&&(f(this,Fe).data=t)}get guessedAltText(){var t;return(t=f(this,Fe))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=f(this,Fe))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=f(this,Fe))==null?void 0:e.serialize(t)}hasAltText(){return!!f(this,Fe)&&!f(this,Fe).isEmpty()}hasAltTextData(){var t;return((t=f(this,Fe))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=f(this,zh)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),R(this,Gt,S_).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Ay(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=rn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(T(this,Cc,!0),this._isDraggable){R(this,Gt,WR).call(this,t);return}R(this,Gt,E_).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){f(this,wa)&&clearTimeout(f(this,wa)),T(this,wa,setTimeout(()=>{var t;T(this,wa,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[h,d]=this.pageTranslation,m=t/r,v=e/r,b=this.x*o,A=this.y*c,w=this.width*o,E=this.height*c;switch(i){case 0:return[b+m+h,c-A-v-E+d,b+m+w+h,c-A-v+d];case 90:return[b+v+h,c-A+m+d,b+v+E+h,c-A+m+w+d];case 180:return[b-m-w+h,c-A+v+d,b-m+h,c-A+v+E+d];case 270:return[b-v-E+h,c-A-m-w+d,b-v+h,c-A-m+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,o,c]=t,h=o-i,d=c-r;switch(this.rotation){case 0:return[i,e-c,h,d];case 90:return[i,e-r,d,h];case 180:return[o,e-r,h,d];case 270:return[o,e-c,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){T(this,Rc,!0)}disableEditMode(){T(this,Rc,!1)}isInEditMode(){return f(this,Rc)}shouldGetKeyboardEvents(){return f(this,yr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){R(this,Gt,S_).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){De("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,T(r,Ec,t.accessibilityData);const[o,c]=r.pageDimensions,[h,d,m,v]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/o,r.y=d/c,r.width=m/o,r.height=v/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=f(this,Jo))==null||t.abort(),T(this,Jo,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),f(this,wa)&&(clearTimeout(f(this,wa)),T(this,wa,null)),R(this,Gt,Zf).call(this),this.removeEditToolbar(),f(this,hs)){for(const e of f(this,hs).values())clearTimeout(e);T(this,hs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(R(this,Gt,XR).call(this),f(this,Ni).classList.remove("hidden"),Ay(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),T(this,Tc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=f(this,Ni).children;if(!f(this,Ns)){T(this,Ns,Array.from(e));const c=R(this,Gt,KR).bind(this),h=R(this,Gt,QR).bind(this),d=this._uiManager._signal;for(const m of f(this,Ns)){const v=m.getAttribute("data-resizer-name");m.setAttribute("role","spinbutton"),m.addEventListener("keydown",c,{signal:d}),m.addEventListener("blur",h,{signal:d}),m.addEventListener("focus",R(this,Gt,ZR).bind(this,v),{signal:d}),m.setAttribute("data-l10n-id",he._l10nResizer[v])}}const i=f(this,Ns)[0];let r=0;for(const c of e){if(c===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(f(this,Ns).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)f(this,Ni).append(f(this,Ni).firstChild);else if(o>r)for(let h=0;h<o-r;h++)f(this,Ni).firstChild.before(f(this,Ni).lastChild);let c=0;for(const h of e){const m=f(this,Ns)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",he._l10nResizer[m])}}R(this,Gt,T_).call(this,0),T(this,yr,!0),f(this,Ni).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){f(this,yr)&&R(this,Gt,x_).call(this,f(this,Up),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){R(this,Gt,Zf).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(i=f(this,Fe))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,r,o;(t=f(this,Ni))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=f(this,Fe))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return f(this,Hp)}set isEditing(t){T(this,Hp,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){T(this,Sc,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){f(this,hs)||T(this,hs,new Map);const{action:i}=t;let r=f(this,hs).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),f(this,hs).delete(i),f(this,hs).size===0&&T(this,hs,null)},he._telemetryTimeout),f(this,hs).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),T(this,zh,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,zh,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Ec=new WeakMap,Ns=new WeakMap,Fe=new WeakMap,zh=new WeakMap,Sc=new WeakMap,Ni=new WeakMap,Tc=new WeakMap,Jo=new WeakMap,Up=new WeakMap,Cc=new WeakMap,tl=new WeakMap,Hp=new WeakMap,Rc=new WeakMap,yr=new WeakMap,wa=new WeakMap,Bh=new WeakMap,Vh=new WeakMap,hs=new WeakMap,zp=new WeakMap,Dy=new WeakMap,Gt=new WeakSet,b_=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this.fixAndSetPosition()},Bp=new WeakSet,A_=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},__=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},XR=function(){if(f(this,Ni))return;T(this,Ni,document.createElement("div")),f(this,Ni).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");f(this,Ni).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",R(this,Gt,YR).bind(this,i),{signal:e}),r.addEventListener("contextmenu",As,{signal:e}),r.tabIndex=-1}this.div.prepend(f(this,Ni))},YR=function(t,e){var E;e.preventDefault();const{isMac:i}=rn.platform;if(e.button!==0||e.ctrlKey&&i)return;(E=f(this,Fe))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",R(this,Gt,x_).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",As,{signal:c});const h=this.x,d=this.y,m=this.width,v=this.height,b=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const w=()=>{var C;o.abort(),this.parent.togglePointerEvents(!0),(C=f(this,Fe))==null||C.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=A,R(this,Gt,w_).call(this,h,d,m,v)};window.addEventListener("pointerup",w,{signal:c}),window.addEventListener("blur",w,{signal:c})},w_=function(t,e,i,r){const o=this.x,c=this.y,h=this.width,d=this.height;o===t&&c===e&&h===i&&d===r||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=o,this.y=c;const[m,v]=this.parentDimensions;this.setDims(m*h,v*d),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=t,this.y=e;const[m,v]=this.parentDimensions;this.setDims(m*i,v*r),this.fixAndSetPosition()},mustExec:!0})},x_=function(t,e){const[i,r]=this.parentDimensions,o=this.x,c=this.y,h=this.width,d=this.height,m=he.MIN_SIZE/i,v=he.MIN_SIZE/r,b=ot=>Math.round(ot*1e4)/1e4,A=R(this,Gt,__).call(this,this.rotation),w=(ot,lt)=>[A[0]*ot+A[2]*lt,A[1]*ot+A[3]*lt],E=R(this,Gt,__).call(this,360-this.rotation),C=(ot,lt)=>[E[0]*ot+E[2]*lt,E[1]*ot+E[3]*lt];let I,k,z=!1,V=!1;switch(t){case"topLeft":z=!0,I=(ot,lt)=>[0,0],k=(ot,lt)=>[ot,lt];break;case"topMiddle":I=(ot,lt)=>[ot/2,0],k=(ot,lt)=>[ot/2,lt];break;case"topRight":z=!0,I=(ot,lt)=>[ot,0],k=(ot,lt)=>[0,lt];break;case"middleRight":V=!0,I=(ot,lt)=>[ot,lt/2],k=(ot,lt)=>[0,lt/2];break;case"bottomRight":z=!0,I=(ot,lt)=>[ot,lt],k=(ot,lt)=>[0,0];break;case"bottomMiddle":I=(ot,lt)=>[ot/2,lt],k=(ot,lt)=>[ot/2,0];break;case"bottomLeft":z=!0,I=(ot,lt)=>[0,lt],k=(ot,lt)=>[ot,0];break;case"middleLeft":V=!0,I=(ot,lt)=>[0,lt/2],k=(ot,lt)=>[ot,lt/2];break}const X=I(h,d),K=k(h,d);let Z=w(...K);const P=b(o+Z[0]),M=b(c+Z[1]);let D=1,j=1,[U,$]=this.screenToPageTranslation(e.movementX,e.movementY);if([U,$]=C(U/i,$/r),z){const ot=Math.hypot(h,d);D=j=Math.max(Math.min(Math.hypot(K[0]-X[0]-U,K[1]-X[1]-$)/ot,1/h,1/d),m/h,v/d)}else V?D=Math.max(m,Math.min(1,Math.abs(K[0]-X[0]-U)))/h:j=Math.max(v,Math.min(1,Math.abs(K[1]-X[1]-$)))/d;const F=b(h*D),mt=b(d*j);Z=w(...k(F,mt));const bt=P-Z[0],at=M-Z[1];this.width=F,this.height=mt,this.x=bt,this.y=at,this.setDims(i*F,r*mt),this.fixAndSetPosition()},E_=function(t){const{isMac:e}=rn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},WR=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),T(this,Bh,t.clientX),T(this,Vh,t.clientY);const c=h=>{const{clientX:d,clientY:m}=h,[v,b]=this.screenToPageTranslation(d-f(this,Bh),m-f(this,Vh));T(this,Bh,d),T(this,Vh,m),this._uiManager.dragSelectedEditors(v,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{i.abort(),e&&this.div.classList.remove("moving"),T(this,Cc,!1),this._uiManager.endDragSession()||R(this,Gt,E_).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},S_=function(){if(f(this,Jo)||!this.div)return;T(this,Jo,new AbortController);const t=this._uiManager.combinedSignal(f(this,Jo));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},KR=function(t){he._resizerKeyboardManager.exec(this,t)},QR=function(t){var e;f(this,yr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==f(this,Ni)&&R(this,Gt,Zf).call(this)},ZR=function(t){T(this,Up,f(this,yr)?t:"")},T_=function(t){if(f(this,Ns))for(const e of f(this,Ns))e.tabIndex=t},Zf=function(){if(T(this,yr,!1),R(this,Gt,T_).call(this,-1),f(this,Tc)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=f(this,Tc);R(this,Gt,w_).call(this,t,e,i,r),T(this,Tc,null)}},O(he,Bp),Nt(he,"_l10n",null),Nt(he,"_l10nResizer",null),Nt(he,"_borderLineWidth",-1),Nt(he,"_colorManager",new d_),Nt(he,"_zIndex",1),Nt(he,"_telemetryTimeout",1e3);let ge=he;class aj extends ge{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ZT=3285377520,cs=4294901760,fa=65535;class JR{constructor(t){this.h1=t?t&4294967295:ZT,this.h2=t?t&4294967295:ZT}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let C=0,I=t.length;C<I;C++){const k=t.charCodeAt(C);k<=255?e[i++]=k:(e[i++]=k>>>8,e[i++]=k&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,d=0,m=this.h1,v=this.h2;const b=3432918353,A=461845907,w=b&fa,E=A&fa;for(let C=0;C<r;C++)C&1?(h=c[C],h=h*b&cs|h*w&fa,h=h<<15|h>>>17,h=h*A&cs|h*E&fa,m^=h,m=m<<13|m>>>19,m=m*5+3864292196):(d=c[C],d=d*b&cs|d*w&fa,d=d<<15|d>>>17,d=d*A&cs|d*E&fa,v^=d,v=v<<13|v>>>19,v=v*5+3864292196);switch(h=0,o){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*b&cs|h*w&fa,h=h<<15|h>>>17,h=h*A&cs|h*E&fa,r&1?m^=h:v^=h}this.h1=m,this.h2=v}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&cs|t*36045&fa,e=e*4283543511&cs|((e<<16|t>>>16)*2950163797&cs)>>>16,t^=e>>>1,t=t*444984403&cs|t*60499&fa,e=e*3301882366&cs|((e<<16|t>>>16)*3120437893&cs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const C_=Object.freeze({map:null,hash:"",transfer:void 0});var kc,Dc,ki,My,tk;class rx{constructor(){O(this,My);O(this,kc,!1);O(this,Dc,null);O(this,ki,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=f(this,ki).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return f(this,ki).get(t)}remove(t){if(f(this,ki).delete(t),f(this,ki).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of f(this,ki).values())if(e instanceof ge)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=f(this,ki).get(t);let r=!1;if(i!==void 0)for(const[o,c]of Object.entries(e))i[o]!==c&&(r=!0,i[o]=c);else r=!0,f(this,ki).set(t,e);r&&R(this,My,tk).call(this),e instanceof ge&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return f(this,ki).has(t)}getAll(){return f(this,ki).size>0?tx(f(this,ki)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return f(this,ki).size}resetModified(){f(this,kc)&&(T(this,kc,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ek(this)}get serializable(){if(f(this,ki).size===0)return C_;const t=new Map,e=new JR,i=[],r=Object.create(null);let o=!1;for(const[c,h]of f(this,ki)){const d=h instanceof ge?h.serialize(!1,r):h;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:C_}get editorStats(){let t=null;const e=new Map;for(const i of f(this,ki).values()){if(!(i instanceof ge))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[h,d]of Object.entries(r)){if(h==="type")continue;let m=c.get(h);m||(m=new Map,c.set(h,m));const v=m.get(d)??0;m.set(d,v+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){T(this,Dc,null)}get modifiedIds(){if(f(this,Dc))return f(this,Dc);const t=[];for(const e of f(this,ki).values())!(e instanceof ge)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return T(this,Dc,{ids:new Set(t),hash:t.join(",")})}}kc=new WeakMap,Dc=new WeakMap,ki=new WeakMap,My=new WeakSet,tk=function(){f(this,kc)||(T(this,kc,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Vp;class ek extends rx{constructor(e){super();O(this,Vp);const{map:i,hash:r,transfer:o}=e.serializable,c=structuredClone(i,o?{transfer:o}:null);T(this,Vp,{map:c,hash:r,transfer:o})}get print(){De("Should not call PrintAnnotationStorage.print")}get serializable(){return f(this,Vp)}get modifiedIds(){return te(this,"modifiedIds",{ids:new Set,hash:""})}}Vp=new WeakMap;var qh;class rj{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){O(this,qh,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),f(this,qh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||f(this,qh).has(t.loadedName))){if(pi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=t,c=new FontFace(i,r,o);this.addNativeFontFace(c);try{await c.load(),f(this,qh).add(i),e==null||e(t)}catch{Xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}De("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Xt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return te(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Wi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),te(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(pi(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return te(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(X,K){return X.charCodeAt(K)<<24|X.charCodeAt(K+1)<<16|X.charCodeAt(K+2)<<8|X.charCodeAt(K+3)&255}function r(X,K,Z,P){const M=X.substring(0,K),D=X.substring(K+Z);return M+P+D}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let m=0;function v(X,K){if(++m>30){Xt("Load test font never loaded."),K();return}if(d.font="30px "+X,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){K();return}setTimeout(v.bind(null,X,K))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=r(A,976,b.length,b);const E=16,C=1482184792;let I=i(A,E);for(o=0,c=b.length-3;o<c;o+=4)I=I-C+i(b,o)|0;o<b.length&&(I=I-C+i(b+"XXX",o)|0),A=r(A,E,4,q6(I));const k=`url(data:font/opentype;base64,${btoa(A)});`,z=`@font-face {font-family:"${b}";src:${k}}`;this.insertRule(z);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const X of[t.loadedName,b]){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=X,V.append(K)}this._document.body.append(V),v(b,()=>{V.remove(),e.complete()})}}qh=new WeakMap;class oj{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${K6(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(o){Xt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(o,c){};const r=[];for(let o=0,c=i.length;o<c;)switch(i[o++]){case cr.BEZIER_CURVE_TO:{const[h,d,m,v,b,A]=i.slice(o,o+6);r.push(w=>w.bezierCurveTo(h,d,m,v,b,A)),o+=6}break;case cr.MOVE_TO:{const[h,d]=i.slice(o,o+2);r.push(m=>m.moveTo(h,d)),o+=2}break;case cr.LINE_TO:{const[h,d]=i.slice(o,o+2);r.push(m=>m.lineTo(h,d)),o+=2}break;case cr.QUADRATIC_CURVE_TO:{const[h,d,m,v]=i.slice(o,o+4);r.push(b=>b.quadraticCurveTo(h,d,m,v)),o+=4}break;case cr.RESTORE:r.push(h=>h.restore());break;case cr.SAVE:r.push(h=>h.save());break;case cr.SCALE:pi(r.length===2,"Scale command is only valid at the third position.");break;case cr.TRANSFORM:{const[h,d,m,v,b,A]=i.slice(o,o+6);r.push(w=>w.transform(h,d,m,v,b,A)),o+=6}break;case cr.TRANSLATE:{const[h,d]=i.slice(o,o+2);r.push(m=>m.translate(h,d)),o+=2}break}return this.compiledGlyphs[e]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let d=2,m=r.length;d<m;d++)r[d](c)}}}var qp;class ik{constructor({enableHWA:t=!1}){O(this,qp,!1);T(this,qp,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!f(this,qp)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){De("Abstract method `_createCanvas` called.")}}qp=new WeakMap;class lj extends ik{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class nk{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class sk extends nk{async _fetch(t){const e=await s0(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):n0(e)}}class ak{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}}var Mc,Oc,xa,br,Gi,Oy,Lc,wt,Vi,ph,mh,Fv,gh,rk,R_,vh,Jf,tp,k_,ep;class cj extends ak{constructor({docId:e,ownerDocument:i=globalThis.document}){super();O(this,wt);O(this,Mc);O(this,Oc);O(this,xa);O(this,br);O(this,Gi);O(this,Oy);O(this,Lc,0);T(this,br,e),T(this,Gi,i)}addFilter(e){if(!e)return"none";let i=f(this,wt,Vi).get(e);if(i)return i;const[r,o,c]=R(this,wt,Fv).call(this,e),h=e.length===1?r:`${r}${o}${c}`;if(i=f(this,wt,Vi).get(h),i)return f(this,wt,Vi).set(e,i),i;const d=`g_${f(this,br)}_transfer_map_${tn(this,Lc)._++}`,m=R(this,wt,gh).call(this,d);f(this,wt,Vi).set(e,m),f(this,wt,Vi).set(h,m);const v=R(this,wt,vh).call(this,d);return R(this,wt,tp).call(this,r,o,c,v),m}addHCMFilter(e,i){var E;const r=`${e}-${i}`,o="base";let c=f(this,wt,ph).get(o);if((c==null?void 0:c.key)===r||(c?((E=c.filter)==null||E.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},f(this,wt,ph).set(o,c)),!e||!i))return c.url;const h=R(this,wt,ep).call(this,e);e=Rt.makeHexColor(...h);const d=R(this,wt,ep).call(this,i);if(i=Rt.makeHexColor(...d),f(this,wt,mh).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return c.url;const m=new Array(256);for(let C=0;C<=255;C++){const I=C/255;m[C]=I<=.03928?I/12.92:((I+.055)/1.055)**2.4}const v=m.join(","),b=`g_${f(this,br)}_hcm_filter`,A=c.filter=R(this,wt,vh).call(this,b);R(this,wt,tp).call(this,v,v,v,A),R(this,wt,R_).call(this,A);const w=(C,I)=>{const k=h[C]/255,z=d[C]/255,V=new Array(I+1);for(let X=0;X<=I;X++)V[X]=k+X/I*(z-k);return V.join(",")};return R(this,wt,tp).call(this,w(0,5),w(1,5),w(2,5),A),c.url=R(this,wt,gh).call(this,b),c.url}addAlphaFilter(e){let i=f(this,wt,Vi).get(e);if(i)return i;const[r]=R(this,wt,Fv).call(this,[e]),o=`alpha_${r}`;if(i=f(this,wt,Vi).get(o),i)return f(this,wt,Vi).set(e,i),i;const c=`g_${f(this,br)}_alpha_map_${tn(this,Lc)._++}`,h=R(this,wt,gh).call(this,c);f(this,wt,Vi).set(e,h),f(this,wt,Vi).set(o,h);const d=R(this,wt,vh).call(this,c);return R(this,wt,k_).call(this,r,d),h}addLuminosityFilter(e){let i=f(this,wt,Vi).get(e||"luminosity");if(i)return i;let r,o;if(e?([r]=R(this,wt,Fv).call(this,[e]),o=`luminosity_${r}`):o="luminosity",i=f(this,wt,Vi).get(o),i)return f(this,wt,Vi).set(e,i),i;const c=`g_${f(this,br)}_luminosity_map_${tn(this,Lc)._++}`,h=R(this,wt,gh).call(this,c);f(this,wt,Vi).set(e,h),f(this,wt,Vi).set(o,h);const d=R(this,wt,vh).call(this,c);return R(this,wt,rk).call(this,d),e&&R(this,wt,k_).call(this,r,d),h}addHighlightHCMFilter(e,i,r,o,c){var z;const h=`${i}-${r}-${o}-${c}`;let d=f(this,wt,ph).get(e);if((d==null?void 0:d.key)===h||(d?((z=d.filter)==null||z.remove(),d.key=h,d.url="none",d.filter=null):(d={key:h,url:"none",filter:null},f(this,wt,ph).set(e,d)),!i||!r))return d.url;const[m,v]=[i,r].map(R(this,wt,ep).bind(this));let b=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),A=Math.round(.2126*v[0]+.7152*v[1]+.0722*v[2]),[w,E]=[o,c].map(R(this,wt,ep).bind(this));A<b&&([b,A,w,E]=[A,b,E,w]),f(this,wt,mh).style.color="";const C=(V,X,K)=>{const Z=new Array(256),P=(A-b)/K,M=V/255,D=(X-V)/(255*K);let j=0;for(let U=0;U<=K;U++){const $=Math.round(b+U*P),F=M+U*D;for(let mt=j;mt<=$;mt++)Z[mt]=F;j=$+1}for(let U=j;U<256;U++)Z[U]=Z[j-1];return Z.join(",")},I=`g_${f(this,br)}_hcm_${e}_filter`,k=d.filter=R(this,wt,vh).call(this,I);return R(this,wt,R_).call(this,k),R(this,wt,tp).call(this,C(w[0],E[0],5),C(w[1],E[1],5),C(w[2],E[2],5),k),d.url=R(this,wt,gh).call(this,I),d.url}destroy(e=!1){e&&f(this,wt,ph).size!==0||(f(this,xa)&&(f(this,xa).parentNode.parentNode.remove(),T(this,xa,null)),f(this,Oc)&&(f(this,Oc).clear(),T(this,Oc,null)),T(this,Lc,0))}}Mc=new WeakMap,Oc=new WeakMap,xa=new WeakMap,br=new WeakMap,Gi=new WeakMap,Oy=new WeakMap,Lc=new WeakMap,wt=new WeakSet,Vi=function(){return f(this,Oc)||T(this,Oc,new Map)},ph=function(){return f(this,Oy)||T(this,Oy,new Map)},mh=function(){if(!f(this,xa)){const e=f(this,Gi).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=f(this,Gi).createElementNS(hr,"svg");r.setAttribute("width",0),r.setAttribute("height",0),T(this,xa,f(this,Gi).createElementNS(hr,"defs")),e.append(r),r.append(f(this,xa)),f(this,Gi).body.append(e)}return f(this,xa)},Fv=function(e){if(e.length===1){const m=e[0],v=new Array(256);for(let A=0;A<256;A++)v[A]=m[A]/255;const b=v.join(",");return[b,b,b]}const[i,r,o]=e,c=new Array(256),h=new Array(256),d=new Array(256);for(let m=0;m<256;m++)c[m]=i[m]/255,h[m]=r[m]/255,d[m]=o[m]/255;return[c.join(","),h.join(","),d.join(",")]},gh=function(e){if(f(this,Mc)===void 0){T(this,Mc,"");const i=f(this,Gi).URL;i!==f(this,Gi).baseURI&&(a0(i)?Xt('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,Mc,i.split("#",1)[0]))}return`url(${f(this,Mc)}#${e})`},rk=function(e){const i=f(this,Gi).createElementNS(hr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},R_=function(e){const i=f(this,Gi).createElementNS(hr,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},vh=function(e){const i=f(this,Gi).createElementNS(hr,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),f(this,wt,mh).append(i),i},Jf=function(e,i,r){const o=f(this,Gi).createElementNS(hr,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},tp=function(e,i,r,o){const c=f(this,Gi).createElementNS(hr,"feComponentTransfer");o.append(c),R(this,wt,Jf).call(this,c,"feFuncR",e),R(this,wt,Jf).call(this,c,"feFuncG",i),R(this,wt,Jf).call(this,c,"feFuncB",r)},k_=function(e,i){const r=f(this,Gi).createElementNS(hr,"feComponentTransfer");i.append(r),R(this,wt,Jf).call(this,r,"feFuncA",e)},ep=function(e){return f(this,wt,mh).style.color=e,ax(getComputedStyle(f(this,wt,mh)).getPropertyValue("color"))};class ok{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class lk extends ok{async _fetch(t){const e=await s0(t,"arraybuffer");return new Uint8Array(e)}}if(Wi){var D_=Promise.withResolvers(),gp=null;(async()=>{const t=await bv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await bv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await bv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await bv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:e,https:i,url:r,canvas:o,path2d:c}))})().then(t=>{gp=t,D_.resolve()},t=>{Xt(`loadPackages: ${t}`),gp=new Map,D_.resolve()})}class _l{static get promise(){return D_.promise}static get(t){return gp==null?void 0:gp.get(t)}}async function ck(a){const e=await _l.get("fs").promises.readFile(a);return new Uint8Array(e)}class uj extends ak{}class hj extends ik{_createCanvas(t,e){return _l.get("canvas").createCanvas(t,e)}}class dj extends nk{async _fetch(t){return ck(t)}}class fj extends ok{async _fetch(t){return ck(t)}}const an={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function M_(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class ox{getPattern(){De("Abstract method `getPattern` called.")}}class pj extends ox{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===an.STROKE||r===an.FILL){const c=e.current.getClippedPathBoundingBox(r,He(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,m=e.cachedCanvases.getCanvas("pattern",h,d),v=m.context;v.clearRect(0,0,v.canvas.width,v.canvas.height),v.beginPath(),v.rect(0,0,v.canvas.width,v.canvas.height),v.translate(-c[0],-c[1]),i=Rt.transform(i,[1,0,0,1,c[0],c[1]]),v.transform(...e.baseTransform),this.matrix&&v.transform(...this.matrix),M_(v,this._bbox),v.fillStyle=this._createGradient(v),v.fill(),o=t.createPattern(m.canvas,"no-repeat");const b=new DOMMatrix(i);o.setTransform(b)}else M_(t,this._bbox),o=this._createGradient(t);return o}}function jA(a,t,e,i,r,o,c,h){const d=t.coords,m=t.colors,v=a.data,b=a.width*4;let A;d[e+1]>d[i+1]&&(A=e,e=i,i=A,A=o,o=c,c=A),d[i+1]>d[r+1]&&(A=i,i=r,r=A,A=c,c=h,h=A),d[e+1]>d[i+1]&&(A=e,e=i,i=A,A=o,o=c,c=A);const w=(d[e]+t.offsetX)*t.scaleX,E=(d[e+1]+t.offsetY)*t.scaleY,C=(d[i]+t.offsetX)*t.scaleX,I=(d[i+1]+t.offsetY)*t.scaleY,k=(d[r]+t.offsetX)*t.scaleX,z=(d[r+1]+t.offsetY)*t.scaleY;if(E>=z)return;const V=m[o],X=m[o+1],K=m[o+2],Z=m[c],P=m[c+1],M=m[c+2],D=m[h],j=m[h+1],U=m[h+2],$=Math.round(E),F=Math.round(z);let mt,bt,at,ot,lt,dt,G,nt;for(let ft=$;ft<=F;ft++){if(ft<I){const St=ft<E?0:(E-ft)/(E-I);mt=w-(w-C)*St,bt=V-(V-Z)*St,at=X-(X-P)*St,ot=K-(K-M)*St}else{let St;ft>z?St=1:I===z?St=0:St=(I-ft)/(I-z),mt=C-(C-k)*St,bt=Z-(Z-D)*St,at=P-(P-j)*St,ot=M-(M-U)*St}let ht;ft<E?ht=0:ft>z?ht=1:ht=(E-ft)/(E-z),lt=w-(w-k)*ht,dt=V-(V-D)*ht,G=X-(X-j)*ht,nt=K-(K-U)*ht;const pt=Math.round(Math.min(mt,lt)),Et=Math.round(Math.max(mt,lt));let _t=b*ft+pt*4;for(let St=pt;St<=Et;St++)ht=(mt-St)/(mt-lt),ht<0?ht=0:ht>1&&(ht=1),v[_t++]=bt-(bt-dt)*ht|0,v[_t++]=at-(at-G)*ht|0,v[_t++]=ot-(ot-nt)*ht|0,v[_t++]=255}}function mj(a,t,e){const i=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(i.length/h)-1,m=h-1;for(o=0;o<d;o++){let v=o*h;for(let b=0;b<m;b++,v++)jA(a,e,i[v],i[v+1],i[v+h],r[v],r[v+1],r[v+h]),jA(a,e,i[v+h+1],i[v+1],i[v+h],r[v+h+1],r[v+1],r[v+h])}break;case"triangles":for(o=0,c=i.length;o<c;o+=3)jA(a,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class gj extends ox{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-h,v=Math.ceil(this._bounds[3])-d,b=Math.min(Math.ceil(Math.abs(m*t[0]*1.1)),3e3),A=Math.min(Math.ceil(Math.abs(v*t[1]*1.1)),3e3),w=m/b,E=v/A,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/w,scaleY:1/E},I=b+2*2,k=A+2*2,z=i.getCanvas("mesh",I,k),V=z.context,X=V.createImageData(b,A);if(e){const Z=X.data;for(let P=0,M=Z.length;P<M;P+=4)Z[P]=e[0],Z[P+1]=e[1],Z[P+2]=e[2],Z[P+3]=255}for(const Z of this._figures)mj(X,Z,C);return V.putImageData(X,2,2),{canvas:z.canvas,offsetX:h-2*w,offsetY:d-2*E,scaleX:w,scaleY:E}}getPattern(t,e,i,r){M_(t,this._bbox);let o;if(r===an.SHADING)o=Rt.singularValueDecompose2dScale(He(t));else if(o=Rt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=Rt.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const c=this._createMeshCanvas(o,r===an.SHADING?null:this._background,e.cachedCanvases);return r!==an.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class vj extends ox{getPattern(){return"hotpink"}}function yj(a){switch(a[0]){case"RadialAxial":return new pj(a);case"Mesh":return new gj(a);case"Dummy":return new vj}throw new Error(`Unknown IR type: ${a[0]}`)}const JT={COLORED:1,UNCOLORED:2},Ly=class Ly{constructor(t,e,i,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:m}=this;d=Math.abs(d),m=Math.abs(m),e0("TilingType: "+o);const v=e[0],b=e[1],A=e[2],w=e[3],E=A-v,C=w-b,I=Rt.singularValueDecompose2dScale(this.matrix),k=Rt.singularValueDecompose2dScale(this.baseTransform),z=I[0]*k[0],V=I[1]*k[1];let X=E,K=C,Z=!1,P=!1;const M=Math.ceil(d*z),D=Math.ceil(m*V),j=Math.ceil(E*z),U=Math.ceil(C*V);M>=j?X=d:Z=!0,D>=U?K=m:P=!0;const $=this.getSizeAndScale(X,this.ctx.canvas.width,z),F=this.getSizeAndScale(K,this.ctx.canvas.height,V),mt=t.cachedCanvases.getCanvas("pattern",$.size,F.size),bt=mt.context,at=h.createCanvasGraphics(bt);if(at.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(at,r,c),bt.translate(-$.scale*v,-F.scale*b),at.transform($.scale,0,0,F.scale,0,0),bt.save(),this.clipBbox(at,v,b,A,w),at.baseTransform=He(at.ctx),at.executeOperatorList(i),at.endDrawing(),bt.restore(),Z||P){const ot=mt.canvas;Z&&(X=d),P&&(K=m);const lt=this.getSizeAndScale(X,this.ctx.canvas.width,z),dt=this.getSizeAndScale(K,this.ctx.canvas.height,V),G=lt.size,nt=dt.size,ft=t.cachedCanvases.getCanvas("pattern-workaround",G,nt),ht=ft.context,pt=Z?Math.floor(E/d):0,Et=P?Math.floor(C/m):0;for(let _t=0;_t<=pt;_t++)for(let St=0;St<=Et;St++)ht.drawImage(ot,G*_t,nt*St,G,nt,0,0,G,nt);return{canvas:ft.canvas,scaleX:lt.scale,scaleY:dt.scale,offsetX:v,offsetY:b}}return{canvas:mt.canvas,scaleX:$.scale,scaleY:F.scale,offsetX:v,offsetY:b}}getSizeAndScale(t,e,i){const r=Math.max(Ly.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=r?o=r:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,r,o){const c=r-e,h=o-i;t.ctx.rect(e,i,c,h),t.current.updateRectMinMax(He(t.ctx),[e,i,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,o=t.current;switch(e){case JT.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case JT.UNCOLORED:const h=Rt.makeHexColor(i[0],i[1],i[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new V6(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,r){let o=i;r!==an.SHADING&&(o=Rt.transform(o,e.baseTransform),this.matrix&&(o=Rt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(o);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}};Nt(Ly,"MAX_PATTERN_SIZE",3e3);let O_=Ly;function bj({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=rn.isLittleEndian?4278190080:255,[d,m]=c?[o,h]:[h,o],v=i>>3,b=i&7,A=a.length;e=new Uint32Array(e.buffer);let w=0;for(let E=0;E<r;E++){for(const I=t+v;t<I;t++){const k=t<A?a[t]:255;e[w++]=k&128?m:d,e[w++]=k&64?m:d,e[w++]=k&32?m:d,e[w++]=k&16?m:d,e[w++]=k&8?m:d,e[w++]=k&4?m:d,e[w++]=k&2?m:d,e[w++]=k&1?m:d}if(b===0)continue;const C=t<A?a[t++]:255;for(let I=0;I<b;I++)e[w++]=C&1<<7-I?m:d}return{srcPos:t,destPos:w}}const tC=16,eC=100,Aj=15,iC=10,nC=1e3,_n=16;function _j(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},a.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},a.transform=function(i,r,o,c,h,d){t.transform(i,r,o,c,h,d),this.__originalTransform(i,r,o,c,h,d)},a.setTransform=function(i,r,o,c,h,d){t.setTransform(i,r,o,c,h,d),this.__originalSetTransform(i,r,o,c,h,d)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(i){t.rotate(i),this.__originalRotate(i)},a.clip=function(i){t.clip(i),this.__originalClip(i)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,o,c,h){t.bezierCurveTo(e,i,r,o,c,h),this.__originalBezierCurveTo(e,i,r,o,c,h)},a.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class wj{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Av(a,t,e,i,r,o,c,h,d,m){const[v,b,A,w,E,C]=He(a);if(b===0&&A===0){const z=c*v+E,V=Math.round(z),X=h*w+C,K=Math.round(X),Z=(c+d)*v+E,P=Math.abs(Math.round(Z)-V)||1,M=(h+m)*w+C,D=Math.abs(Math.round(M)-K)||1;return a.setTransform(Math.sign(v),0,0,Math.sign(w),V,K),a.drawImage(t,e,i,r,o,0,0,P,D),a.setTransform(v,b,A,w,E,C),[P,D]}if(v===0&&w===0){const z=h*A+E,V=Math.round(z),X=c*b+C,K=Math.round(X),Z=(h+m)*A+E,P=Math.abs(Math.round(Z)-V)||1,M=(c+d)*b+C,D=Math.abs(Math.round(M)-K)||1;return a.setTransform(0,Math.sign(b),Math.sign(A),0,V,K),a.drawImage(t,e,i,r,o,0,0,D,P),a.setTransform(v,b,A,w,E,C),[D,P]}a.drawImage(t,e,i,r,o,c,h,d,m);const I=Math.hypot(v,b),k=Math.hypot(A,w);return[I*d,k*m]}function xj(a){const{width:t,height:e}=a;if(t>nC||e>nC)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(e+1)),h,d,m;const v=t+7&-8;let b=new Uint8Array(v*e),A=0;for(const k of a.data){let z=128;for(;z>0;)b[A++]=k&z?0:255,z>>=1}let w=0;for(A=0,b[A]!==0&&(c[0]=1,++w),d=1;d<t;d++)b[A]!==b[A+1]&&(c[d]=b[A]?2:1,++w),A++;for(b[A]!==0&&(c[d]=2,++w),h=1;h<e;h++){A=h*v,m=h*o,b[A-v]!==b[A]&&(c[m]=b[A]?1:8,++w);let k=(b[A]?4:0)+(b[A-v]?8:0);for(d=1;d<t;d++)k=(k>>2)+(b[A+1]?4:0)+(b[A-v+1]?8:0),r[k]&&(c[m+d]=r[k],++w),A++;if(b[A-v]!==b[A]&&(c[m+d]=b[A]?2:4,++w),w>i)return null}for(A=v*(e-1),m=h*o,b[A]!==0&&(c[m]=8,++w),d=1;d<t;d++)b[A]!==b[A+1]&&(c[m+d]=b[A]?4:8,++w),A++;if(b[A]!==0&&(c[m+d]=4,++w),w>i)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),C=new Path2D;for(h=0;w&&h<=e;h++){let k=h*o;const z=k+t;for(;k<z&&!c[k];)k++;if(k===z)continue;C.moveTo(k%o,h);const V=k;let X=c[k];do{const K=E[X];do k+=K;while(!c[k]);const Z=c[k];Z!==5&&Z!==10?(X=Z,c[k]=0):(X=Z&51*X>>4,c[k]&=X>>2|X<<2),C.lineTo(k%o,k/o|0),c[k]||--w}while(V!==k);--h}return b=null,c=null,function(k){k.save(),k.scale(1/t,-1/e),k.translate(0,-e),k.fill(C),k.beginPath(),k.restore()}}class sC{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=TR,this.textMatrixScale=1,this.fontMatrix=s_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Bi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=Rt.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=Rt.applyTransform(e,t),r=Rt.applyTransform(e.slice(2),t),o=Rt.applyTransform([e[0],e[3]],t),c=Rt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,i[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,i[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,i[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,e){Rt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,o,c,h,d,m,v){const b=Rt.bezierBoundingBox(e,i,r,o,c,h,d,m,v);v||this.updateRectMinMax(t,b)}getPathBoundingBox(t=an.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===an.STROKE){e||De("Stroke bounding box must include transform.");const r=Rt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;i[0]-=o,i[1]-=c,i[2]+=o,i[3]+=c}return i}updateClipFromPath(){const t=Rt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=an.FILL,e=null){return Rt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function aC(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%_n,o=(e-r)/_n,c=r===0?o:o+1,h=a.createImageData(i,_n);let d=0,m;const v=t.data,b=h.data;let A,w,E,C;if(t.kind===Mv.GRAYSCALE_1BPP){const I=v.byteLength,k=new Uint32Array(b.buffer,0,b.byteLength>>2),z=k.length,V=i+7>>3,X=4294967295,K=rn.isLittleEndian?4278190080:255;for(A=0;A<c;A++){for(E=A<o?_n:r,m=0,w=0;w<E;w++){const Z=I-d;let P=0;const M=Z>V?i:Z*8-7,D=M&-8;let j=0,U=0;for(;P<D;P+=8)U=v[d++],k[m++]=U&128?X:K,k[m++]=U&64?X:K,k[m++]=U&32?X:K,k[m++]=U&16?X:K,k[m++]=U&8?X:K,k[m++]=U&4?X:K,k[m++]=U&2?X:K,k[m++]=U&1?X:K;for(;P<M;P++)j===0&&(U=v[d++],j=128),k[m++]=U&j?X:K,j>>=1}for(;m<z;)k[m++]=0;a.putImageData(h,0,A*_n)}}else if(t.kind===Mv.RGBA_32BPP){for(w=0,C=i*_n*4,A=0;A<o;A++)b.set(v.subarray(d,d+C)),d+=C,a.putImageData(h,0,w),w+=_n;A<c&&(C=i*r*4,b.set(v.subarray(d,d+C)),a.putImageData(h,0,w))}else if(t.kind===Mv.RGB_24BPP)for(E=_n,C=i*E,A=0;A<c;A++){for(A>=o&&(E=r,C=i*E),m=0,w=C;w--;)b[m++]=v[d++],b[m++]=v[d++],b[m++]=v[d++],b[m++]=255;a.putImageData(h,0,A*_n)}else throw new Error(`bad image kind: ${t.kind}`)}function rC(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%_n,o=(e-r)/_n,c=r===0?o:o+1,h=a.createImageData(i,_n);let d=0;const m=t.data,v=h.data;for(let b=0;b<c;b++){const A=b<o?_n:r;({srcPos:d}=bj({src:m,srcPos:d,dest:v,width:i,height:A,nonBlackColor:0})),a.putImageData(h,0,b*_n)}}function Gf(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function _v(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!Wi){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function oC(a,t){if(t)return!0;const e=Rt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Al.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const Ej=["butt","round","square"],Sj=["miter","round","bevel"],Tj={},lC={};var xl,L_,I_;const mx=class mx{constructor(t,e,i,r,o,{optionalContentConfig:c,markedContentStack:h=null},d,m){O(this,xl);this.ctx=t,this.current=new sC(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new wj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,i){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...He(this.compositeCtx))}this.ctx.save(),_v(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=He(this.ctx)}executeOperatorList(t,e,i,r){const o=t.argsArray,c=t.fnArray;let h=e||0;const d=o.length;if(d===h)return h;const m=d-h>iC&&typeof i=="function",v=m?Date.now()+Aj:0;let b=0;const A=this.commonObjs,w=this.objs;let E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,i),h;if(E=c[h],E!==Ds.dependency)this[E].apply(this,o[h]);else for(const C of o[h]){const I=C.startsWith("g_")?A:w;if(!I.has(C))return I.get(C,i),h}if(h++,h===d)return h;if(m&&++b>iC){if(Date.now()>v)return i(),h;b=0}}}endDrawing(){R(this,xl,L_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),R(this,xl,I_).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=i,d=r,m="prescale1",v,b;for(;o>2&&h>1||c>2&&d>1;){let A=h,w=d;o>2&&h>1&&(A=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/A),c>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/w),v=this.cachedCanvases.getCanvas(m,A,w),b=v.context,b.clearRect(0,0,A,w),b.drawImage(t,0,0,h,d,0,0,A,w),t=v.canvas,h=A,d=w,m=m==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,h=He(e);let d,m,v,b;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;m=JSON.stringify(c?h:[h.slice(0,4),o]),d=this._cachedBitmapsMap.get(M),d||(d=new Map,this._cachedBitmapsMap.set(M,d));const D=d.get(m);if(D&&!c){const j=Math.round(Math.min(h[0],h[2])+h[4]),U=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:D,offsetX:j,offsetY:U}}v=D}v||(b=this.cachedCanvases.getCanvas("maskCanvas",i,r),rC(b.context,t));let A=Rt.transform(h,[1/i,0,0,-1/r,0,0]);A=Rt.transform(A,[1,0,0,1,0,-r]);const[w,E,C,I]=Rt.getAxialAlignedBoundingBox([0,0,i,r],A),k=Math.round(C-w)||1,z=Math.round(I-E)||1,V=this.cachedCanvases.getCanvas("fillCanvas",k,z),X=V.context,K=w,Z=E;X.translate(-K,-Z),X.transform(...A),v||(v=this._scaleImage(b.canvas,ur(X)),v=v.img,d&&c&&d.set(m,v)),X.imageSmoothingEnabled=oC(He(X),t.interpolate),Av(X,v,0,0,v.width,v.height,0,0,i,r),X.globalCompositeOperation="source-in";const P=Rt.transform(ur(X),[1,0,0,1,-K,-Z]);return X.fillStyle=c?o.getPattern(e,this,P,an.FILL):o,X.fillRect(0,0,i,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(m,V.canvas)),{canvas:V.canvas,offsetX:Math.round(K),offsetY:Math.round(Z)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Ej[t]}setLineJoin(t){this.ctx.lineJoin=Sj[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...He(this.suspendedCtx)),Gf(this.suspendedCtx,o),_j(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Gf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const o=r[0],c=r[1],h=r[2]-o,d=r[3]-c;h===0||d===0||(this.genericComposeSMask(e.context,i,h,d,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,c,h,d,m,v,b){let A=t.canvas,w=d-v,E=m-b;if(c){const I=Rt.makeHexColor(...c);if(w<0||E<0||w+i>A.width||E+r>A.height){const k=this.cachedCanvases.getCanvas("maskExtension",i,r),z=k.context;z.drawImage(A,-w,-E),z.globalCompositeOperation="destination-atop",z.fillStyle=I,z.fillRect(0,0,i,r),z.globalCompositeOperation="source-over",A=k.canvas,w=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const k=new Path2D;k.rect(w,E,i,r),t.clip(k),t.globalCompositeOperation="destination-atop",t.fillStyle=I,t.fillRect(w,E,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(d,m,i,r),e.clip(C),e.globalCompositeOperation="destination-in",e.drawImage(A,w,E,i,r,d,m,i,r),e.restore()}save(){this.inSMaskMode?(Gf(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Gf(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,o,c){this.ctx.transform(t,e,i,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const r=this.ctx,o=this.current;let c=o.x,h=o.y,d,m;const v=He(r),b=v[0]===0&&v[3]===0||v[1]===0&&v[2]===0,A=b?i.slice(0):null;for(let w=0,E=0,C=t.length;w<C;w++)switch(t[w]|0){case Ds.rectangle:c=e[E++],h=e[E++];const I=e[E++],k=e[E++],z=c+I,V=h+k;r.moveTo(c,h),I===0||k===0?r.lineTo(z,V):(r.lineTo(z,h),r.lineTo(z,V),r.lineTo(c,V)),b||o.updateRectMinMax(v,[c,h,z,V]),r.closePath();break;case Ds.moveTo:c=e[E++],h=e[E++],r.moveTo(c,h),b||o.updatePathMinMax(v,c,h);break;case Ds.lineTo:c=e[E++],h=e[E++],r.lineTo(c,h),b||o.updatePathMinMax(v,c,h);break;case Ds.curveTo:d=c,m=h,c=e[E+4],h=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],c,h),o.updateCurvePathMinMax(v,d,m,e[E],e[E+1],e[E+2],e[E+3],c,h,A),E+=6;break;case Ds.curveTo2:d=c,m=h,r.bezierCurveTo(c,h,e[E],e[E+1],e[E+2],e[E+3]),o.updateCurvePathMinMax(v,d,m,c,h,e[E],e[E+1],e[E+2],e[E+3],A),c=e[E+2],h=e[E+3],E+=4;break;case Ds.curveTo3:d=c,m=h,c=e[E+2],h=e[E+3],r.bezierCurveTo(e[E],e[E+1],c,h,c,h),o.updateCurvePathMinMax(v,d,m,e[E],e[E+1],c,h,c,h,A),E+=4;break;case Ds.closePath:r.closePath();break}b&&o.updateScalingPathMinMax(v,A),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,ur(e),an.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,ur(e),an.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Tj}eoClip(){this.pendingClip=lC}beginText(){this.current.textMatrix=TR,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var v;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||s_,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Xt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const o=i.loadedName||"sans-serif",c=((v=i.systemFontInfo)==null?void 0:v.css)||`"${o}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const d=i.italic?"italic":"normal";let m=e;e<tC?m=tC:e>eC&&(m=eC),this.current.fontSizeScale=e/m,this.ctx.font=`${d} ${h} ${m}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,o,c){this.current.textMatrix=[t,e,i,r,o,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r){const o=this.ctx,c=this.current,h=c.font,d=c.textRenderingMode,m=c.fontSize/c.fontSizeScale,v=d&Bi.FILL_STROKE_MASK,b=!!(d&Bi.ADD_TO_PATH_FLAG),A=c.patternFill&&!h.missingFile;let w;(h.disableFontFace||b||A)&&(w=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||A?(o.save(),o.translate(e,i),o.beginPath(),w(o,m),r&&o.setTransform(...r),(v===Bi.FILL||v===Bi.FILL_STROKE)&&o.fill(),(v===Bi.STROKE||v===Bi.FILL_STROKE)&&o.stroke(),o.restore()):((v===Bi.FILL||v===Bi.FILL_STROKE)&&o.fillText(t,e,i),(v===Bi.STROKE||v===Bi.FILL_STROKE)&&o.strokeText(t,e,i)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:He(o),x:e,y:i,fontSize:m,addToPath:w})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return te(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,m=e.fontDirection,v=e.textHScale*m,b=t.length,A=i.vertical,w=A?1:-1,E=i.defaultVMetrics,C=r*e.fontMatrix[0],I=e.textRenderingMode===Bi.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),m>0?o.scale(v,-1):o.scale(v,1);let k;if(e.patternFill){o.save();const Z=e.fillColor.getPattern(o,this,ur(o),an.FILL);k=He(o),o.restore(),o.fillStyle=Z}let z=e.lineWidth;const V=e.textMatrixScale;if(V===0||z===0){const Z=e.textRenderingMode&Bi.FILL_STROKE_MASK;(Z===Bi.STROKE||Z===Bi.FILL_STROKE)&&(z=this.getSinglePixelWidth())}else z/=V;if(c!==1&&(o.scale(c,c),z/=c),o.lineWidth=z,i.isInvalidPDFjsFont){const Z=[];let P=0;for(const M of t)Z.push(M.unicode),P+=M.width;o.fillText(Z.join(""),0,0),e.x+=P*C*v,o.restore(),this.compose();return}let X=0,K;for(K=0;K<b;++K){const Z=t[K];if(typeof Z=="number"){X+=w*Z*r/1e3;continue}let P=!1;const M=(Z.isSpace?d:0)+h,D=Z.fontChar,j=Z.accent;let U,$,F=Z.width;if(A){const bt=Z.vmetric||E,at=-(Z.vmetric?bt[1]:F*.5)*C,ot=bt[2]*C;F=bt?-bt[0]:F,U=at/c,$=(X+ot)/c}else U=X/c,$=0;if(i.remeasure&&F>0){const bt=o.measureText(D).width*1e3/r*c;if(F<bt&&this.isFontSubpixelAAEnabled){const at=F/bt;P=!0,o.save(),o.scale(at,1),U/=at}else F!==bt&&(U+=(F-bt)/2e3*r/c)}if(this.contentVisible&&(Z.isInFont||i.missingFile)){if(I&&!j)o.fillText(D,U,$);else if(this.paintChar(D,U,$,k),j){const bt=U+r*j.offset.x/c,at=$-r*j.offset.y/c;this.paintChar(j.fontChar,bt,at,k)}}const mt=A?F*C-M*m:F*C+M*m;X+=mt,P&&o.restore()}A?e.y-=X:e.x+=X*v,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,o=i.fontSize,c=i.fontDirection,h=r.vertical?1:-1,d=i.charSpacing,m=i.wordSpacing,v=i.textHScale*c,b=i.fontMatrix||s_,A=t.length,w=i.textRenderingMode===Bi.INVISIBLE;let E,C,I,k;if(!(w||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(v,c),E=0;E<A;++E){if(C=t[E],typeof C=="number"){k=h*C*o/1e3,this.ctx.translate(k,0),i.x+=k*v;continue}const z=(C.isSpace?m:0)+d,V=r.charProcOperatorList[C.operatorListId];if(!V){Xt(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),e.scale(o,o),e.transform(...b),this.executeOperatorList(V),this.restore()),I=Rt.applyTransform([C.width,0],b)[0]*o+z,e.translate(I,0),i.x+=I*v}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,o,c){this.ctx.rect(i,r,o-i,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],r=this.baseTransform||He(this.ctx),o={createCanvasGraphics:c=>new mx(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new O_(t,i,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=Rt.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=Rt.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=yj(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,ur(e),an.SHADING);const r=ur(e);if(r){const{width:o,height:c}=e.canvas,[h,d,m,v]=Rt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(h,d,m-h,v-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){De("Should not call beginInlineImage")}beginImageData(){De("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=He(this.ctx),e)){const i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(He(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||e0("TODO: Support non-isolated groups."),t.knockout&&Xt("Knockout groups not supported.");const i=He(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Rt.getAxialAlignedBoundingBox(t.bbox,He(e));const o=[0,0,e.canvas.width,e.canvas.height];r=Rt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),m=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,m]);let v="groupAt"+this.groupLevel;t.smask&&(v+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(v,d,m),A=b.context;A.translate(-c,-h),A.transform(...i),t.smask?this.smaskStack.push({canvas:b.canvas,context:A,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Gf(e,A),this.ctx=A,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=He(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=Rt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,r,o){if(R(this,xl,L_).call(this),_v(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[d,m]=Rt.singularValueDecompose2dScale(He(this.ctx)),{viewportScale:v}=this,b=Math.ceil(c*this.outputScaleX*v),A=Math.ceil(h*this.outputScaleY*v);this.annotationCanvas=this.canvasFactory.create(b,A);const{canvas:w,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,w),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(d,0,0,-m,0,h*m),_v(this.ctx)}else _v(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new sC(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),R(this,xl,I_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=xj(t)),r.compiled)){r.compiled(i);return}const o=this._createMaskCanvas(t),c=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(c,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=He(h);h.transform(e,i,r,o,0,0);const m=this._createMaskCanvas(t);h.setTransform(1,0,0,1,m.offsetX-d[4],m.offsetY-d[5]);for(let v=0,b=c.length;v<b;v+=2){const A=Rt.transform(d,[e,i,r,o,c[v],c[v+1]]),[w,E]=Rt.applyTransform([0,0],A);h.drawImage(m.canvas,w,E)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:h,height:d,transform:m}=o,v=this.cachedCanvases.getCanvas("maskCanvas",h,d),b=v.context;b.save();const A=this.getObject(c,o);rC(b,A),b.globalCompositeOperation="source-in",b.fillStyle=r?i.getPattern(b,this,ur(e),an.FILL):i,b.fillRect(0,0,h,d),b.restore(),e.save(),e.transform(...m),e.scale(1,-1),Av(e,v.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Xt("Dependent image isn't ready yet");return}const c=o.width,h=o.height,d=[];for(let m=0,v=r.length;m<v;m+=2)d.push({transform:[e,0,0,i,r[m],r[m+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;if(this.save(),!Wi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,i).context;aC(d,t),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,ur(r));r.imageSmoothingEnabled=oC(He(r),t.interpolate),Av(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",o,c).context;aC(d,t),r=this.applyTransferMapsToCanvas(d)}for(const o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Av(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===lC?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=He(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform();let c,h;if(i===0&&r===0){const d=Math.abs(e),m=Math.abs(o);if(d===m)if(t===0)c=h=1/d;else{const v=d*t;c=h=v<1?1/v:1}else if(t===0)c=1/d,h=1/m;else{const v=d*t,b=m*t;c=v<1?1/v:1,h=b<1?1/b:1}}else{const d=Math.abs(e*o-i*r),m=Math.hypot(e,i),v=Math.hypot(r,o);if(t===0)c=v/d,h=m/d;else{const b=t*d;c=v>b?v/b:1,h=m>b?m/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&o===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,o),c.length>0){const h=Math.max(r,o);e.setLineDash(c.map(d=>d/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};xl=new WeakSet,L_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},I_=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Ch=mx;for(const a in Ds)Ch.prototype[a]!==void 0&&(Ch.prototype[Ds[a]]=Ch.prototype[a]);var Gp,$p;class Fr{static get workerPort(){return f(this,Gp)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");T(this,Gp,t)}static get workerSrc(){return f(this,$p)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");T(this,$p,t)}}Gp=new WeakMap,$p=new WeakMap,O(Fr,Gp,null),O(Fr,$p,"");const wv={DATA:1,ERROR:2},ni={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nn(a){switch(a instanceof Error||typeof a=="object"&&a!==null||De('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Su(a.message);case"MissingPDFException":return new Eu(a.message);case"PasswordException":return new a_(a.message,a.code);case"UnexpectedResponseException":return new i0(a.message,a.status);case"UnknownErrorException":return new r_(a.message,a.details);default:return new r_(a.message,a.toString())}}var Gh,bs,uk,hk,dk,Uv;class ip{constructor(t,e,i){O(this,bs);O(this,Gh,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",R(this,bs,uk).bind(this),{signal:f(this,Gh).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,i,r){const o=this.streamId++,c=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:m=>{const v=Promise.withResolvers();return this.streamControllers[o]={controller:m,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:h,action:t,streamId:o,data:e,desiredSize:m.desiredSize},r),v.promise},pull:m=>{const v=Promise.withResolvers();return this.streamControllers[o].pullCall=v,d.postMessage({sourceName:c,targetName:h,stream:ni.PULL,streamId:o,desiredSize:m.desiredSize}),v.promise},cancel:m=>{pi(m instanceof Error,"cancel must have a valid reason");const v=Promise.withResolvers();return this.streamControllers[o].cancelCall=v,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:h,stream:ni.CANCEL,streamId:o,reason:Nn(m)}),v.promise}},i)}destroy(){var t;(t=f(this,Gh))==null||t.abort(),T(this,Gh,null)}}Gh=new WeakMap,bs=new WeakSet,uk=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){R(this,bs,dk).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===wv.DATA)r.resolve(t.data);else if(t.callback===wv.ERROR)r.reject(Nn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){o.postMessage({sourceName:i,targetName:r,callback:wv.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:i,targetName:r,callback:wv.ERROR,callbackId:t.callbackId,reason:Nn(c)})});return}if(t.streamId){R(this,bs,hk).call(this,t);return}e(t.data)},hk=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this,h=this.actionHandler[t.action],d={enqueue(m,v=1,b){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=v,A>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:ni.ENQUEUE,streamId:e,chunk:m},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ni.CLOSE,streamId:e}),delete c.streamSinks[e])},error(m){pi(m instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ni.ERROR,streamId:e,reason:Nn(m)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,new Promise(function(m){m(h(t.data,d))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.START_COMPLETE,streamId:e,success:!0})},function(m){o.postMessage({sourceName:i,targetName:r,stream:ni.START_COMPLETE,streamId:e,reason:Nn(m)})})},dk=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case ni.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Nn(t.reason));break;case ni.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Nn(t.reason));break;case ni.PULL:if(!h){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(d){var m;d((m=h.onPull)==null?void 0:m.call(h))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:i,targetName:r,stream:ni.PULL_COMPLETE,streamId:e,reason:Nn(d)})});break;case ni.ENQUEUE:if(pi(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case ni.CLOSE:if(pi(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),R(this,bs,Uv).call(this,c,e);break;case ni.ERROR:pi(c,"error should have stream controller"),c.controller.error(Nn(t.reason)),R(this,bs,Uv).call(this,c,e);break;case ni.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Nn(t.reason)),R(this,bs,Uv).call(this,c,e);break;case ni.CANCEL:if(!h)break;new Promise(function(d){var m;d((m=h.onCancel)==null?void 0:m.call(h,Nn(t.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ni.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:i,targetName:r,stream:ni.CANCEL_COMPLETE,streamId:e,reason:Nn(d)})}),h.sinkCapability.reject(Nn(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Uv=async function(t,e){var i,r,o;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var Ic,Xp;class Cj{constructor({parsedData:t,rawData:e}){O(this,Ic);O(this,Xp);T(this,Ic,t),T(this,Xp,e)}getRaw(){return f(this,Xp)}get(t){return f(this,Ic).get(t)??null}getAll(){return tx(f(this,Ic))}has(t){return f(this,Ic).has(t)}}Ic=new WeakMap,Xp=new WeakMap;const yh=Symbol("INTERNAL");var Yp,Wp,Kp,$h;class Rj{constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){O(this,Yp,!1);O(this,Wp,!1);O(this,Kp,!1);O(this,$h,!0);T(this,Yp,!!(t&qn.DISPLAY)),T(this,Wp,!!(t&qn.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(f(this,Kp))return f(this,$h);if(!f(this,$h))return!1;const{print:t,view:e}=this.usage;return f(this,Yp)?(e==null?void 0:e.viewState)!=="OFF":f(this,Wp)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==yh&&De("Internal method `_setVisible` called."),T(this,Kp,i),T(this,$h,e)}}Yp=new WeakMap,Wp=new WeakMap,Kp=new WeakMap,$h=new WeakMap;var el,me,Xh,Yh,Qp,N_;class kj{constructor(t,e=qn.DISPLAY){O(this,Qp);O(this,el,null);O(this,me,new Map);O(this,Xh,null);O(this,Yh,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,T(this,Yh,t.order);for(const i of t.groups)f(this,me).set(i.id,new Rj(e,i));if(t.baseState==="OFF")for(const i of f(this,me).values())i._setVisible(yh,!1);for(const i of t.on)f(this,me).get(i)._setVisible(yh,!0);for(const i of t.off)f(this,me).get(i)._setVisible(yh,!1);T(this,Xh,this.getHash())}}isVisible(t){if(f(this,me).size===0)return!0;if(!t)return e0("Optional content group not defined."),!0;if(t.type==="OCG")return f(this,me).has(t.id)?f(this,me).get(t.id).visible:(Xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return R(this,Qp,N_).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!f(this,me).has(e))return Xt(`Optional content group not found: ${e}`),!0;if(f(this,me).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!f(this,me).has(e))return Xt(`Optional content group not found: ${e}`),!0;if(!f(this,me).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!f(this,me).has(e))return Xt(`Optional content group not found: ${e}`),!0;if(!f(this,me).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!f(this,me).has(e))return Xt(`Optional content group not found: ${e}`),!0;if(f(this,me).get(e).visible)return!1}return!0}return Xt(`Unknown optional content policy ${t.policy}.`),!0}return Xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var o;const r=f(this,me).get(t);if(!r){Xt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==t&&((o=f(this,me).get(h))==null||o._setVisible(yh,!1,!0));r._setVisible(yh,!!e,!0),T(this,el,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=f(this,me).get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}T(this,el,null)}get hasInitialVisibility(){return f(this,Xh)===null||this.getHash()===f(this,Xh)}getOrder(){return f(this,me).size?f(this,Yh)?f(this,Yh).slice():[...f(this,me).keys()]:null}getGroups(){return f(this,me).size>0?tx(f(this,me)):null}getGroup(t){return f(this,me).get(t)||null}getHash(){if(f(this,el)!==null)return f(this,el);const t=new JR;for(const[e,i]of f(this,me))t.update(`${e}:${i.visible}`);return T(this,el,t.hexdigest())}}el=new WeakMap,me=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Qp=new WeakSet,N_=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=R(this,Qp,N_).call(this,o);else if(f(this,me).has(o))c=f(this,me).get(o).visible;else return Xt(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"};class Dj{constructor(t,{disableRange:e=!1,disableStream:i=!1}){pi(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,m)=>{this._onReceiveData({begin:d,chunk:m})}),t.addProgressListener((d,m)=>{this._onProgress({loaded:d,total:m})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});pi(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,o;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){pi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Mj(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Oj(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class Mj{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=nx(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Oj{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Lj(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let v=h(e);return v=unescape(v),v=d(v),v=m(v),o(v)}if(e=c(a),e){const v=m(e);return o(v)}if(e=i("filename","i").exec(a),e){e=e[1];let v=h(e);return v=m(v),o(v)}function i(v,b){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(v,b){if(v){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const A=new TextDecoder(v,{fatal:!0}),w=n0(b);b=A.decode(w),t=!1}catch{}}return b}function o(v){return t&&/[\x80-\xff]/.test(v)&&(v=r("utf-8",v),t&&(v=r("iso-8859-1",v))),v}function c(v){const b=[];let A;const w=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=w.exec(v))!==null;){let[,C,I,k]=A;if(C=parseInt(C,10),C in b){if(C===0)break;continue}b[C]=[I,k]}const E=[];for(let C=0;C<b.length&&C in b;++C){let[I,k]=b[C];k=h(k),I&&(k=unescape(k),C===0&&(k=d(k))),E.push(k)}return E.join("")}function h(v){if(v.startsWith('"')){const b=v.slice(1).split('\\"');for(let A=0;A<b.length;++A){const w=b[A].indexOf('"');w!==-1&&(b[A]=b[A].slice(0,w),b.length=A+1),b[A]=b[A].replaceAll(/\\(.)/g,"$1")}v=b.join('"')}return v}function d(v){const b=v.indexOf("'");if(b===-1)return v;const A=v.slice(0,b),E=v.slice(b+1).replace(/^[^']*'/,"");return r(A,E)}function m(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,A,w,E){if(w==="q"||w==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,I){return String.fromCharCode(parseInt(I,16))}),r(A,E);try{E=atob(E)}catch{}return r(A,E)})}return""}function lx(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function cx({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ux(a){const t=a.get("Content-Disposition");if(t){let e=Lj(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(nx(e))return e}return null}function r0(a,t){return a===404||a===0&&t.startsWith("file:")?new Eu('Missing PDF "'+t+'".'):new i0(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function fk(a){return a===200||a===206}function pk(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function mk(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Xt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class cC{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=lx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return pi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ij(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new Nj(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class Ij{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,pk(i,this._withCredentials,this._abortController)).then(o=>{if(!fk(o.status))throw r0(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:d}=cx({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=ux(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Su("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:mk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class Nj{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const c=r.url;fetch(c,pk(o,this._withCredentials,this._abortController)).then(h=>{if(!fk(h.status))throw r0(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:mk(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const FA=200,UA=206;function Pj(a){const t=a.response;return typeof t!="string"?t:n0(t).buffer}class jj{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=lx(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const r={begin:t,end:e};for(const o in i)r[o]=i[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=UA):r.expectedStatus=FA,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){var d,m,v;const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(d=i.onError)==null||d.call(i,r.status);return}const o=r.status||FA;if(!(o===FA&&i.expectedStatus===UA)&&o!==i.expectedStatus){(m=i.onError)==null||m.call(i,r.status);return}const h=Pj(r);if(o===UA){const b=r.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);i.onDone({begin:parseInt(A[1],10),chunk:h})}else h?i.onDone({begin:0,chunk:h}):(v=i.onError)==null||v.call(i,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Fj{constructor(t){this._source=t,this._manager=new jj(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return pi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Uj(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new Hj(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class Uj{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=cx({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=ux(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=r0(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Hj{constructor(t,e,i){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=r0(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const zj=/^[a-z][a-z0-9\-+.]+:/i;function Bj(a){if(zj.test(a))return new URL(a);const t=_l.get("url");return new URL(t.pathToFileURL(a))}function gk(a,t,e){return a.protocol==="http:"?_l.get("http").request(a,{headers:t},e):_l.get("https").request(a,{headers:t},e)}class Vj{constructor(t){this.source=t,this.url=Bj(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=lx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return pi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $j(this):new qj(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new Xj(this,t,e):new Gj(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class vk{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Su("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class yk{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class qj extends vk{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=r=>{if(r.statusCode===404){const d=new Eu(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=cx({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=ux(o)};this._request=gk(this._url,e,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class Gj extends yk{constructor(t,e,i){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${i-1}`;const o=c=>{if(c.statusCode===404){const h=new Eu(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=gk(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class $j extends vk{constructor(t){super(t);const e=_l.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Eu(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class Xj extends yk{constructor(t,e,i){super(t);const r=_l.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}}const Yj=1e5,gn=30,Wj=.8;var SC,il,bn,Zp,Jp,Nc,Ar,tm,em,Pc,Wh,Kh,nl,Qh,im,Zh,jc,nm,sm,Ye,Fc,Uc,am,sl,Jh,Wr,bk,Ak,j_,$n,Hv,F_,_k,wk;let P_=(Ye=class{constructor({textContentSource:t,container:e,viewport:i}){O(this,Wr);O(this,il,Promise.withResolvers());O(this,bn,null);O(this,Zp,!1);O(this,Jp,!!((SC=globalThis.FontInspector)!=null&&SC.enabled));O(this,Nc,null);O(this,Ar,null);O(this,tm,0);O(this,em,0);O(this,Pc,null);O(this,Wh,null);O(this,Kh,0);O(this,nl,0);O(this,Qh,Object.create(null));O(this,im,[]);O(this,Zh,null);O(this,jc,[]);O(this,nm,new WeakMap);O(this,sm,null);var d;if(t instanceof ReadableStream)T(this,Zh,t);else if(typeof t=="object")T(this,Zh,new ReadableStream({start(m){m.enqueue(t),m.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,bn,T(this,Wh,e)),T(this,nl,i.scale*(globalThis.devicePixelRatio||1)),T(this,Kh,i.rotation),T(this,Ar,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:h}=i.rawDims;T(this,sm,[1,0,0,-1,-c,h+o]),T(this,em,r),T(this,tm,o),R(d=Ye,$n,_k).call(d),mu(e,i),f(this,il).promise.finally(()=>{f(Ye,Jh).delete(this),T(this,Ar,null),T(this,Qh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=rn.platform;return te(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{f(this,Pc).read().then(({value:e,done:i})=>{if(i){f(this,il).resolve();return}f(this,Nc)??T(this,Nc,e.lang),Object.assign(f(this,Qh),e.styles),R(this,Wr,bk).call(this,e.items),t()},f(this,il).reject)};return T(this,Pc,f(this,Zh).getReader()),f(Ye,Jh).add(this),t(),f(this,il).promise}update({viewport:t,onBefore:e=null}){var o;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==f(this,Kh)&&(e==null||e(),T(this,Kh,r),mu(f(this,Wh),{rotation:r})),i!==f(this,nl)){e==null||e(),T(this,nl,i);const c={div:null,properties:null,ctx:R(o=Ye,$n,Hv).call(o,f(this,Nc))};for(const h of f(this,jc))c.properties=f(this,nm).get(h),c.div=h,R(this,Wr,j_).call(this,c)}}cancel(){var e;const t=new Su("TextLayer task cancelled.");(e=f(this,Pc))==null||e.cancel(t).catch(()=>{}),T(this,Pc,null),f(this,il).reject(t)}get textDivs(){return f(this,jc)}get textContentItemsStr(){return f(this,im)}static cleanup(){if(!(f(this,Jh).size>0)){f(this,Fc).clear();for(const{canvas:t}of f(this,Uc).values())t.remove();f(this,Uc).clear()}}},il=new WeakMap,bn=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,Nc=new WeakMap,Ar=new WeakMap,tm=new WeakMap,em=new WeakMap,Pc=new WeakMap,Wh=new WeakMap,Kh=new WeakMap,nl=new WeakMap,Qh=new WeakMap,im=new WeakMap,Zh=new WeakMap,jc=new WeakMap,nm=new WeakMap,sm=new WeakMap,Fc=new WeakMap,Uc=new WeakMap,am=new WeakMap,sl=new WeakMap,Jh=new WeakMap,Wr=new WeakSet,bk=function(t){var r,o;if(f(this,Zp))return;(o=f(this,Ar)).ctx??(o.ctx=R(r=Ye,$n,Hv).call(r,f(this,Nc)));const e=f(this,jc),i=f(this,im);for(const c of t){if(e.length>Yj){Xt("Ignoring additional textDivs for performance reasons."),T(this,Zp,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=f(this,bn);T(this,bn,document.createElement("span")),f(this,bn).classList.add("markedContent"),c.id!==null&&f(this,bn).setAttribute("id",`${c.id}`),h.append(f(this,bn))}else c.type==="endMarkedContent"&&T(this,bn,f(this,bn).parentNode);continue}i.push(c.str),R(this,Wr,Ak).call(this,c)}},Ak=function(t){var C;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};f(this,jc).push(e);const r=Rt.transform(f(this,sm),t.transform);let o=Math.atan2(r[1],r[0]);const c=f(this,Qh)[t.fontName];c.vertical&&(o+=Math.PI/2);let h=f(this,Jp)&&c.fontSubstitution||c.fontFamily;h=Ye.fontFamilyMap.get(h)||h;const d=Math.hypot(r[2],r[3]),m=d*R(C=Ye,$n,wk).call(C,h,f(this,Nc));let v,b;o===0?(v=r[4],b=r[5]-m):(v=r[4]+m*Math.sin(o),b=r[5]-m*Math.cos(o));const A="calc(var(--scale-factor)*",w=e.style;f(this,bn)===f(this,Wh)?(w.left=`${(100*v/f(this,em)).toFixed(2)}%`,w.top=`${(100*b/f(this,tm)).toFixed(2)}%`):(w.left=`${A}${v.toFixed(2)}px)`,w.top=`${A}${b.toFixed(2)}px)`),w.fontSize=`${A}${(f(Ye,sl)*d).toFixed(2)}px)`,w.fontFamily=h,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,f(this,Jp)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const I=Math.abs(t.transform[0]),k=Math.abs(t.transform[3]);I!==k&&Math.max(I,k)/Math.min(I,k)>1.5&&(E=!0)}if(E&&(i.canvasWidth=c.vertical?t.height:t.width),f(this,nm).set(e,i),f(this,Ar).div=e,f(this,Ar).properties=i,R(this,Wr,j_).call(this,f(this,Ar)),i.hasText&&f(this,bn).append(e),i.hasEOL){const I=document.createElement("br");I.setAttribute("role","presentation"),f(this,bn).append(I)}},j_=function(t){var h;const{div:e,properties:i,ctx:r}=t,{style:o}=e;let c="";if(f(Ye,sl)>1&&(c=`scale(${1/f(Ye,sl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:d}=o,{canvasWidth:m,fontSize:v}=i;R(h=Ye,$n,F_).call(h,r,v*f(this,nl),d);const{width:b}=r.measureText(e.textContent);b>0&&(c=`scaleX(${m*f(this,nl)/b}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(o.transform=c)},$n=new WeakSet,Hv=function(t=null){let e=f(this,Uc).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),f(this,Uc).set(t,e),f(this,am).set(e,{size:0,family:""})}return e},F_=function(t,e,i){const r=f(this,am).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},_k=function(){if(f(this,sl)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),T(this,sl,t.getBoundingClientRect().height),t.remove()},wk=function(t,e){const i=f(this,Fc).get(t);if(i)return i;const r=R(this,$n,Hv).call(this,e);r.canvas.width=r.canvas.height=gn,R(this,$n,F_).call(this,r,gn,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(c){const v=c/(c+h);return f(this,Fc).set(t,v),r.canvas.width=r.canvas.height=0,v}r.strokeStyle="red",r.clearRect(0,0,gn,gn),r.strokeText("g",0,0);let d=r.getImageData(0,0,gn,gn).data;h=0;for(let v=d.length-1-3;v>=0;v-=4)if(d[v]>0){h=Math.ceil(v/4/gn);break}r.clearRect(0,0,gn,gn),r.strokeText("A",0,gn),d=r.getImageData(0,0,gn,gn).data,c=0;for(let v=0,b=d.length;v<b;v+=4)if(d[v]>0){c=gn-Math.floor(v/4/gn);break}r.canvas.width=r.canvas.height=0;const m=c?c/(c+h):Wj;return f(this,Fc).set(t,m),m},O(Ye,$n),O(Ye,Fc,new Map),O(Ye,Uc,new Map),O(Ye,am,new WeakMap),O(Ye,sl,null),O(Ye,Jh,new Set),Ye);class xp{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(o){var d;if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(xp.shouldBuildText(h))(d=o==null?void 0:o.attributes)!=null&&d.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const m of o.children)r(m)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Kj=65536,Qj=100,Zj=5e3,Jj=Wi?hj:lj,tF=Wi?dj:sk,eF=Wi?uj:cj,iF=Wi?fj:lk;function nF(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new U_,{docId:e}=t,i=a.url?sF(a.url):null,r=a.data?aF(a.data):null,o=a.httpHeaders||null,c=a.withCredentials===!0,h=a.password??null,d=a.range instanceof xk?a.range:null,m=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:Kj;let v=a.worker instanceof Rh?a.worker:null;const b=a.verbosity,A=typeof a.docBaseUrl=="string"&&!a0(a.docBaseUrl)?a.docBaseUrl:null,w=typeof a.cMapUrl=="string"?a.cMapUrl:null,E=a.cMapPacked!==!1,C=a.CMapReaderFactory||tF,I=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,k=a.StandardFontDataFactory||iF,z=a.stopAtErrors!==!0,V=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,X=a.isEvalSupported!==!1,K=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Wi,Z=typeof a.isChrome=="boolean"?a.isChrome:!rn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),P=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,M=typeof a.disableFontFace=="boolean"?a.disableFontFace:Wi,D=a.fontExtraProperties===!0,j=a.enableXfa===!0,U=a.ownerDocument||globalThis.document,$=a.disableRange===!0,F=a.disableStream===!0,mt=a.disableAutoFetch===!0,bt=a.pdfBug===!0,at=a.CanvasFactory||Jj,ot=a.FilterFactory||eF,lt=a.enableHWA===!0,dt=d?d.length:a.length??NaN,G=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Wi&&!M,nt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:C===sk&&k===lk&&w&&I&&Wf(w,document.baseURI)&&Wf(I,document.baseURI);a.canvasFactory&&QT("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&QT("`filterFactory`-instance option, please use `FilterFactory` instead.");const ft=null;U6(b);const ht={canvasFactory:new at({ownerDocument:U,enableHWA:lt}),filterFactory:new ot({docId:e,ownerDocument:U}),cMapReaderFactory:nt?null:new C({baseUrl:w,isCompressed:E}),standardFontDataFactory:nt?null:new k({baseUrl:I})};if(!v){const _t={verbosity:b,port:Fr.workerPort};v=_t.port?Rh.fromPort(_t):new Rh(_t),t._worker=v}const pt={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:mt,rangeChunkSize:m,length:dt,docBaseUrl:A,enableXfa:j,evaluatorOptions:{maxImageSize:V,disableFontFace:M,ignoreErrors:z,isEvalSupported:X,isOffscreenCanvasSupported:K,isChrome:Z,canvasMaxAreaInBytes:P,fontExtraProperties:D,useSystemFonts:G,cMapUrl:nt?w:null,standardFontDataUrl:nt?I:null}},Et={disableFontFace:M,fontExtraProperties:D,ownerDocument:U,pdfBug:bt,styleElement:ft,loadingParams:{disableAutoFetch:mt,enableXfa:j}};return v.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const _t=v.messageHandler.sendWithPromise("GetDocRequest",pt,r?[r.buffer]:null);let St;if(d)St=new Dj(d,{disableRange:$,disableStream:F});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let It;Wi?It=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Wf(i)?cC:Vj:It=Wf(i)?cC:Fj,St=new It({url:i,length:dt,httpHeaders:o,withCredentials:c,rangeChunkSize:m,disableRange:$,disableStream:F})}return _t.then(It=>{if(t.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const Kt=new ip(e,It,v.port),Tt=new cF(Kt,t,St,Et,ht);t._transport=Tt,Kt.send("Ready",null)})}).catch(t._capability.reject),t}function sF(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(Wi&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function aF(a){if(Wi&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return n0(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uC(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Iy;const Ny=class Ny{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tn(Ny,Iy)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Iy=new WeakMap,O(Ny,Iy,0);let U_=Ny,xk=class{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){De("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class rF{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return te(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var al,_r,ms,bh,zv;class oF{constructor(t,e,i,r=!1){O(this,ms);O(this,al,null);O(this,_r,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new KT:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new Ek,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new Xm({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return te(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=Vo.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:m=null,printAnnotationStorage:v=null,isEditing:b=!1}){var X,K;(X=this._stats)==null||X.time("Overall");const A=this._transport.getRenderingIntent(i,r,v,b),{renderingIntent:w,cacheKey:E}=A;T(this,_r,!1),R(this,ms,zv).call(this),h||(h=this._transport.getOptionalContentConfig(w));let C=this._intentStates.get(E);C||(C=Object.create(null),this._intentStates.set(E,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const I=!!(w&qn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(A));const k=Z=>{var P;C.renderTasks.delete(z),(this._maybeCleanupAfterRender||I)&&T(this,_r,!0),R(this,ms,bh).call(this,!I),Z?(z.capability.reject(Z),this._abortOperatorList({intentState:C,reason:Z instanceof Error?Z:new Error(Z)})):z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},z=new z_({callback:k,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!I,pdfBug:this._pdfBug,pageColors:m});(C.renderTasks||(C.renderTasks=new Set)).add(z);const V=z.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([Z,P])=>{var M;if(this.destroyed){k();return}if((M=this._stats)==null||M.time("Rendering"),!(P.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");z.initializeGraphics({transparency:Z,optionalContentConfig:P}),z.operatorListChanged()}).catch(k),V}getOperatorList({intent:t="display",annotationMode:e=Vo.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var m;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,i,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>xp.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function o(){c.read().then(function({value:d,done:m}){if(m){i(h);return}h.lang??(h.lang=d.lang),Object.assign(h.styles,d.styles),h.items.push(...d.items),o()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),T(this,_r,!1),R(this,ms,zv).call(this),Promise.all(t)}cleanup(t=!1){T(this,_r,!0);const e=R(this,ms,bh).call(this,!1);return t&&e&&this._stats&&(this._stats=new KT),e}_startRenderPage(t,e){var r,o;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&R(this,ms,bh).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:c}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),m=this._intentStates.get(e);m.streamReader=d;const v=()=>{d.read().then(({value:b,done:A})=>{if(A){m.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,m),v())},b=>{if(m.streamReader=null,!this._transport.destroyed){if(m.operatorList){m.operatorList.lastChunk=!0;for(const A of m.renderTasks)A.operatorListChanged();R(this,ms,bh).call(this,!0)}if(m.displayReadyCapability)m.displayReadyCapability.reject(b);else if(m.opListReadCapability)m.opListReadCapability.reject(b);else throw b}})};v()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof ix){let r=Qj;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Su(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}al=new WeakMap,_r=new WeakMap,ms=new WeakSet,bh=function(t=!1){if(R(this,ms,zv).call(this),!f(this,_r)||this.destroyed)return!1;if(t)return T(this,al,setTimeout(()=>{T(this,al,null),R(this,ms,bh).call(this,!1)},Zj)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,_r,!1),!0},zv=function(){f(this,al)&&(clearTimeout(f(this,al)),T(this,al,null))};var wr,Py;class lF{constructor(){O(this,wr,new Map);O(this,Py,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};f(this,Py).then(()=>{for(const[r]of f(this,wr))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){Xt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}f(this,wr).set(e,r)}removeEventListener(t,e){const i=f(this,wr).get(e);i==null||i(),f(this,wr).delete(e)}terminate(){for(const[,t]of f(this,wr))t==null||t();f(this,wr).clear()}}wr=new WeakMap,Py=new WeakMap;var jy,Hc,zc,td,Bv,ed,Vv;const Oe=class Oe{constructor({name:t=null,port:e=null,verbosity:i=H6()}={}){O(this,td);var r;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=f(Oe,zc))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(f(Oe,zc)||T(Oe,zc,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Wi?Promise.all([_l.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new ip("main","worker",t),this._messageHandler.on("ready",function(){}),R(this,td,Bv).call(this)}_initialize(){if(f(Oe,Hc)||f(Oe,ed,Vv)){this._setupFakeWorker();return}let{workerSrc:t}=Oe;try{Oe._isSameOrigin(window.location.href,t)||(t=Oe._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new ip("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),i.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,R(this,td,Bv).call(this)}),i.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;i.send("test",h,[h.buffer])};c();return}catch{e0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){f(Oe,Hc)||(Xt("Setting up fake worker."),T(Oe,Hc,!0)),Oe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new lF;this._port=e;const i=`fake${tn(Oe,jy)._++}`,r=new ip(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new ip(i,i+"_worker",e),R(this,td,Bv).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=f(Oe,zc))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=f(this,zc))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Oe(t)}static get workerSrc(){if(Fr.workerSrc)return Fr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return te(this,"_setupFakeWorkerGlobal",(async()=>f(this,ed,Vv)?f(this,ed,Vv):(await import(this.workerSrc)).WorkerMessageHandler)())}};jy=new WeakMap,Hc=new WeakMap,zc=new WeakMap,td=new WeakSet,Bv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},ed=new WeakSet,Vv=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},O(Oe,ed),O(Oe,jy,0),O(Oe,Hc,!1),O(Oe,zc),Wi&&(T(Oe,Hc,!0),Fr.workerSrc||(Fr.workerSrc="./pdf.worker.mjs")),Oe._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(e,i);return i.origin===r.origin},Oe._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Rh=Oe;var xr,Ea,id,nd,Sa,Bc,np;class cF{constructor(t,e,i,r,o){O(this,Bc);O(this,xr,new Map);O(this,Ea,new Map);O(this,id,new Map);O(this,nd,new Map);O(this,Sa,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ek,this.fontLoader=new rj({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return te(this,"annotationStorage",new rx)}getRenderingIntent(t,e=Vo.ENABLE,i=null,r=!1,o=!1){let c=qn.DISPLAY,h=C_;switch(t){case"any":c=qn.ANY;break;case"display":break;case"print":c=qn.PRINT;break;default:Xt(`getRenderingIntent - invalid intent: ${t}`)}const d=c&qn.PRINT&&i instanceof ek?i:this.annotationStorage;switch(e){case Vo.DISABLE:c+=qn.ANNOTATIONS_DISABLE;break;case Vo.ENABLE:break;case Vo.ENABLE_FORMS:c+=qn.ANNOTATIONS_FORMS;break;case Vo.ENABLE_STORAGE:c+=qn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:Xt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=qn.IS_EDITING),o&&(c+=qn.OPLIST);const{ids:m,hash:v}=d.modifiedIds,b=[c,h.hash,v];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:m}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=f(this,Sa))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of f(this,Ea).values())t.push(r._destroy());f(this,Ea).clear(),f(this,id).clear(),f(this,nd).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),f(this,xr).clear(),this.filterFactory.destroy(),P_.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Su("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{pi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}pi(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=d=>{var m;(m=e.onProgress)==null||m.call(e,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(i,r)=>{pi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){r.close();return}pi(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new rF(i,this))}),t.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new a_(i.message,i.code);break;case"InvalidPDFException":r=new CR(i.message);break;case"MissingPDFException":r=new Eu(i.message);break;case"UnexpectedResponseException":r=new i0(i.message,i.status);break;case"UnknownErrorException":r=new r_(i.message,i.details);break;default:De("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",i=>{if(T(this,Sa,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?f(this,Sa).reject(o):f(this,Sa).resolve({password:o})};try{e.onPassword(r,i.code)}catch(o){f(this,Sa).reject(o)}}else f(this,Sa).reject(new a_(i.message,i.code));return f(this,Sa).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;f(this,Ea).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:d,pdfBug:m}=this._params;if("error"in o){const w=o.error;Xt(`Error during font loading: ${w}`),this.commonObjs.resolve(i,w);break}const v=m&&((c=globalThis.FontInspector)!=null&&c.enabled)?(w,E)=>globalThis.FontInspector.fontAdded(w,E):null,b=new oj(o,{disableFontFace:h,inspectFont:v});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d&&b.data&&(b.data=null),this.commonObjs.resolve(i,b)});break;case"CopyLocalImage":const{imageRef:A}=o;pi(A,"The imageRef must be defined.");for(const w of f(this,Ea).values())for(const[,E]of w.objs)if((E==null?void 0:E.ref)===A)return E.dataLen?(this.commonObjs.resolve(i,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,c])=>{var d;if(this.destroyed)return;const h=f(this,Ea).get(r);if(!h.objs.has(i)){if(h._intentStates.size===0){(d=c==null?void 0:c.bitmap)==null||d.close();return}switch(o){case"Image":h.objs.resolve(i,c),(c==null?void 0:c.dataLen)>N6&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=f(this,id).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&f(this,nd).set(o.refStr,t);const c=new oF(e,o,this,this._params.pdfBug);return f(this,Ea).set(e,c),c});return f(this,id).set(e,r),r}getPageIndex(t){return uC(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return R(this,Bc,np).call(this,"GetFieldObjects")}hasJSActions(){return R(this,Bc,np).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return R(this,Bc,np).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return R(this,Bc,np).call(this,"GetOptionalContentConfig").then(e=>new kj(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=f(this,xr).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new Cj(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return f(this,xr).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of f(this,Ea).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),f(this,xr).clear(),this.filterFactory.destroy(!0),P_.cleanup()}}cachedPageNumber(t){if(!uC(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return f(this,nd).get(e)??null}}xr=new WeakMap,Ea=new WeakMap,id=new WeakMap,nd=new WeakMap,Sa=new WeakMap,Bc=new WeakSet,np=function(t,e=null){const i=f(this,xr).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return f(this,xr).set(t,r),r};const xv=Symbol("INITIAL_DATA");var Ps,rm,H_;class Ek{constructor(){O(this,rm);O(this,Ps,Object.create(null))}get(t,e=null){if(e){const r=R(this,rm,H_).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=f(this,Ps)[t];if(!i||i.data===xv)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=f(this,Ps)[t];return!!e&&e.data!==xv}resolve(t,e=null){const i=R(this,rm,H_).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in f(this,Ps)){const{data:i}=f(this,Ps)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}T(this,Ps,Object.create(null))}*[Symbol.iterator](){for(const t in f(this,Ps)){const{data:e}=f(this,Ps)[t];e!==xv&&(yield[t,e])}}}Ps=new WeakMap,rm=new WeakSet,H_=function(t){var e;return(e=f(this,Ps))[t]||(e[t]={...Promise.withResolvers(),data:xv})};var rl;class uF{constructor(t){O(this,rl,null);T(this,rl,t),this.onContinue=null}get promise(){return f(this,rl).capability.promise}cancel(t=0){f(this,rl).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=f(this,rl).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=f(this,rl);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}rl=new WeakMap;var ol,Vc;const fc=class fc{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:d,filterFactory:m,useRequestAnimationFrame:v=!1,pdfBug:b=!1,pageColors:A=null}){O(this,ol,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=m,this._pdfBug=b,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=v===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new uF(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,d;if(this.cancelled)return;if(this._canvas){if(f(fc,Vc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");f(fc,Vc).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:o,background:c}=this.params;this.gfx=new Ch(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),f(this,ol)&&(window.cancelAnimationFrame(f(this,ol)),T(this,ol,null)),f(fc,Vc).delete(this._canvas),this.callback(t||new ix(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,ol,window.requestAnimationFrame(()=>{T(this,ol,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),f(fc,Vc).delete(this._canvas),this.callback())))}};ol=new WeakMap,Vc=new WeakMap,O(fc,Vc,new WeakSet);let z_=fc;const hF="4.8.69",dF="3634dab10";function hC(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function $f(a){return Math.max(0,Math.min(255,255*a))}class dC{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=$f(t),[t,t,t]}static G_HTML([t]){const e=hC(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map($f)}static RGB_HTML(t){return`#${t.map(hC).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[$f(1-Math.min(1,t+r)),$f(1-Math.min(1,i+r)),$f(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,o=1-e,c=1-i,h=Math.min(r,o,c);return["CMYK",r,o,c,h]}}class fF{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){De("Abstract method `_createSVG` called.")}}class hx extends fF{_createSVG(t){return document.createElementNS(hr,t)}}class Sk{static setupStorage(t,e,i,r,o){const c=r.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of i.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,m=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:m})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,m]of Object.entries(c))if(m!=null)switch(d){case"class":m.length&&t.setAttribute(d,m.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",m);break;case"style":Object.assign(t.style,m);break;case"textContent":t.textContent=m;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,m)}h&&o.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){var b,A;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:i});const h=o!=="richText",d=t.div;if(d.append(c),t.viewport){const w=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=w}h&&d.setAttribute("class","xfaLayer xfaFont");const m=[];if(r.children.length===0){if(r.value){const w=document.createTextNode(r.value);c.append(w),h&&xp.shouldBuildText(r.name)&&m.push(w)}return{textDivs:m}}const v=[[r,-1,c]];for(;v.length>0;){const[w,E,C]=v.at(-1);if(E+1===w.children.length){v.pop();continue}const I=w.children[++v.at(-1)[1]];if(I===null)continue;const{name:k}=I;if(k==="#text"){const V=document.createTextNode(I.value);m.push(V),C.append(V);continue}const z=(b=I==null?void 0:I.attributes)!=null&&b.xmlns?document.createElementNS(I.attributes.xmlns,k):document.createElement(k);if(C.append(z),I.attributes&&this.setAttributes({html:z,element:I,storage:e,intent:o,linkService:i}),((A=I.children)==null?void 0:A.length)>0)v.push([I,-1,z]);else if(I.value){const V=document.createTextNode(I.value);h&&xp.shouldBuildText(k)&&m.push(V),z.append(V)}}for(const w of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:m}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Wm=1e3,pF=9,vu=new WeakSet;function Vr(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class mF{static create(t){switch(t.data.annotationType){case ui.LINK:return new Tk(t);case ui.TEXT:return new gF(t);case ui.WIDGET:switch(t.data.fieldType){case"Tx":return new vF(t);case"Btn":return t.data.radioButton?new kk(t):t.data.checkBox?new bF(t):new AF(t);case"Ch":return new _F(t);case"Sig":return new yF(t)}return new Tu(t);case ui.POPUP:return new V_(t);case ui.FREETEXT:return new Ik(t);case ui.LINE:return new xF(t);case ui.SQUARE:return new EF(t);case ui.CIRCLE:return new SF(t);case ui.POLYLINE:return new Nk(t);case ui.CARET:return new CF(t);case ui.INK:return new dx(t);case ui.POLYGON:return new TF(t);case ui.HIGHLIGHT:return new Pk(t);case ui.UNDERLINE:return new RF(t);case ui.SQUIGGLY:return new kF(t);case ui.STRIKEOUT:return new DF(t);case ui.STAMP:return new jk(t);case ui.FILEATTACHMENT:return new MF(t);default:return new Je(t)}}}var qc,sd,ad,om,B_;const gx=class gx{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){O(this,om);O(this,qc,null);O(this,sd,!1);O(this,ad,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return gx._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;f(this,qc)||T(this,qc,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&R(this,om,B_).call(this,e),(i=f(this,ad))==null||i.popup.updateEdited(t)}resetEdited(){var t;f(this,qc)&&(R(this,om,B_).call(this,f(this,qc).rect),(t=f(this,ad))==null||t.popup.resetEdited(),T(this,qc,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Tu||(o.tabIndex=Wm);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof V_){const{rotation:C}=e;return!e.hasOwnCanvas&&C!==0&&this.setRotation(C,o),o}const{width:h,height:d}=Vr(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const C=e.borderStyle.horizontalCornerRadius,I=e.borderStyle.verticalCornerRadius;if(C>0||I>0){const z=`calc(${C}px * var(--scale-factor)) / calc(${I}px * var(--scale-factor))`;c.borderRadius=z}else if(this instanceof kk){const z=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;c.borderRadius=z}switch(e.borderStyle.style){case qf.SOLID:c.borderStyle="solid";break;case qf.DASHED:c.borderStyle="dashed";break;case qf.BEVELED:Xt("Unimplemented border style: beveled");break;case qf.INSET:Xt("Unimplemented border style: inset");break;case qf.UNDERLINE:c.borderBottomStyle="solid";break}const k=e.borderColor||null;k?(T(this,sd,!0),c.borderColor=Rt.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):c.borderWidth=0}const m=Rt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:v,pageHeight:b,pageX:A,pageY:w}=r.rawDims;c.left=`${100*(m[0]-A)/v}%`,c.top=`${100*(m[1]-w)/b}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(c.width=`${100*h/v}%`,c.height=`${100*d/b}%`):this.setRotation(E,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Vr(this.data.rect);let h,d;t%180===0?(h=100*o/i,d=100*c/r):(h=100*c/i,d=100*o/r),e.style.width=`${h}%`,e.style.height=`${d}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const o=r.detail[e],c=o[0],h=o.slice(1);r.target.style[i]=dC[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[i]:dC[`${c}_rgb`](h)})};return te(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||i[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,o]of Object.entries(e)){const c=i[r];if(c){const h={detail:{[r]:o},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,o]=this.data.rect.map(C=>Math.fround(C));if(t.length===8){const[C,I,k,z]=t.subarray(2,6);if(r===C&&o===I&&e===k&&i===z)return}const{style:c}=this.container;let h;if(f(this,sd)){const{borderColor:C,borderWidth:I}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${I}">`],this.container.classList.add("hasBorder")}const d=r-e,m=o-i,{svgFactory:v}=this,b=v.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const A=v.createElement("defs");b.append(A);const w=v.createElement("clipPath"),E=`clippath_${this.data.id}`;w.setAttribute("id",E),w.setAttribute("clipPathUnits","objectBoundingBox"),A.append(w);for(let C=2,I=t.length;C<I;C+=8){const k=t[C],z=t[C+1],V=t[C+2],X=t[C+3],K=v.createElement("rect"),Z=(V-e)/d,P=(o-z)/m,M=(k-V)/d,D=(z-X)/m;K.setAttribute("x",Z),K.setAttribute("y",P),K.setAttribute("width",M),K.setAttribute("height",D),w.append(K),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${Z}" y="${P}" width="${M}" height="${D}"/>`)}f(this,sd)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=T(this,ad,new V_({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){De("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:h}of r){if(o===-1||c===e)continue;const d=typeof h=="string"?h:null,m=document.querySelector(`[data-element-id="${c}"]`);if(m&&!vu.has(m)){Xt(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:d,domElement:m})}return i}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&vu.has(r)&&i.push({id:c,exportValue:o,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};qc=new WeakMap,sd=new WeakMap,ad=new WeakMap,om=new WeakSet,B_=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:d}}}}=this;i==null||i.splice(0,4,...t);const{width:m,height:v}=Vr(t);e.left=`${100*(t[0]-h)/o}%`,e.top=`${100*(c-t[3]+d)/c}%`,r===0?(e.width=`${100*m/o}%`,e.height=`${100*v/c}%`):this.setRotation(r)};let Je=gx;var Gn,oc,Ck,Rk;class Tk extends Je{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});O(this,Gn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(R(this,Gn,Ck).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(R(this,Gn,Rk).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&R(this,Gn,oc).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),R(this,Gn,oc).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const c=r.get(o);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),R(this,Gn,oc).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),R(this,Gn,oc).call(this),!this._fieldObjects){Xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:o,refs:c,include:h}=i,d=[];if(o.length!==0||c.length!==0){const A=new Set(c);for(const w of o){const E=this._fieldObjects[w]||[];for(const{id:C}of E)A.add(C)}for(const w of Object.values(this._fieldObjects))for(const E of w)A.has(E.id)===h&&d.push(E)}else for(const A of Object.values(this._fieldObjects))d.push(...A);const m=this.annotationStorage,v=[];for(const A of d){const{id:w}=A;switch(v.push(w),A.type){case"text":{const C=A.defaultValue||"";m.setValue(w,{value:C});break}case"checkbox":case"radiobutton":{const C=A.defaultValue===A.exportValues;m.setValue(w,{value:C});break}case"combobox":case"listbox":{const C=A.defaultValue||"";m.setValue(w,{value:C});break}default:continue}const E=document.querySelector(`[data-element-id="${w}"]`);if(E){if(!vu.has(E)){Xt(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:v,name:"ResetForm"}})),!1}}}Gn=new WeakSet,oc=function(){this.container.setAttribute("data-internal-link","")},Ck=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},R(this,Gn,oc).call(this)},Rk=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),R(this,Gn,oc).call(this)};class gF extends Je{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Tu extends Je{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{var h;if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,e,i,r){var o,c,h;for(const[d,m]of i)(m==="Action"||(o=this.data.actions)!=null&&o[m])&&((m==="Focus"||m==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,d,m,r),m==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):m==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Rt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||pF,o=t.style;let c;const h=2,d=m=>Math.round(10*m)/10;if(this.data.multiLine){const m=Math.abs(this.data.rect[3]-this.data.rect[1]-h),v=Math.round(m/(IA*r))||1,b=m/v;c=Math.min(r,d(b/IA))}else{const m=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,d(m/IA))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=Rt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class vF extends Tu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),o.setValue(c.id,{[r]:i})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const d=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;d&&h.length>d&&(h=h.slice(0,d));let m=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;m&&this.data.comb&&(m=m.replaceAll(/\s+/g,""));const v={userValue:h,formattedValue:m,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=m??h,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",m??h),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),vu.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Wm,this._setRequired(i,this.data.required),d&&(i.maxLength=d),i.addEventListener("input",A=>{t.setValue(e,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),v.formattedValue=null}),i.addEventListener("resetform",A=>{const w=this.data.defaultFieldValue??"";i.value=v.userValue=w,v.formattedValue=null});let b=A=>{const{formattedValue:w}=v;w!=null&&(A.target.value=w),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{var C;if(v.focused)return;const{target:E}=w;v.userValue&&(E.value=v.userValue),v.lastCommittedValue=E.value,v.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(v.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const E={value(C){v.userValue=C.detail.value??"",t.setValue(e,{value:v.userValue.toString()}),C.target.value=v.userValue},formattedValue(C){const{formattedValue:I}=C.detail;v.formattedValue=I,I!=null&&C.target!==document.activeElement&&(C.target.value=I),t.setValue(e,{formattedValue:I})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var V;const{charLimit:I}=C.detail,{target:k}=C;if(I===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",I);let z=v.userValue;!z||z.length<=I||(z=z.slice(0,I),k.value=v.userValue=z,t.setValue(e,{value:z}),(V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:z,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(E,w)}),i.addEventListener("keydown",w=>{var I;v.commitKey=1;let E=-1;if(w.key==="Escape"?E=0:w.key==="Enter"&&!this.data.multiLine?E=2:w.key==="Tab"&&(v.commitKey=3),E===-1)return;const{value:C}=w.target;v.lastCommittedValue!==C&&(v.lastCommittedValue=C,v.userValue=C,(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,willCommit:!0,commitKey:E,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const A=b;b=null,i.addEventListener("blur",w=>{var C,I;if(!v.focused||!w.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(v.focused=!1);const{value:E}=w.target;v.userValue=E,v.lastCommittedValue!==E&&((I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:v.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}})),A(w)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",w=>{var K;v.lastCommittedValue=null;const{data:E,target:C}=w,{value:I,selectionStart:k,selectionEnd:z}=C;let V=k,X=z;switch(w.inputType){case"deleteWordBackward":{const Z=I.substring(0,k).match(/\w*[^\w]*$/);Z&&(V-=Z[0].length);break}case"deleteWordForward":{const Z=I.substring(k).match(/^[^\w]*\w*/);Z&&(X+=Z[0].length);break}case"deleteContentBackward":k===z&&(V-=1);break;case"deleteContentForward":k===z&&(X+=1);break}w.preventDefault(),(K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:I,change:E||"",willCommit:!1,selStart:V,selEnd:X}})}),this._setEventListeners(i,v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/d;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class yF extends Tu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class bF extends Tu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return vu.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=Wm,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const m of this._getElementsByName(h,i)){const v=d&&m.exportValue===e.exportValue;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class kk extends Tu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(vu.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Wm,o.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const m of this._getElementsByName(h,i))t.setValue(m.id,{value:!1});t.setValue(i,{value:d})}),o.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",h=>{const d={value:m=>{const v=c===m.detail.value;for(const b of this._getElementsByName(m.target.name)){const A=v&&b.id===i;b.domElement&&(b.domElement.checked=A),t.setValue(b.id,{value:A})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class AF extends Tk{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class _F extends Tu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");vu.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Wm;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",v=>{const b=this.data.defaultFieldValue;for(const A of r.options)A.selected=A.value===b});for(const v of this.data.options){const b=document.createElement("option");b.textContent=v.displayValue,b.value=v.exportValue,i.value.includes(v.exportValue)&&(b.setAttribute("selected",!0),o=!1),r.append(b)}let c=null;if(o){const v=document.createElement("option");v.value=" ",v.setAttribute("hidden",!0),v.setAttribute("selected",!0),r.prepend(v),c=()=>{v.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=v=>{const b=v?"value":"textContent",{options:A,multiple:w}=r;return w?Array.prototype.filter.call(A,E=>E.selected).map(E=>E[b]):A.selectedIndex===-1?null:A[A.selectedIndex][b]};let d=h(!1);const m=v=>{const b=v.target.options;return Array.prototype.map.call(b,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",v=>{const b={value(A){c==null||c();const w=A.detail.value,E=new Set(Array.isArray(w)?w:[w]);for(const C of r.options)C.selected=E.has(C.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(A){r.multiple=!0},remove(A){const w=r.options,E=A.detail.remove;w[E].selected=!1,r.remove(E),w.length>0&&Array.prototype.findIndex.call(w,I=>I.selected)===-1&&(w[0].selected=!0),t.setValue(e,{value:h(!0),items:m(A)}),d=h(!1)},clear(A){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(A){const{index:w,displayValue:E,exportValue:C}=A.detail.insert,I=r.children[w],k=document.createElement("option");k.textContent=E,k.value=C,I?I.before(k):r.append(k),t.setValue(e,{value:h(!0),items:m(A)}),d=h(!1)},items(A){const{items:w}=A.detail;for(;r.length!==0;)r.remove(0);for(const E of w){const{displayValue:C,exportValue:I}=E,k=document.createElement("option");k.textContent=C,k.value=I,r.append(k)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:m(A)}),d=h(!1)},indices(A){const w=new Set(A.detail.indices);for(const E of A.target.options)E.selected=w.has(E.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(b,v)}),r.addEventListener("input",v=>{var w;const b=h(!0),A=h(!1);t.setValue(e,{value:b}),v.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:A,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],v=>v.target.value)):r.addEventListener("input",function(v){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class V_ extends Je{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Je._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new wF({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${ex}${i}`).join(",")),this.container}}var rd,Fy,Uy,od,Gc,Xe,Er,ld,lm,cm,cd,Sr,js,Tr,um,Cr,hm,$c,Xc,we,qv,q_,Dk,Mk,Ok,Lk,Gv,$v,G_;class wF{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:c,richText:h,parent:d,rect:m,parentRect:v,open:b}){O(this,we);O(this,rd,R(this,we,Ok).bind(this));O(this,Fy,R(this,we,G_).bind(this));O(this,Uy,R(this,we,$v).bind(this));O(this,od,R(this,we,Gv).bind(this));O(this,Gc,null);O(this,Xe,null);O(this,Er,null);O(this,ld,null);O(this,lm,null);O(this,cm,null);O(this,cd,null);O(this,Sr,!1);O(this,js,null);O(this,Tr,null);O(this,um,null);O(this,Cr,null);O(this,hm,null);O(this,$c,null);O(this,Xc,!1);var A;T(this,Xe,t),T(this,hm,r),T(this,Er,c),T(this,Cr,h),T(this,cm,d),T(this,Gc,e),T(this,um,m),T(this,cd,v),T(this,lm,i),T(this,ld,sx.toDateObject(o)),this.trigger=i.flatMap(w=>w.getElementsToTriggerPopup());for(const w of this.trigger)w.addEventListener("click",f(this,od)),w.addEventListener("mouseenter",f(this,Uy)),w.addEventListener("mouseleave",f(this,Fy)),w.classList.add("popupTriggerArea");for(const w of i)(A=w.container)==null||A.addEventListener("keydown",f(this,rd));f(this,Xe).hidden=!0,b&&R(this,we,Gv).call(this)}render(){if(f(this,js))return;const t=T(this,js,document.createElement("div"));if(t.className="popup",f(this,Gc)){const o=t.style.outlineColor=Rt.makeHexColor(...f(this,Gc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=Rt.makeHexColor(...f(this,Gc).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=f(this,hm),t.append(e),f(this,ld)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:f(this,ld).valueOf()})),e.append(o)}const r=f(this,we,qv);if(r)Sk.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(f(this,Er));t.append(o)}f(this,Xe).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const h=r[o];i.append(document.createTextNode(h)),o<c-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;f(this,$c)||T(this,$c,{contentsObj:f(this,Er),richText:f(this,Cr)}),t&&T(this,Tr,null),e&&(T(this,Cr,R(this,we,Mk).call(this,e)),T(this,Er,null)),(i=f(this,js))==null||i.remove(),T(this,js,null)}resetEdited(){var t;f(this,$c)&&({contentsObj:tn(this,Er)._,richText:tn(this,Cr)._}=f(this,$c),T(this,$c,null),(t=f(this,js))==null||t.remove(),T(this,js,null),T(this,Tr,null))}forceHide(){T(this,Xc,this.isVisible),f(this,Xc)&&(f(this,Xe).hidden=!0)}maybeShow(){f(this,Xc)&&(f(this,js)||R(this,we,$v).call(this),T(this,Xc,!1),f(this,Xe).hidden=!1)}get isVisible(){return f(this,Xe).hidden===!1}}rd=new WeakMap,Fy=new WeakMap,Uy=new WeakMap,od=new WeakMap,Gc=new WeakMap,Xe=new WeakMap,Er=new WeakMap,ld=new WeakMap,lm=new WeakMap,cm=new WeakMap,cd=new WeakMap,Sr=new WeakMap,js=new WeakMap,Tr=new WeakMap,um=new WeakMap,Cr=new WeakMap,hm=new WeakMap,$c=new WeakMap,Xc=new WeakMap,we=new WeakSet,qv=function(){const t=f(this,Cr),e=f(this,Er);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&f(this,Cr).html||null},q_=function(){var t,e,i;return((i=(e=(t=f(this,we,qv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},Dk=function(){var t,e,i;return((i=(e=(t=f(this,we,qv))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},Mk=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:f(this,we,Dk),fontSize:f(this,we,q_)?`calc(${f(this,we,q_)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i},Ok=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&f(this,Sr))&&R(this,we,Gv).call(this)},Lk=function(){if(f(this,Tr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=f(this,cm);let c=!!f(this,cd),h=c?f(this,cd):f(this,um);for(const E of f(this,lm))if(!h||Rt.intersect(E.data.rect,h)!==null){h=E.data.rect,c=!0;break}const d=Rt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),v=c?h[2]-h[0]+5:0,b=d[0]+v,A=d[1];T(this,Tr,[100*(b-r)/e,100*(A-o)/i]);const{style:w}=f(this,Xe);w.left=`${f(this,Tr)[0]}%`,w.top=`${f(this,Tr)[1]}%`},Gv=function(){T(this,Sr,!f(this,Sr)),f(this,Sr)?(R(this,we,$v).call(this),f(this,Xe).addEventListener("click",f(this,od)),f(this,Xe).addEventListener("keydown",f(this,rd))):(R(this,we,G_).call(this),f(this,Xe).removeEventListener("click",f(this,od)),f(this,Xe).removeEventListener("keydown",f(this,rd)))},$v=function(){f(this,js)||this.render(),this.isVisible?f(this,Sr)&&f(this,Xe).classList.add("focused"):(R(this,we,Lk).call(this),f(this,Xe).hidden=!1,f(this,Xe).style.zIndex=parseInt(f(this,Xe).style.zIndex)+1e3)},G_=function(){f(this,Xe).classList.remove("focused"),!(f(this,Sr)||!this.isVisible)&&(f(this,Xe).hidden=!0,f(this,Xe).style.zIndex=parseInt(f(this,Xe).style.zIndex)-1e3)};class Ik extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var dm;class xF extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,dm,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:r}=Vr(e.rect),o=this.svgFactory.create(i,r,!0),c=T(this,dm,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,dm)}addHighlightArea(){this.container.classList.add("highlightArea")}}dm=new WeakMap;var fm;class EF extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,fm,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:r}=Vr(e.rect),o=this.svgFactory.create(i,r,!0),c=e.borderStyle.width,h=T(this,fm,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",i-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,fm)}addHighlightArea(){this.container.classList.add("highlightArea")}}fm=new WeakMap;var pm;class SF extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,pm,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:r}=Vr(e.rect),o=this.svgFactory.create(i,r,!0),c=e.borderStyle.width,h=T(this,pm,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",i/2),h.setAttribute("cy",r/2),h.setAttribute("rx",i/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,pm)}addHighlightArea(){this.container.classList.add("highlightArea")}}pm=new WeakMap;var mm;class Nk extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,mm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:o}}=this;if(!i)return this.container;const{width:c,height:h}=Vr(e),d=this.svgFactory.create(c,h,!0);let m=[];for(let b=0,A=i.length;b<A;b+=2){const w=i[b]-e[0],E=e[3]-i[b+1];m.push(`${w},${E}`)}m=m.join(" ");const v=T(this,mm,this.svgFactory.createElement(this.svgElementName));return v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),d.append(v),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return f(this,mm)}addHighlightArea(){this.container.classList.add("highlightArea")}}mm=new WeakMap;class TF extends Nk{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CF extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gm;class dx extends Je{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});O(this,gm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qt.HIGHLIGHT:qt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:r,popupRef:o}}=this,{width:c,height:h}=Vr(e),d=this.svgFactory.create(c,h,!0);for(const m of i){let v=[];for(let A=0,w=m.length;A<w;A+=2){const E=m[A]-e[0],C=e[3]-m[A+1];v.push(`${E},${C}`)}v=v.join(" ");const b=this.svgFactory.createElement(this.svgElementName);f(this,gm).push(b),b.setAttribute("points",v),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),d.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return f(this,gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}gm=new WeakMap;class Pk extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class RF extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class kF extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class DF extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class jk extends Je{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vm,ym,$_;class MF extends Je{constructor(e){var r;super(e,{isRenderable:!0});O(this,ym);O(this,vm,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",R(this,ym,$_).bind(this)),T(this,vm,r);const{isMac:o}=rn.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&R(this,ym,$_).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return f(this,vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}vm=new WeakMap,ym=new WeakSet,$_=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var bm,Yc,Wc,Am,bu,Fk,X_,TC;let OF=(TC=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:h}){O(this,bu);O(this,bm,null);O(this,Yc,null);O(this,Wc,new Map);O(this,Am,null);this.div=t,T(this,bm,e),T(this,Yc,i),T(this,Am,h||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return f(this,Wc).size>0}async render(t){var c;const{annotations:e}=t,i=this.div;mu(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new hx,annotationStorage:t.annotationStorage||new rx,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const d=h.annotationType===ui.POPUP;if(d){const b=r.get(h.id);if(!b)continue;o.elements=b}else{const{width:b,height:A}=Vr(h.rect);if(b<=0||A<=0)continue}o.data=h;const m=mF.create(o);if(!m.isRenderable)continue;if(!d&&h.popupRef){const b=r.get(h.popupRef);b?b.push(m):r.set(h.popupRef,[m])}const v=m.render();h.hidden&&(v.style.visibility="hidden"),await R(this,bu,Fk).call(this,v,h.id),m._isEditable&&(f(this,Wc).set(m.data.id,m),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(m))}R(this,bu,X_).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,mu(e,{rotation:t.rotation}),R(this,bu,X_).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(f(this,Wc).values())}getEditableAnnotation(t){return f(this,Wc).get(t)}},bm=new WeakMap,Yc=new WeakMap,Wc=new WeakMap,Am=new WeakMap,bu=new WeakSet,Fk=async function(t,e){var c,h;const i=t.firstChild||t,r=i.id=`${ex}${e}`,o=await((c=f(this,Am))==null?void 0:c.getAriaAttributes(r));if(o)for(const[d,m]of o)i.setAttribute(d,m);this.div.append(t),(h=f(this,bm))==null||h.moveElementInDOM(this.div,t,i,!1)},X_=function(){if(!f(this,Yc))return;const t=this.div;for(const[e,i]of f(this,Yc)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i)}f(this,Yc).clear()},TC);const Ev=/\r\n?|\n/g;var Fs,Fn,_m,Kc,Un,ai,Uk,Hk,zk,Xv,Gr,Yv,Wv,Bk,W_,Vk;const ke=class ke extends ge{constructor(e){super({...e,name:"freeTextEditor"});O(this,ai);O(this,Fs);O(this,Fn,"");O(this,_m,`${this.id}-editor`);O(this,Kc,null);O(this,Un);T(this,Fs,e.color||ke._defaultColor||ge._defaultLineColor),T(this,Un,e.fontSize||ke._defaultFontSize)}static get _keyboardManager(){const e=ke.prototype,i=c=>c.isEmpty(),r=gu.TRANSLATE_SMALL,o=gu.TRANSLATE_BIG;return te(this,"_keyboardManager",new Ym([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(e,i){ge.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Pt.FREETEXT_SIZE:ke._defaultFontSize=i;break;case Pt.FREETEXT_COLOR:ke._defaultColor=i;break}}updateParams(e,i){switch(e){case Pt.FREETEXT_SIZE:R(this,ai,Uk).call(this,i);break;case Pt.FREETEXT_COLOR:R(this,ai,Hk).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pt.FREETEXT_SIZE,ke._defaultFontSize],[Pt.FREETEXT_COLOR,ke._defaultColor||ge._defaultLineColor]]}get propertiesToUpdate(){return[[Pt.FREETEXT_SIZE,f(this,Un)],[Pt.FREETEXT_COLOR,f(this,Fs)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ke._internalPadding*e,-(ke._internalPadding+f(this,Un))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(qt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,Kc,new AbortController);const e=this._uiManager.combinedSignal(f(this,Kc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",f(this,_m)),this._isDraggable=!0,(e=f(this,Kc))==null||e.abort(),T(this,Kc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=f(this,Fn),i=T(this,Fn,R(this,ai,zk).call(this).trimEnd());if(e===i)return;const r=o=>{if(T(this,Fn,o),!o){this.remove();return}R(this,ai,Wv).call(this),this._uiManager.rebuild(this),R(this,ai,Xv).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),R(this,ai,Xv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ke._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",f(this,_m)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${f(this,Un)}px * var(--scale-factor))`,r.color=f(this,Fs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ay(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[d,m]=this.getInitialTranslation();[d,m]=this.pageTranslationToScreen(d,m);const[v,b]=this.pageDimensions,[A,w]=this.pageTranslation;let E,C;switch(this.rotation){case 0:E=e+(h[0]-A)/v,C=i+this.height-(h[1]-w)/b;break;case 90:E=e+(h[0]-A)/v,C=i-(h[1]-w)/b,[d,m]=[m,-d];break;case 180:E=e-this.width+(h[0]-A)/v,C=i-(h[1]-w)/b,[d,m]=[-d,-m];break;case 270:E=e+(h[0]-A-this.height*b)/v,C=i+(h[1]-w-this.width*v)/b,[d,m]=[-m,d];break}this.setAt(E*o,C*c,d,m)}else this.setAt(e*o,i*c,this.width*o,this.height*c);R(this,ai,Wv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,C,I;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=R(E=ke,Gr,W_).call(E,i.getData("text")||"").replaceAll(Ev,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:d,startOffset:m}=h,v=[],b=[];if(d.nodeType===Node.TEXT_NODE){const k=d.parentElement;if(b.push(d.nodeValue.slice(m).replaceAll(Ev,"")),k!==this.editorDiv){let z=v;for(const V of this.editorDiv.childNodes){if(V===k){z=b;continue}z.push(R(C=ke,Gr,Yv).call(C,V))}}v.push(d.nodeValue.slice(0,m).replaceAll(Ev,""))}else if(d===this.editorDiv){let k=v,z=0;for(const V of this.editorDiv.childNodes)z++===m&&(k=b),k.push(R(I=ke,Gr,Yv).call(I,V))}T(this,Fn,`${v.join(`
`)}${o}${b.join(`
`)}`),R(this,ai,Wv).call(this);const A=new Range;let w=v.reduce((k,z)=>k+z.length,0);for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const z=k.nodeValue.length;if(w<=z){A.setStart(k,w),A.setEnd(k,w);break}w-=z}c.removeAllRanges(),c.addRange(A)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var h;let o=null;if(e instanceof Ik){const{data:{defaultAppearanceData:{fontSize:d,fontColor:m},rect:v,rotation:b,id:A,popupRef:w},textContent:E,textPosition:C,parent:{page:{pageNumber:I}}}=e;if(!E||E.length===0)return null;o=e={annotationType:qt.FREETEXT,color:Array.from(m),fontSize:d,value:E.join(`
`),position:C,pageIndex:I-1,rect:v.slice(0),rotation:b,id:A,deleted:!1,popupRef:w}}const c=await super.deserialize(e,i,r);return T(c,Un,e.fontSize),T(c,Fs,Rt.makeHexColor(...e.color)),T(c,Fn,R(h=ke,Gr,W_).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=o,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ke._internalPadding*this.parentScale,r=this.getRect(i,i),o=ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:f(this,Fs)),c={annotationType:qt.FREETEXT,color:o,fontSize:f(this,Un),value:R(this,ai,Bk).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!R(this,ai,Vk).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${f(this,Un)}px * var(--scale-factor))`,r.color=f(this,Fs),i.replaceChildren();for(const c of f(this,Fn).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),i.append(h)}const o=ke._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:f(this,Fn)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Fs=new WeakMap,Fn=new WeakMap,_m=new WeakMap,Kc=new WeakMap,Un=new WeakMap,ai=new WeakSet,Uk=function(e){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-f(this,Un))*this.parentScale),T(this,Un,o),R(this,ai,Xv).call(this)},r=f(this,Un);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Hk=function(e){const i=o=>{T(this,Fs,this.editorDiv.style.color=o)},r=f(this,Fs);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zk=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const o of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(R(r=ke,Gr,Yv).call(r,o)),i=o);return e.join(`
`)},Xv=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,h=c.style.display,d=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},Gr=new WeakSet,Yv=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ev,"")},Wv=function(){if(this.editorDiv.replaceChildren(),!!f(this,Fn))for(const e of f(this,Fn).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},Bk=function(){return f(this,Fn).replaceAll(" "," ")},W_=function(e){return e.replaceAll(" "," ")},Vk=function(e){const{value:i,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((h,d)=>h!==o[d])||e.pageIndex!==c},O(ke,Gr),Nt(ke,"_freeTextDefaultContent",""),Nt(ke,"_internalPadding",0),Nt(ke,"_defaultColor",null),Nt(ke,"_defaultFontSize",10),Nt(ke,"_type","freetext"),Nt(ke,"_editorType",qt.FREETEXT);let Y_=ke;class qk{toSVGPath(){De("Abstract method `toSVGPath` must be implemented.")}get box(){De("Abstract getter `box` must be implemented.")}serialize(t,e){De("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){De("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){De("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Hn,Us,ud,hd,Ta,Wt,Qc,Zc,wm,xm,dd,fd,ll,Em,Hy,zy,mi,sp,Gk,$k,Xk,Yk,Wk,Kk;const fr=class fr{constructor({x:t,y:e},i,r,o,c,h=0){O(this,mi);O(this,Hn);O(this,Us,[]);O(this,ud);O(this,hd);O(this,Ta,[]);O(this,Wt,new Float64Array(18));O(this,Qc);O(this,Zc);O(this,wm);O(this,xm);O(this,dd);O(this,fd);O(this,ll,[]);T(this,Hn,i),T(this,fd,o*r),T(this,hd,c),f(this,Wt).set([NaN,NaN,NaN,NaN,t,e],6),T(this,ud,h),T(this,xm,f(fr,Em)*r),T(this,wm,f(fr,zy)*r),T(this,dd,r),f(this,ll).push(t,e)}isEmpty(){return isNaN(f(this,Wt)[8])}add({x:t,y:e}){var D;T(this,Qc,t),T(this,Zc,e);const[i,r,o,c]=f(this,Hn);let[h,d,m,v]=f(this,Wt).subarray(8,12);const b=t-m,A=e-v,w=Math.hypot(b,A);if(w<f(this,wm))return!1;const E=w-f(this,xm),C=E/w,I=C*b,k=C*A;let z=h,V=d;h=m,d=v,m+=I,v+=k,(D=f(this,ll))==null||D.push(t,e);const X=-k/E,K=I/E,Z=X*f(this,fd),P=K*f(this,fd);return f(this,Wt).set(f(this,Wt).subarray(2,8),0),f(this,Wt).set([m+Z,v+P],4),f(this,Wt).set(f(this,Wt).subarray(14,18),12),f(this,Wt).set([m-Z,v-P],16),isNaN(f(this,Wt)[6])?(f(this,Ta).length===0&&(f(this,Wt).set([h+Z,d+P],2),f(this,Ta).push(NaN,NaN,NaN,NaN,(h+Z-i)/o,(d+P-r)/c),f(this,Wt).set([h-Z,d-P],14),f(this,Us).push(NaN,NaN,NaN,NaN,(h-Z-i)/o,(d-P-r)/c)),f(this,Wt).set([z,V,h,d,m,v],6),!this.isEmpty()):(f(this,Wt).set([z,V,h,d,m,v],6),Math.abs(Math.atan2(V-d,z-h)-Math.atan2(k,I))<Math.PI/2?([h,d,m,v]=f(this,Wt).subarray(2,6),f(this,Ta).push(NaN,NaN,NaN,NaN,((h+m)/2-i)/o,((d+v)/2-r)/c),[h,d,z,V]=f(this,Wt).subarray(14,18),f(this,Us).push(NaN,NaN,NaN,NaN,((z+h)/2-i)/o,((V+d)/2-r)/c),!0):([z,V,h,d,m,v]=f(this,Wt).subarray(0,6),f(this,Ta).push(((z+5*h)/6-i)/o,((V+5*d)/6-r)/c,((5*h+m)/6-i)/o,((5*d+v)/6-r)/c,((h+m)/2-i)/o,((d+v)/2-r)/c),[m,v,h,d,z,V]=f(this,Wt).subarray(12,18),f(this,Us).push(((z+5*h)/6-i)/o,((V+5*d)/6-r)/c,((5*h+m)/6-i)/o,((5*d+v)/6-r)/c,((h+m)/2-i)/o,((d+v)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=f(this,Ta),e=f(this,Us);if(isNaN(f(this,Wt)[6])&&!this.isEmpty())return R(this,mi,Gk).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);R(this,mi,Xk).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return R(this,mi,$k).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,o,c){return new Qk(t,e,i,r,o,c)}getOutlines(){var b;const t=f(this,Ta),e=f(this,Us),i=f(this,Wt),[r,o,c,h]=f(this,Hn),d=new Float64Array((((b=f(this,ll))==null?void 0:b.length)??0)+2);for(let A=0,w=d.length-2;A<w;A+=2)d[A]=(f(this,ll)[A]-r)/c,d[A+1]=(f(this,ll)[A+1]-o)/h;if(d[d.length-2]=(f(this,Qc)-r)/c,d[d.length-1]=(f(this,Zc)-o)/h,isNaN(i[6])&&!this.isEmpty())return R(this,mi,Yk).call(this,d);const m=new Float64Array(f(this,Ta).length+24+f(this,Us).length);let v=t.length;for(let A=0;A<v;A+=2){if(isNaN(t[A])){m[A]=m[A+1]=NaN;continue}m[A]=t[A],m[A+1]=t[A+1]}v=R(this,mi,Kk).call(this,m,v);for(let A=e.length-6;A>=6;A-=6)for(let w=0;w<6;w+=2){if(isNaN(e[A+w])){m[v]=m[v+1]=NaN,v+=2;continue}m[v]=e[A+w],m[v+1]=e[A+w+1],v+=2}return R(this,mi,Wk).call(this,m,v),this.newFreeDrawOutline(m,d,f(this,Hn),f(this,dd),f(this,ud),f(this,hd))}};Hn=new WeakMap,Us=new WeakMap,ud=new WeakMap,hd=new WeakMap,Ta=new WeakMap,Wt=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,wm=new WeakMap,xm=new WeakMap,dd=new WeakMap,fd=new WeakMap,ll=new WeakMap,Em=new WeakMap,Hy=new WeakMap,zy=new WeakMap,mi=new WeakSet,sp=function(){const t=f(this,Wt).subarray(4,6),e=f(this,Wt).subarray(16,18),[i,r,o,c]=f(this,Hn);return[(f(this,Qc)+(t[0]-e[0])/2-i)/o,(f(this,Zc)+(t[1]-e[1])/2-r)/c,(f(this,Qc)+(e[0]-t[0])/2-i)/o,(f(this,Zc)+(e[1]-t[1])/2-r)/c]},Gk=function(){const[t,e,i,r]=f(this,Hn),[o,c,h,d]=R(this,mi,sp).call(this);return`M${(f(this,Wt)[2]-t)/i} ${(f(this,Wt)[3]-e)/r} L${(f(this,Wt)[4]-t)/i} ${(f(this,Wt)[5]-e)/r} L${o} ${c} L${h} ${d} L${(f(this,Wt)[16]-t)/i} ${(f(this,Wt)[17]-e)/r} L${(f(this,Wt)[14]-t)/i} ${(f(this,Wt)[15]-e)/r} Z`},$k=function(t){const e=f(this,Us);t.push(`L${e[4]} ${e[5]} Z`)},Xk=function(t){const[e,i,r,o]=f(this,Hn),c=f(this,Wt).subarray(4,6),h=f(this,Wt).subarray(16,18),[d,m,v,b]=R(this,mi,sp).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-i)/o} L${d} ${m} L${v} ${b} L${(h[0]-e)/r} ${(h[1]-i)/o}`)},Yk=function(t){const e=f(this,Wt),[i,r,o,c]=f(this,Hn),[h,d,m,v]=R(this,mi,sp).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(b,t,f(this,Hn),f(this,dd),f(this,ud),f(this,hd))},Wk=function(t,e){const i=f(this,Us);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},Kk=function(t,e){const i=f(this,Wt).subarray(4,6),r=f(this,Wt).subarray(16,18),[o,c,h,d]=f(this,Hn),[m,v,b,A]=R(this,mi,sp).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/h,(i[1]-c)/d,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,b,A,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-c)/d],e),e+=24},O(fr,Em,8),O(fr,Hy,2),O(fr,zy,f(fr,Em)+f(fr,Hy));let wy=fr;var pd,Jc,Rr,Sm,zn,Tm,Ze,En,ap,rp,Zk;class Qk extends qk{constructor(e,i,r,o,c,h){super();O(this,En);O(this,pd);O(this,Jc,null);O(this,Rr);O(this,Sm);O(this,zn);O(this,Tm);O(this,Ze);T(this,Ze,e),T(this,zn,i),T(this,pd,r),T(this,Tm,o),T(this,Rr,c),T(this,Sm,h),R(this,En,Zk).call(this,h);const{x:d,y:m,width:v,height:b}=f(this,Jc);for(let A=0,w=e.length;A<w;A+=2)e[A]=(e[A]-d)/v,e[A+1]=(e[A+1]-m)/b;for(let A=0,w=i.length;A<w;A+=2)i[A]=(i[A]-d)/v,i[A+1]=(i[A+1]-m)/b}toSVGPath(){const e=[`M${f(this,Ze)[4]} ${f(this,Ze)[5]}`];for(let i=6,r=f(this,Ze).length;i<r;i+=6){if(isNaN(f(this,Ze)[i])){e.push(`L${f(this,Ze)[i+4]} ${f(this,Ze)[i+5]}`);continue}e.push(`C${f(this,Ze)[i]} ${f(this,Ze)[i+1]} ${f(this,Ze)[i+2]} ${f(this,Ze)[i+3]} ${f(this,Ze)[i+4]} ${f(this,Ze)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,o],c){const h=r-e,d=o-i;let m,v;switch(c){case 0:m=R(this,En,ap).call(this,f(this,Ze),e,o,h,-d),v=R(this,En,ap).call(this,f(this,zn),e,o,h,-d);break;case 90:m=R(this,En,rp).call(this,f(this,Ze),e,i,h,d),v=R(this,En,rp).call(this,f(this,zn),e,i,h,d);break;case 180:m=R(this,En,ap).call(this,f(this,Ze),r,i,-h,d),v=R(this,En,ap).call(this,f(this,zn),r,i,-h,d);break;case 270:m=R(this,En,rp).call(this,f(this,Ze),r,o,-h,-d),v=R(this,En,rp).call(this,f(this,zn),r,o,-h,-d);break}return{outline:Array.from(m),points:[Array.from(v)]}}get box(){return f(this,Jc)}newOutliner(e,i,r,o,c,h=0){return new wy(e,i,r,o,c,h)}getNewOutline(e,i){const{x:r,y:o,width:c,height:h}=f(this,Jc),[d,m,v,b]=f(this,pd),A=c*v,w=h*b,E=r*v+d,C=o*b+m,I=this.newOutliner({x:f(this,zn)[0]*A+E,y:f(this,zn)[1]*w+C},f(this,pd),f(this,Tm),e,f(this,Sm),i??f(this,Rr));for(let k=2;k<f(this,zn).length;k+=2)I.add({x:f(this,zn)[k]*A+E,y:f(this,zn)[k+1]*w+C});return I.getOutlines()}get mustRemoveSelfIntersections(){return!0}}pd=new WeakMap,Jc=new WeakMap,Rr=new WeakMap,Sm=new WeakMap,zn=new WeakMap,Tm=new WeakMap,Ze=new WeakMap,En=new WeakSet,ap=function(e,i,r,o,c){const h=new Float64Array(e.length);for(let d=0,m=e.length;d<m;d+=2)h[d]=i+e[d]*o,h[d+1]=r+e[d+1]*c;return h},rp=function(e,i,r,o,c){const h=new Float64Array(e.length);for(let d=0,m=e.length;d<m;d+=2)h[d]=i+e[d+1]*o,h[d+1]=r+e[d]*c;return h},Zk=function(e){const i=f(this,Ze);let r=i[4],o=i[5],c=r,h=o,d=r,m=o,v=r,b=o;const A=e?Math.max:Math.min;for(let k=6,z=i.length;k<z;k+=6){if(isNaN(i[k]))c=Math.min(c,i[k+4]),h=Math.min(h,i[k+5]),d=Math.max(d,i[k+4]),m=Math.max(m,i[k+5]),b<i[k+5]?(v=i[k+4],b=i[k+5]):b===i[k+5]&&(v=A(v,i[k+4]));else{const V=Rt.bezierBoundingBox(r,o,...i.slice(k,k+6));c=Math.min(c,V[0]),h=Math.min(h,V[1]),d=Math.max(d,V[2]),m=Math.max(m,V[3]),b<V[3]?(v=V[2],b=V[3]):b===V[3]&&(v=A(v,V[2]))}r=i[k+4],o=i[k+5]}const w=c-f(this,Rr),E=h-f(this,Rr),C=d-c+2*f(this,Rr),I=m-h+2*f(this,Rr);T(this,Jc,{x:w,y:E,width:C,height:I,lastPoint:[v,b]})};var Cm,cl,Hs,ln,Jk,Kv,tD,eD,K_;class fC{constructor(t,e=0,i=0,r=!0){O(this,ln);O(this,Cm);O(this,cl,[]);O(this,Hs,[]);let o=1/0,c=-1/0,h=1/0,d=-1/0;const m=10**-4;for(const{x:I,y:k,width:z,height:V}of t){const X=Math.floor((I-e)/m)*m,K=Math.ceil((I+z+e)/m)*m,Z=Math.floor((k-e)/m)*m,P=Math.ceil((k+V+e)/m)*m,M=[X,Z,P,!0],D=[K,Z,P,!1];f(this,cl).push(M,D),o=Math.min(o,X),c=Math.max(c,K),h=Math.min(h,Z),d=Math.max(d,P)}const v=c-o+2*i,b=d-h+2*i,A=o-i,w=h-i,E=f(this,cl).at(r?-1:-2),C=[E[0],E[2]];for(const I of f(this,cl)){const[k,z,V]=I;I[0]=(k-A)/v,I[1]=(z-w)/b,I[2]=(V-w)/b}T(this,Cm,{x:A,y:w,width:v,height:b,lastPoint:C})}getOutlines(){f(this,cl).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of f(this,cl))e[3]?(t.push(...R(this,ln,K_).call(this,e)),R(this,ln,tD).call(this,e)):(R(this,ln,eD).call(this,e),t.push(...R(this,ln,K_).call(this,e)));return R(this,ln,Jk).call(this,t)}}Cm=new WeakMap,cl=new WeakMap,Hs=new WeakMap,ln=new WeakSet,Jk=function(t){const e=[],i=new Set;for(const c of t){const[h,d,m]=c;e.push([h,d,c],[h,m,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const d=e[c][2],m=e[c+1][2];d.push(m),m.push(d),i.add(d),i.add(m)}const r=[];let o;for(;i.size>0;){const c=i.values().next().value;let[h,d,m,v,b]=c;i.delete(c);let A=h,w=d;for(o=[h,m],r.push(o);;){let E;if(i.has(v))E=v;else if(i.has(b))E=b;else break;i.delete(E),[h,d,m,v,b]=E,A!==h&&(o.push(A,w,h,w===d?d:m),A=h),w=w===d?m:d}o.push(A,w)}return new LF(r,f(this,Cm))},Kv=function(t){const e=f(this,Hs);let i=0,r=e.length-1;for(;i<=r;){const o=i+r>>1,c=e[o][0];if(c===t)return o;c<t?i=o+1:r=o-1}return r+1},tD=function([,t,e]){const i=R(this,ln,Kv).call(this,t);f(this,Hs).splice(i,0,[t,e])},eD=function([,t,e]){const i=R(this,ln,Kv).call(this,t);for(let r=i;r<f(this,Hs).length;r++){const[o,c]=f(this,Hs)[r];if(o!==t)break;if(o===t&&c===e){f(this,Hs).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,c]=f(this,Hs)[r];if(o!==t)break;if(o===t&&c===e){f(this,Hs).splice(r,1);return}}},K_=function(t){const[e,i,r]=t,o=[[e,i,r]],c=R(this,ln,Kv).call(this,r);for(let h=0;h<c;h++){const[d,m]=f(this,Hs)[h];for(let v=0,b=o.length;v<b;v++){const[,A,w]=o[v];if(!(m<=A||w<=d)){if(A>=d){if(w>m)o[v][1]=m;else{if(b===1)return[];o.splice(v,1),v--,b--}continue}o[v][2]=d,w>m&&o.push([e,m,w])}}}return o};var Rm,md;class LF extends qk{constructor(e,i){super();O(this,Rm);O(this,md);T(this,md,e),T(this,Rm,i)}toSVGPath(){const e=[];for(const i of f(this,md)){let[r,o]=i;e.push(`M${r} ${o}`);for(let c=2;c<i.length;c+=2){const h=i[c],d=i[c+1];h===r?(e.push(`V${d}`),o=d):d===o&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,i,r,o],c){const h=[],d=r-e,m=o-i;for(const v of f(this,md)){const b=new Array(v.length);for(let A=0;A<v.length;A+=2)b[A]=e+v[A]*d,b[A+1]=o-v[A+1]*m;h.push(b)}return h}get box(){return f(this,Rm)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Rm=new WeakMap,md=new WeakMap;class Q_ extends wy{newFreeDrawOutline(t,e,i,r,o,c){return new IF(t,e,i,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class IF extends Qk{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,r,o,c=0){return new Q_(t,e,i,r,o,c)}}var zs,tu,gd,di,km,vd,Dm,Mm,ul,Bs,yd,Om,_e,Z_,J_,tw,lc,iD,jo;const vn=class vn{constructor({editor:t=null,uiManager:e=null}){O(this,_e);O(this,zs,null);O(this,tu,null);O(this,gd);O(this,di,null);O(this,km,!1);O(this,vd,!1);O(this,Dm,null);O(this,Mm);O(this,ul,null);O(this,Bs,null);O(this,yd);var i;t?(T(this,vd,!1),T(this,yd,Pt.HIGHLIGHT_COLOR),T(this,Dm,t)):(T(this,vd,!0),T(this,yd,Pt.HIGHLIGHT_DEFAULT_COLOR)),T(this,Bs,(t==null?void 0:t._uiManager)||e),T(this,Mm,f(this,Bs)._eventBus),T(this,gd,(t==null?void 0:t.color)||((i=f(this,Bs))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),f(vn,Om)||T(vn,Om,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return te(this,"_keyboardManager",new Ym([[["Escape","mac+Escape"],vn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vn.prototype._moveToPrevious],[["Home","mac+Home"],vn.prototype._moveToBeginning],[["End","mac+End"],vn.prototype._moveToEnd]]))}renderButton(){const t=T(this,zs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=f(this,Bs)._signal;t.addEventListener("click",R(this,_e,lc).bind(this),{signal:e}),t.addEventListener("keydown",R(this,_e,tw).bind(this),{signal:e});const i=T(this,tu,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=f(this,gd),t.append(i),t}renderMainDropdown(){const t=T(this,di,R(this,_e,Z_).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===f(this,zs)){R(this,_e,lc).call(this,t);return}const e=t.target.getAttribute("data-color");e&&R(this,_e,J_).call(this,e,t)}_moveToNext(t){var e,i;if(!f(this,_e,jo)){R(this,_e,lc).call(this,t);return}if(t.target===f(this,zs)){(e=f(this,di).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=f(this,di))==null?void 0:e.firstChild)||t.target===f(this,zs)){f(this,_e,jo)&&this._hideDropdownFromKeyboard();return}f(this,_e,jo)||R(this,_e,lc).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!f(this,_e,jo)){R(this,_e,lc).call(this,t);return}(e=f(this,di).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!f(this,_e,jo)){R(this,_e,lc).call(this,t);return}(e=f(this,di).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=f(this,di))==null||t.classList.add("hidden"),(e=f(this,ul))==null||e.abort(),T(this,ul,null)}_hideDropdownFromKeyboard(){var t;if(!f(this,vd)){if(!f(this,_e,jo)){(t=f(this,Dm))==null||t.unselect();return}this.hideDropdown(),f(this,zs).focus({preventScroll:!0,focusVisible:f(this,km)})}}updateColor(t){if(f(this,tu)&&(f(this,tu).style.backgroundColor=t),!f(this,di))return;const e=f(this,Bs).highlightColors.values();for(const i of f(this,di).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=f(this,zs))==null||t.remove(),T(this,zs,null),T(this,tu,null),(e=f(this,di))==null||e.remove(),T(this,di,null)}};zs=new WeakMap,tu=new WeakMap,gd=new WeakMap,di=new WeakMap,km=new WeakMap,vd=new WeakMap,Dm=new WeakMap,Mm=new WeakMap,ul=new WeakMap,Bs=new WeakMap,yd=new WeakMap,Om=new WeakMap,_e=new WeakSet,Z_=function(){const t=document.createElement("div"),e=f(this,Bs)._signal;t.addEventListener("contextmenu",As,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of f(this,Bs).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",f(vn,Om)[i]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===f(this,gd)),o.addEventListener("click",R(this,_e,J_).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",R(this,_e,tw).bind(this),{signal:e}),t},J_=function(t,e){e.stopPropagation(),f(this,Mm).dispatch("switchannotationeditorparams",{source:this,type:f(this,yd),value:t})},tw=function(t){vn._keyboardManager.exec(this,t)},lc=function(t){if(f(this,_e,jo)){this.hideDropdown();return}if(T(this,km,t.detail===0),f(this,ul)||(T(this,ul,new AbortController),window.addEventListener("pointerdown",R(this,_e,iD).bind(this),{signal:f(this,Bs).combinedSignal(f(this,ul))})),f(this,di)){f(this,di).classList.remove("hidden");return}const e=T(this,di,R(this,_e,Z_).call(this));f(this,zs).append(e)},iD=function(t){var e;(e=f(this,di))!=null&&e.contains(t.target)||this.hideDropdown()},jo=function(){return f(this,di)&&!f(this,di).classList.contains("hidden")},O(vn,Om,null);let xy=vn;var bd,Lm,kr,eu,Ad,ds,Im,Nm,iu,Vs,$i,An,_d,Dr,fi,wd,fs,Pm,Bt,ew,Qv,nD,sD,aD,iw,cc,gs,Ah,rD,Zv,op,oD,lD,cD,uD,hD;const ce=class ce extends ge{constructor(e){super({...e,name:"highlightEditor"});O(this,Bt);O(this,bd,null);O(this,Lm,0);O(this,kr);O(this,eu,null);O(this,Ad,null);O(this,ds,null);O(this,Im,null);O(this,Nm,0);O(this,iu,null);O(this,Vs,null);O(this,$i,null);O(this,An,!1);O(this,_d,null);O(this,Dr);O(this,fi,null);O(this,wd,"");O(this,fs);O(this,Pm,"");this.color=e.color||ce._defaultColor,T(this,fs,e.thickness||ce._defaultThickness),T(this,Dr,e.opacity||ce._defaultOpacity),T(this,kr,e.boxes||null),T(this,Pm,e.methodOfCreation||""),T(this,wd,e.text||""),this._isDraggable=!1,e.highlightId>-1?(T(this,An,!0),R(this,Bt,Qv).call(this,e),R(this,Bt,cc).call(this)):f(this,kr)&&(T(this,bd,e.anchorNode),T(this,Lm,e.anchorOffset),T(this,Im,e.focusNode),T(this,Nm,e.focusOffset),R(this,Bt,ew).call(this),R(this,Bt,cc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=ce.prototype;return te(this,"_keyboardManager",new Ym([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:f(this,An)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:f(this,fs),methodOfCreation:f(this,Pm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;ge.initialize(e,i),ce._defaultColor||(ce._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Pt.HIGHLIGHT_DEFAULT_COLOR:ce._defaultColor=i;break;case Pt.HIGHLIGHT_THICKNESS:ce._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return f(this,_d)}updateParams(e,i){switch(e){case Pt.HIGHLIGHT_COLOR:R(this,Bt,nD).call(this,i);break;case Pt.HIGHLIGHT_THICKNESS:R(this,Bt,sD).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pt.HIGHLIGHT_DEFAULT_COLOR,ce._defaultColor],[Pt.HIGHLIGHT_THICKNESS,ce._defaultThickness]]}get propertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,this.color||ce._defaultColor],[Pt.HIGHLIGHT_THICKNESS,f(this,fs)||ce._defaultThickness],[Pt.HIGHLIGHT_FREE,f(this,An)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(T(this,Ad,new xy({editor:this})),e.addColorPicker(f(this,Ad))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(R(this,Bt,op).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,R(this,Bt,op).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){R(this,Bt,iw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(R(this,Bt,cc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?R(this,Bt,iw).call(this):e&&(R(this,Bt,cc).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var o,c,h;const{drawLayer:i}=this.parent;let r;f(this,An)?(e=(e-this.rotation+360)%360,r=R(o=ce,gs,Ah).call(o,f(this,Vs).box,e)):r=R(c=ce,gs,Ah).call(c,this,e),i.rotate(f(this,$i),e),i.rotate(f(this,fi),e),i.updateBox(f(this,$i),r),i.updateBox(f(this,fi),R(h=ce,gs,Ah).call(h,f(this,ds).box,e))}render(){if(this.div)return this.div;const e=super.render();f(this,wd)&&(e.setAttribute("aria-label",f(this,wd)),e.setAttribute("role","mark")),f(this,An)?e.classList.add("free"):this.div.addEventListener("keydown",R(this,Bt,rD).bind(this),{signal:this._uiManager._signal});const i=T(this,iu,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=f(this,eu);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Ay(this,f(this,iu),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(f(this,fi),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(f(this,fi),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:R(this,Bt,Zv).call(this,!0);break;case 1:case 3:R(this,Bt,Zv).call(this,!1);break}}select(){var e,i;super.select(),f(this,fi)&&((e=this.parent)==null||e.drawLayer.removeClass(f(this,fi),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(f(this,fi),"selected"))}unselect(){var e;super.unselect(),f(this,fi)&&((e=this.parent)==null||e.drawLayer.removeClass(f(this,fi),"selected"),f(this,An)||R(this,Bt,Zv).call(this,!1))}get _mustFixPosition(){return!f(this,An)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(f(this,$i),e),this.parent.drawLayer.show(f(this,fi),e))}static startHighlighting(e,i,{target:r,x:o,y:c}){const{x:h,y:d,width:m,height:v}=r.getBoundingClientRect(),b=new AbortController,A=e.combinedSignal(b),w=C=>{C.preventDefault(),C.stopPropagation()},E=C=>{b.abort(),R(this,gs,uD).call(this,e,C)};window.addEventListener("blur",E,{signal:A}),window.addEventListener("pointerup",E,{signal:A}),window.addEventListener("pointerdown",w,{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",As,{signal:A}),r.addEventListener("pointermove",R(this,gs,cD).bind(this,e),{signal:A}),this._freeHighlight=new Q_({x:o,y:c},[h,d,m,v],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,r){var C,I,k,z;let o=null;if(e instanceof Pk){const{data:{quadPoints:V,rect:X,rotation:K,id:Z,color:P,opacity:M,popupRef:D},parent:{page:{pageNumber:j}}}=e;o=e={annotationType:qt.HIGHLIGHT,color:Array.from(P),opacity:M,quadPoints:V,boxes:null,pageIndex:j-1,rect:X.slice(0),rotation:K,id:Z,deleted:!1,popupRef:D}}else if(e instanceof dx){const{data:{inkLists:V,rect:X,rotation:K,id:Z,color:P,borderStyle:{rawWidth:M},popupRef:D},parent:{page:{pageNumber:j}}}=e;o=e={annotationType:qt.HIGHLIGHT,color:Array.from(P),thickness:M,inkLists:V,boxes:null,pageIndex:j-1,rect:X.slice(0),rotation:K,id:Z,deleted:!1,popupRef:D}}const{color:c,quadPoints:h,inkLists:d,opacity:m}=e,v=await super.deserialize(e,i,r);v.color=Rt.makeHexColor(...c),T(v,Dr,m||1),d&&T(v,fs,e.thickness),v.annotationElementId=e.id||null,v._initialData=o;const[b,A]=v.pageDimensions,[w,E]=v.pageTranslation;if(h){const V=T(v,kr,[]);for(let X=0;X<h.length;X+=8)V.push({x:(h[X]-w)/b,y:1-(h[X+1]-E)/A,width:(h[X+2]-h[X])/b,height:(h[X+1]-h[X+5])/A});R(C=v,Bt,ew).call(C),R(I=v,Bt,cc).call(I),v.rotate(v.rotation)}else if(d){T(v,An,!0);const V=d[0],X={x:V[0]-w,y:A-(V[1]-E)},K=new Q_(X,[0,0,b,A],1,f(v,fs)/2,!0,.001);for(let M=0,D=V.length;M<D;M+=2)X.x=V[M]-w,X.y=A-(V[M+1]-E),K.add(X);const{id:Z,clipPathId:P}=i.drawLayer.draw(K,v.color,v._defaultOpacity,!0);R(k=v,Bt,Qv).call(k,{highlightOutlines:K.getOutlines(),highlightId:Z,clipPathId:P}),R(z=v,Bt,cc).call(z)}return v}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=ge._colorManager.convert(this.color),o={annotationType:qt.HIGHLIGHT,color:r,opacity:f(this,Dr),thickness:f(this,fs),quadPoints:R(this,Bt,oD).call(this),outlines:R(this,Bt,lD).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:R(this,Bt,op).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!R(this,Bt,hD).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};bd=new WeakMap,Lm=new WeakMap,kr=new WeakMap,eu=new WeakMap,Ad=new WeakMap,ds=new WeakMap,Im=new WeakMap,Nm=new WeakMap,iu=new WeakMap,Vs=new WeakMap,$i=new WeakMap,An=new WeakMap,_d=new WeakMap,Dr=new WeakMap,fi=new WeakMap,wd=new WeakMap,fs=new WeakMap,Pm=new WeakMap,Bt=new WeakSet,ew=function(){const e=new fC(f(this,kr),.001);T(this,Vs,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=f(this,Vs).box;const i=new fC(f(this,kr),.0025,.001,this._uiManager.direction==="ltr");T(this,ds,i.getOutlines());const{lastPoint:r}=f(this,ds).box;T(this,_d,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Qv=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var b,A;if(T(this,Vs,e),T(this,ds,e.getNewOutline(f(this,fs)/2+1.5,.0025)),i>=0)T(this,$i,i),T(this,eu,r),this.parent.drawLayer.finalizeLine(i,e),T(this,fi,this.parent.drawLayer.drawOutline(f(this,ds)));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(f(this,$i),e),this.parent.drawLayer.updateBox(f(this,$i),R(b=ce,gs,Ah).call(b,f(this,Vs).box,(w-this.rotation+360)%360)),this.parent.drawLayer.updateLine(f(this,fi),f(this,ds)),this.parent.drawLayer.updateBox(f(this,fi),R(A=ce,gs,Ah).call(A,f(this,ds).box,w))}const{x:c,y:h,width:d,height:m}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=d,this.height=m;break;case 90:{const[w,E]=this.parentDimensions;this.x=h,this.y=1-c,this.width=d*E/w,this.height=m*w/E;break}case 180:this.x=1-c,this.y=1-h,this.width=d,this.height=m;break;case 270:{const[w,E]=this.parentDimensions;this.x=1-h,this.y=c,this.width=d*E/w,this.height=m*w/E;break}}const{lastPoint:v}=f(this,ds).box;T(this,_d,[(v[0]-c)/d,(v[1]-h)/m])},nD=function(e){const i=(c,h)=>{var d,m,v;this.color=c,(d=this.parent)==null||d.drawLayer.changeColor(f(this,$i),c),(m=f(this,Ad))==null||m.updateColor(c),T(this,Dr,h),(v=this.parent)==null||v.drawLayer.changeOpacity(f(this,$i),h)},r=this.color,o=f(this,Dr);this.addCommands({cmd:i.bind(this,e,ce._defaultOpacity),undo:i.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},sD=function(e){const i=f(this,fs),r=o=>{T(this,fs,o),R(this,Bt,aD).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},aD=function(e){if(!f(this,An))return;R(this,Bt,Qv).call(this,{highlightOutlines:f(this,Vs).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},iw=function(){f(this,$i)===null||!this.parent||(this.parent.drawLayer.remove(f(this,$i)),T(this,$i,null),this.parent.drawLayer.remove(f(this,fi)),T(this,fi,null))},cc=function(e=this.parent){f(this,$i)===null&&({id:tn(this,$i)._,clipPathId:tn(this,eu)._}=e.drawLayer.draw(f(this,Vs),this.color,f(this,Dr)),T(this,fi,e.drawLayer.drawOutline(f(this,ds))),f(this,iu)&&(f(this,iu).style.clipPath=f(this,eu)))},gs=new WeakSet,Ah=function({x:e,y:i,width:r,height:o},c){switch(c){case 90:return{x:1-i-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-i-o,width:r,height:o};case 270:return{x:i,y:1-e-r,width:o,height:r}}return{x:e,y:i,width:r,height:o}},rD=function(e){ce._keyboardManager.exec(this,e)},Zv=function(e){if(!f(this,bd))return;const i=window.getSelection();e?i.setPosition(f(this,bd),f(this,Lm)):i.setPosition(f(this,Im),f(this,Nm))},op=function(){return f(this,An)?this.rotation:0},oD=function(){if(f(this,An))return null;const[e,i]=this.pageDimensions,[r,o]=this.pageTranslation,c=f(this,kr),h=new Float32Array(c.length*8);let d=0;for(const{x:m,y:v,width:b,height:A}of c){const w=m*e+r,E=(1-v-A)*i+o;h[d]=h[d+4]=w,h[d+1]=h[d+3]=E,h[d+2]=h[d+6]=w+b*e,h[d+5]=h[d+7]=E+A*i,d+=8}return h},lD=function(e){return f(this,Vs).serialize(e,R(this,Bt,op).call(this))},cD=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},uD=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},hD=function(e){const{color:i}=this._initialData;return e.color.some((r,o)=>r!==i[o])},O(ce,gs),Nt(ce,"_defaultColor",null),Nt(ce,"_defaultOpacity",1),Nt(ce,"_defaultThickness",12),Nt(ce,"_type","highlight"),Nt(ce,"_editorType",qt.HIGHLIGHT),Nt(ce,"_freeHighlightId",-1),Nt(ce,"_freeHighlight",null),Nt(ce,"_freeHighlightClipId","");let Ey=ce;var nu,su,Ca,Mr,ps,au,ru,ou,Or,xd,lu,cu,hl,yt,dD,fD,pD,mD,sw,gD,aw,vD,yD,bD,AD,_D,uc,rw,ow,lw,Jv,ty,_h,cw,ey,Kr,wD,uw,xD,ED,hw,iy,lp;const je=class je extends ge{constructor(e){super({...e,name:"inkEditor"});O(this,yt);O(this,nu,0);O(this,su,0);O(this,Ca,null);O(this,Mr,new Path2D);O(this,ps,!1);O(this,au,null);O(this,ru,!1);O(this,ou,!1);O(this,Or,null);O(this,xd,null);O(this,lu,0);O(this,cu,0);O(this,hl,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){ge.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case Pt.INK_THICKNESS:je._defaultThickness=i;break;case Pt.INK_COLOR:je._defaultColor=i;break;case Pt.INK_OPACITY:je._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case Pt.INK_THICKNESS:R(this,yt,dD).call(this,i);break;case Pt.INK_COLOR:R(this,yt,fD).call(this,i);break;case Pt.INK_OPACITY:R(this,yt,pD).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Pt.INK_THICKNESS,je._defaultThickness],[Pt.INK_COLOR,je._defaultColor||ge._defaultLineColor],[Pt.INK_OPACITY,Math.round(je._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Pt.INK_THICKNESS,this.thickness||je._defaultThickness],[Pt.INK_COLOR,this.color||je._defaultColor||ge._defaultLineColor],[Pt.INK_OPACITY,Math.round(100*(this.opacity??je._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(R(this,yt,Jv).call(this),R(this,yt,ty).call(this)),this.isAttachedToDOM||(this.parent.add(this),R(this,yt,_h).call(this)),R(this,yt,lp).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,Ca)&&(clearTimeout(f(this,Ca)),T(this,Ca,null)),(e=f(this,Or))==null||e.disconnect(),T(this,Or,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,r=this.width*e,o=this.height*i;this.setDimensions(r,o)}enableEditMode(){f(this,ps)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,R(this,yt,rw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),R(this,yt,ow).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,ps)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),T(this,ps,!0),this.div.classList.add("disabled"),R(this,yt,lp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||f(this,ps)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),R(this,yt,gD).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),R(this,yt,aw).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),R(this,yt,lw).call(this,e)}canvasPointerleave(e){R(this,yt,lw).call(this,e)}get isResizable(){return!this.isEmpty()&&f(this,ps)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,h]=R(this,yt,mD).call(this);if(this.setAt(r,o,0,0),this.setDims(c,h),R(this,yt,Jv).call(this),this.width){const[d,m]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*m),this.setAt(e*d,i*m,this.width*d,this.height*m),T(this,ou,!0),R(this,yt,_h).call(this),this.setDims(this.width*d,this.height*m),R(this,yt,uc).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return R(this,yt,ty).call(this),this.div}setDimensions(e,i){const r=Math.round(e),o=Math.round(i);if(f(this,lu)===r&&f(this,cu)===o)return;T(this,lu,r),T(this,cu,o),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=i/h,this.fixAndSetPosition(),f(this,ps)&&R(this,yt,cw).call(this,e,i),R(this,yt,_h).call(this),R(this,yt,uc).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,r){var I,k,z;if(e instanceof dx)return null;const o=await super.deserialize(e,i,r);o.thickness=e.thickness,o.color=Rt.makeHexColor(...e.color),o.opacity=e.opacity;const[c,h]=o.pageDimensions,d=o.width*c,m=o.height*h,v=o.parentScale,b=e.thickness/2;T(o,ps,!0),T(o,lu,Math.round(d)),T(o,cu,Math.round(m));const{paths:A,rect:w,rotation:E}=e;for(let{bezier:V}of A){V=R(I=je,Kr,xD).call(I,V,w,E);const X=[];o.paths.push(X);let K=v*(V[0]-b),Z=v*(V[1]-b);for(let M=2,D=V.length;M<D;M+=6){const j=v*(V[M]-b),U=v*(V[M+1]-b),$=v*(V[M+2]-b),F=v*(V[M+3]-b),mt=v*(V[M+4]-b),bt=v*(V[M+5]-b);X.push([[K,Z],[j,U],[$,F],[mt,bt]]),K=mt,Z=bt}const P=R(this,Kr,wD).call(this,X);o.bezierPath2D.push(P)}const C=R(k=o,yt,hw).call(k);return T(o,su,Math.max(ge.MIN_SIZE,C[2]-C[0])),T(o,nu,Math.max(ge.MIN_SIZE,C[3]-C[1])),R(z=o,yt,cw).call(z,d,m),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=ge._colorManager.convert(this.ctx.strokeStyle);return{annotationType:qt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:R(this,yt,ED).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};nu=new WeakMap,su=new WeakMap,Ca=new WeakMap,Mr=new WeakMap,ps=new WeakMap,au=new WeakMap,ru=new WeakMap,ou=new WeakMap,Or=new WeakMap,xd=new WeakMap,lu=new WeakMap,cu=new WeakMap,hl=new WeakMap,yt=new WeakSet,dD=function(e){const i=o=>{this.thickness=o,R(this,yt,lp).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},fD=function(e){const i=o=>{this.color=o,R(this,yt,uc).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pD=function(e){const i=o=>{this.opacity=o,R(this,yt,uc).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},mD=function(){const{parentRotation:e,parentDimensions:[i,r]}=this;switch(e){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},sw=function(){const{ctx:e,color:i,opacity:r,thickness:o,parentScale:c,scaleFactor:h}=this;e.lineWidth=o*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${ij(r)}`},gD=function(e,i){this.canvas.addEventListener("contextmenu",As,{signal:this._uiManager._signal}),R(this,yt,ow).call(this),T(this,au,new AbortController);const r=this._uiManager.combinedSignal(f(this,au));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,f(this,ou)||(T(this,ou,!0),R(this,yt,_h).call(this),this.thickness||(this.thickness=je._defaultThickness),this.color||(this.color=je._defaultColor||ge._defaultLineColor),this.opacity??(this.opacity=je._defaultOpacity)),this.currentPath.push([e,i]),T(this,ru,!1),R(this,yt,sw).call(this),T(this,hl,()=>{R(this,yt,bD).call(this),f(this,hl)&&window.requestAnimationFrame(f(this,hl))}),window.requestAnimationFrame(f(this,hl))},aw=function(e,i){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&i===o)return;const c=this.currentPath;let h=f(this,Mr);if(c.push([e,i]),T(this,ru,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,i);return}c.length===3&&(T(this,Mr,h=new Path2D),h.moveTo(...c[0])),R(this,yt,AD).call(this,h,...c.at(-3),...c.at(-2),e,i)},vD=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);f(this,Mr).lineTo(...e)},yD=function(e,i){T(this,hl,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),R(this,yt,aw).call(this,e,i),R(this,yt,vD).call(this);let r;if(this.currentPath.length!==1)r=R(this,yt,_D).call(this);else{const m=[e,i];r=[[m,m.slice(),m.slice(),m]]}const o=f(this,Mr),c=this.currentPath;this.currentPath=[],T(this,Mr,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(R(this,yt,Jv).call(this),R(this,yt,ty).call(this)),R(this,yt,lp).call(this))};this.addCommands({cmd:h,undo:d,mustExec:!0})},bD=function(){if(!f(this,ru))return;T(this,ru,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(h=>h[0]),o=i.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(f(this,Mr)),c.restore()},AD=function(e,i,r,o,c,h,d){const m=(i+o)/2,v=(r+c)/2,b=(o+h)/2,A=(c+d)/2;e.bezierCurveTo(m+2*(o-m)/3,v+2*(c-v)/3,b+2*(o-b)/3,A+2*(c-A)/3,b,A)},_D=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let r,[o,c]=e[0];for(r=1;r<e.length-2;r++){const[w,E]=e[r],[C,I]=e[r+1],k=(w+C)/2,z=(E+I)/2,V=[o+2*(w-o)/3,c+2*(E-c)/3],X=[k+2*(w-k)/3,z+2*(E-z)/3];i.push([[o,c],V,X,[k,z]]),[o,c]=[k,z]}const[h,d]=e[r],[m,v]=e[r+1],b=[o+2*(h-o)/3,c+2*(d-c)/3],A=[m+2*(h-m)/3,v+2*(d-v)/3];return i.push([[o,c],b,A,[m,v]]),i},uc=function(){if(this.isEmpty()){R(this,yt,ey).call(this);return}R(this,yt,sw).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),R(this,yt,ey).call(this);for(const r of this.bezierPath2D)i.stroke(r)},rw=function(){if(f(this,xd))return;T(this,xd,new AbortController);const e=this._uiManager.combinedSignal(f(this,xd));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},ow=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},lw=function(e){var i;(i=f(this,au))==null||i.abort(),T(this,au,null),R(this,yt,rw).call(this),f(this,Ca)&&clearTimeout(f(this,Ca)),T(this,Ca,setTimeout(()=>{T(this,Ca,null),this.canvas.removeEventListener("contextmenu",As)},10)),R(this,yt,yD).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Jv=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ty=function(){T(this,Or,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),f(this,Or).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=f(this,Or))==null||e.disconnect(),T(this,Or,null)},{once:!0})},_h=function(){if(!f(this,ou))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),R(this,yt,ey).call(this)},cw=function(e,i){const r=R(this,yt,iy).call(this),o=(e-r)/f(this,su),c=(i-r)/f(this,nu);this.scaleFactor=Math.min(o,c)},ey=function(){const e=R(this,yt,iy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Kr=new WeakSet,wD=function(e){const i=new Path2D;for(let r=0,o=e.length;r<o;r++){const[c,h,d,m]=e[r];r===0&&i.moveTo(...c),i.bezierCurveTo(h[0],h[1],d[0],d[1],m[0],m[1])}return i},uw=function(e,i,r){const[o,c,h,d]=i;switch(r){case 0:for(let m=0,v=e.length;m<v;m+=2)e[m]+=o,e[m+1]=d-e[m+1];break;case 90:for(let m=0,v=e.length;m<v;m+=2){const b=e[m];e[m]=e[m+1]+o,e[m+1]=b+c}break;case 180:for(let m=0,v=e.length;m<v;m+=2)e[m]=h-e[m],e[m+1]+=c;break;case 270:for(let m=0,v=e.length;m<v;m+=2){const b=e[m];e[m]=h-e[m+1],e[m+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},xD=function(e,i,r){const[o,c,h,d]=i;switch(r){case 0:for(let m=0,v=e.length;m<v;m+=2)e[m]-=o,e[m+1]=d-e[m+1];break;case 90:for(let m=0,v=e.length;m<v;m+=2){const b=e[m];e[m]=e[m+1]-c,e[m+1]=b-o}break;case 180:for(let m=0,v=e.length;m<v;m+=2)e[m]=h-e[m],e[m+1]-=c;break;case 270:for(let m=0,v=e.length;m<v;m+=2){const b=e[m];e[m]=d-e[m+1],e[m+1]=h-b}break;default:throw new Error("Invalid rotation")}return e},ED=function(e,i,r,o){var v,b;const c=[],h=this.thickness/2,d=e*i+h,m=e*r+h;for(const A of this.paths){const w=[],E=[];for(let C=0,I=A.length;C<I;C++){const[k,z,V,X]=A[C];if(k[0]===X[0]&&k[1]===X[1]&&I===1){const F=e*k[0]+d,mt=e*k[1]+m;w.push(F,mt),E.push(F,mt);break}const K=e*k[0]+d,Z=e*k[1]+m,P=e*z[0]+d,M=e*z[1]+m,D=e*V[0]+d,j=e*V[1]+m,U=e*X[0]+d,$=e*X[1]+m;C===0&&(w.push(K,Z),E.push(K,Z)),w.push(P,M,D,j,U,$),E.push(P,M),C===I-1&&E.push(U,$)}c.push({bezier:R(v=je,Kr,uw).call(v,w,o,this.rotation),points:R(b=je,Kr,uw).call(b,E,o,this.rotation)})}return c},hw=function(){let e=1/0,i=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[h,d,m,v]of c){const b=Rt.bezierBoundingBox(...h,...d,...m,...v);e=Math.min(e,b[0]),r=Math.min(r,b[1]),i=Math.max(i,b[2]),o=Math.max(o,b[3])}return[e,r,i,o]},iy=function(){return f(this,ps)?Math.ceil(this.thickness*this.parentScale):0},lp=function(e=!1){if(this.isEmpty())return;if(!f(this,ps)){R(this,yt,uc).call(this);return}const i=R(this,yt,hw).call(this),r=R(this,yt,iy).call(this);T(this,su,Math.max(ge.MIN_SIZE,i[2]-i[0])),T(this,nu,Math.max(ge.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(r+f(this,su)*this.scaleFactor),c=Math.ceil(r+f(this,nu)*this.scaleFactor),[h,d]=this.parentDimensions;this.width=o/h,this.height=c/d,this.setAspectRatio(o,c);const m=this.translationX,v=this.translationY;this.translationX=-i[0],this.translationY=-i[1],R(this,yt,_h).call(this),R(this,yt,uc).call(this),T(this,lu,o),T(this,cu,c),this.setDims(o,c);const b=e?r/this.scaleFactor/2:0;this.translate(m-this.translationX-b,v-this.translationY-b)},O(je,Kr),Nt(je,"_defaultColor",null),Nt(je,"_defaultOpacity",1),Nt(je,"_defaultThickness",1),Nt(je,"_type","ink"),Nt(je,"_editorType",qt.INK);let nw=je;var Ue,Pi,dl,Lr,fl,Ed,Ra,Ir,ka,Bn,Sd,Zt,cp,up,ny,fw,SD,sy,pw,ay,TD,CD;const vp=class vp extends ge{constructor(e){super({...e,name:"stampEditor"});O(this,Zt);O(this,Ue,null);O(this,Pi,null);O(this,dl,null);O(this,Lr,null);O(this,fl,null);O(this,Ed,"");O(this,Ra,null);O(this,Ir,null);O(this,ka,null);O(this,Bn,!1);O(this,Sd,!1);T(this,Lr,e.bitmapUrl),T(this,fl,e.bitmapFile)}static initialize(e,i){ge.initialize(e,i)}static get supportedTypes(){return te(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return te(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(qt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:c,height:h,channels:o.length/(c*h)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const m=d.output;return await this.setGuessedAltText(m),i&&!this.hasAltTextData()&&(this.altTextData={alt:m,decorative:!1}),m}remove(){var e,i;f(this,Pi)&&(T(this,Ue,null),this._uiManager.imageManager.deleteId(f(this,Pi)),(e=f(this,Ra))==null||e.remove(),T(this,Ra,null),(i=f(this,Ir))==null||i.disconnect(),T(this,Ir,null),f(this,ka)&&(clearTimeout(f(this,ka)),T(this,ka,null))),super.remove()}rebuild(){if(!this.parent){f(this,Pi)&&R(this,Zt,ny).call(this);return}super.rebuild(),this.div!==null&&(f(this,Pi)&&f(this,Ra)===null&&R(this,Zt,ny).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(f(this,dl)||f(this,Ue)||f(this,Lr)||f(this,fl)||f(this,Pi))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),f(this,Ue)?R(this,Zt,fw).call(this):R(this,Zt,ny).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,i*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,i,r=!1){var w;e||(e=224);const{width:o,height:c}=f(this,Ue),h=new l_;let d=f(this,Ue),m=o,v=c,b=null;if(i){if(o>i||c>i){const M=Math.min(i/o,i/c);m=Math.floor(o*M),v=Math.floor(c*M)}b=document.createElement("canvas");const E=b.width=Math.ceil(m*h.sx),C=b.height=Math.ceil(v*h.sy);f(this,Bn)||(d=R(this,Zt,sy).call(this,E,C));const I=b.getContext("2d");I.filter=this._uiManager.hcmFilter;let k="white",z="#cfcfd8";this._uiManager.hcmFilter!=="none"?z="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(k="#8f8f9d",z="#42414d");const V=15,X=V*h.sx,K=V*h.sy,Z=new OffscreenCanvas(X*2,K*2),P=Z.getContext("2d");P.fillStyle=k,P.fillRect(0,0,X*2,K*2),P.fillStyle=z,P.fillRect(0,0,X,K),P.fillRect(X,K,X,K),I.fillStyle=I.createPattern(Z,"repeat"),I.fillRect(0,0,E,C),I.drawImage(d,0,0,d.width,d.height,0,0,E,C)}let A=null;if(r){let E,C;if(h.symmetric&&d.width<e&&d.height<e)E=d.width,C=d.height;else if(d=f(this,Ue),o>e||c>e){const z=Math.min(e/o,e/c);E=Math.floor(o*z),C=Math.floor(c*z),f(this,Bn)||(d=R(this,Zt,sy).call(this,E,C))}const k=new OffscreenCanvas(E,C).getContext("2d",{willReadFrequently:!0});k.drawImage(d,0,0,d.width,d.height,0,0,E,C),A={width:E,height:C,data:k.getImageData(0,0,E,C).data}}return{canvas:b,width:m,height:v,imageData:A}}getImageForAltText(){return f(this,Ra)}static async deserialize(e,i,r){var C;let o=null;if(e instanceof jk){const{data:{rect:I,rotation:k,id:z,structParent:V,popupRef:X},container:K,parent:{page:{pageNumber:Z}}}=e,P=K.querySelector("canvas"),M=r.imageManager.getFromCanvas(K.id,P);P.remove();const D=((C=await i._structTree.getAriaAttributes(`${ex}${z}`))==null?void 0:C.get("aria-label"))||"";o=e={annotationType:qt.STAMP,bitmapId:M.id,bitmap:M.bitmap,pageIndex:Z-1,rect:I.slice(0),rotation:k,id:z,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:V,popupRef:X}}const c=await super.deserialize(e,i,r),{rect:h,bitmap:d,bitmapUrl:m,bitmapId:v,isSvg:b,accessibilityData:A}=e;v&&r.imageManager.isValidId(v)?(T(c,Pi,v),d&&T(c,Ue,d)):T(c,Lr,m),T(c,Bn,b);const[w,E]=c.pageDimensions;return c.width=(h[2]-h[0])/w,c.height=(h[3]-h[1])/E,c.annotationElementId=e.id||null,A&&(c.altTextData=A),c._initialData=o,T(c,Sd,!!o),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:qt.STAMP,bitmapId:f(this,Pi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:f(this,Bn),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=R(this,Zt,ay).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const d=R(this,Zt,CD).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const h=f(this,Bn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(f(this,Pi)))i.stamps.set(f(this,Pi),{area:h,serialized:r}),r.bitmap=R(this,Zt,ay).call(this,!1);else if(f(this,Bn)){const d=i.stamps.get(f(this,Pi));h>d.area&&(d.area=h,d.serialized.bitmap.close(),d.serialized.bitmap=R(this,Zt,ay).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Ue=new WeakMap,Pi=new WeakMap,dl=new WeakMap,Lr=new WeakMap,fl=new WeakMap,Ed=new WeakMap,Ra=new WeakMap,Ir=new WeakMap,ka=new WeakMap,Bn=new WeakMap,Sd=new WeakMap,Zt=new WeakSet,cp=function(e,i=!1){if(!e){this.remove();return}T(this,Ue,e.bitmap),i||(T(this,Pi,e.id),T(this,Bn,e.isSvg)),e.file&&T(this,Ed,e.file.name),R(this,Zt,fw).call(this)},up=function(){if(T(this,dl,null),this._uiManager.enableWaiting(!1),!!f(this,Ra)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Ue)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&f(this,Ue)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ny=function(){if(f(this,Pi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(f(this,Pi)).then(r=>R(this,Zt,cp).call(this,r,!0)).finally(()=>R(this,Zt,up).call(this));return}if(f(this,Lr)){const r=f(this,Lr);T(this,Lr,null),this._uiManager.enableWaiting(!0),T(this,dl,this._uiManager.imageManager.getFromUrl(r).then(o=>R(this,Zt,cp).call(this,o)).finally(()=>R(this,Zt,up).call(this)));return}if(f(this,fl)){const r=f(this,fl);T(this,fl,null),this._uiManager.enableWaiting(!0),T(this,dl,this._uiManager.imageManager.getFromFile(r).then(o=>R(this,Zt,cp).call(this,o)).finally(()=>R(this,Zt,up).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=vp.supportedTypesStr;const i=this._uiManager._signal;T(this,dl,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),R(this,Zt,cp).call(this,o)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>R(this,Zt,up).call(this))),e.click()},fw=function(){const{div:e}=this;let{width:i,height:r}=f(this,Ue);const[o,c]=this.pageDimensions,h=.75;if(this.width)i=this.width*o,r=this.height*c;else if(i>h*o||r>h*c){const b=Math.min(h*o/i,h*c/r);i*=b,r*=b}const[d,m]=this.parentDimensions;this.setDims(i*d/o,r*m/c),this._uiManager.enableWaiting(!1);const v=T(this,Ra,document.createElement("canvas"));v.setAttribute("role","img"),this.addContainer(v),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),R(this,Zt,pw).call(this,i,r),R(this,Zt,TD).call(this),f(this,Sd)||(this.parent.addUndoableEditor(this),T(this,Sd,!0)),this._reportTelemetry({action:"inserted_image"}),f(this,Ed)&&v.setAttribute("aria-label",f(this,Ed))},SD=function(e,i){var h;const[r,o]=this.parentDimensions;this.width=e/r,this.height=i/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,f(this,ka)!==null&&clearTimeout(f(this,ka)),T(this,ka,setTimeout(()=>{T(this,ka,null),R(this,Zt,pw).call(this,e,i)},200))},sy=function(e,i){const{width:r,height:o}=f(this,Ue);let c=r,h=o,d=f(this,Ue);for(;c>2*e||h>2*i;){const m=c,v=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*i&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(c,h);b.getContext("2d").drawImage(d,0,0,m,v,0,0,c,h),d=b.transferToImageBitmap()}return d},pw=function(e,i){const r=new l_,o=Math.ceil(e*r.sx),c=Math.ceil(i*r.sy),h=f(this,Ra);if(!h||h.width===o&&h.height===c)return;h.width=o,h.height=c;const d=f(this,Bn)?f(this,Ue):R(this,Zt,sy).call(this,o,c),m=h.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(d,0,0,d.width,d.height,0,0,o,c)},ay=function(e){if(e){if(f(this,Bn)){const o=this._uiManager.imageManager.getSvgUrl(f(this,Pi));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=f(this,Ue),i.getContext("2d").drawImage(f(this,Ue),0,0),i.toDataURL()}if(f(this,Bn)){const[i,r]=this.pageDimensions,o=Math.round(this.width*i*Al.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Al.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,c);return h.getContext("2d").drawImage(f(this,Ue),0,0,f(this,Ue).width,f(this,Ue).height,0,0,o,c),h.transferToImageBitmap()}return structuredClone(f(this,Ue))},TD=function(){this._uiManager._signal&&(T(this,Ir,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&R(this,Zt,SD).call(this,i.width,i.height)})),f(this,Ir).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=f(this,Ir))==null||e.disconnect(),T(this,Ir,null)},{once:!0}))},CD=function(e){var m;const{rect:i,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=e.rect.every((v,b)=>Math.abs(v-i[b])<1),h=e.pageIndex===r,d=(((m=e.accessibilityData)==null?void 0:m.alt)||"")===o;return{isSame:c&&h&&d,isSameAltText:d}},Nt(vp,"_type","stamp"),Nt(vp,"_editorType",qt.STAMP);let dw=vp;var uu,Td,Da,pl,Nr,Vn,ml,Cd,Rd,Xi,Pr,Mt,gl,ji,RD,gw,vw,yw,ry;const ks=class ks{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:d,viewport:m,l10n:v}){O(this,ji);O(this,uu);O(this,Td,!1);O(this,Da,null);O(this,pl,null);O(this,Nr,null);O(this,Vn,new Map);O(this,ml,!1);O(this,Cd,!1);O(this,Rd,!1);O(this,Xi,null);O(this,Pr,null);O(this,Mt);const b=[...f(ks,gl).values()];if(!ks._initialized){ks._initialized=!0;for(const A of b)A.initialize(v,t)}t.registerEditorTypes(b),T(this,Mt,t),this.pageIndex=e,this.div=i,T(this,uu,o),T(this,Da,c),this.viewport=m,T(this,Xi,d),this.drawLayer=h,this._structTree=r,f(this,Mt).addLayer(this)}get isEmpty(){return f(this,Vn).size===0}get isInvisible(){return this.isEmpty&&f(this,Mt).getMode()===qt.NONE}updateToolbar(t){f(this,Mt).updateToolbar(t)}updateMode(t=f(this,Mt).getMode()){switch(R(this,ji,ry).call(this),t){case qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of f(ks,gl).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=f(this,Xi))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(f(this,Mt).getMode()!==qt.INK)return;if(!t){for(const i of f(this,Vn).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){f(this,Mt).setEditingState(t)}addCommands(t){f(this,Mt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=f(this,Da))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of f(this,Vn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(f(this,Mt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!f(this,Da))return;const e=f(this,Da).getEditableAnnotations();for(const i of e){if(i.hide(),f(this,Mt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;T(this,Rd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of f(this,Vn).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(f(this,Da)){const o=f(this,Da).getEditableAnnotations();for(const c of o){const{id:h}=c.data;if(f(this,Mt).isDeletedAnnotationElement(h))continue;let d=e.get(h);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=t.get(h),d&&(f(this,Mt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}R(this,ji,ry).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of f(ks,gl).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,Rd,!1)}getEditableAnnotation(t){var e;return((e=f(this,Da))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){f(this,Mt).getActive()!==t&&f(this,Mt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=f(this,Xi))!=null&&t.div&&!f(this,Pr)){T(this,Pr,new AbortController);const e=f(this,Mt).combinedSignal(f(this,Pr));f(this,Xi).div.addEventListener("pointerdown",R(this,ji,RD).bind(this),{signal:e}),f(this,Xi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=f(this,Xi))!=null&&t.div&&f(this,Pr)&&(f(this,Pr).abort(),T(this,Pr,null),f(this,Xi).div.classList.remove("highlighting"))}enableClick(){if(f(this,pl))return;T(this,pl,new AbortController);const t=f(this,Mt).combinedSignal(f(this,pl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=f(this,pl))==null||t.abort(),T(this,pl,null)}attach(t){f(this,Vn).set(t.id,t);const{annotationElementId:e}=t;e&&f(this,Mt).isDeletedAnnotationElement(e)&&f(this,Mt).removeDeletedAnnotationElement(t)}detach(t){var e;f(this,Vn).delete(t.id),(e=f(this,uu))==null||e.removePointerInTextLayer(t.contentDiv),!f(this,Rd)&&t.annotationElementId&&f(this,Mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),f(this,Mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,f(this,Cd)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(f(this,Mt).addDeletedAnnotationElement(t.annotationElementId),ge.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),f(this,Mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),f(this,Mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!f(this,Nr)&&(t._focusEventsAllowed=!1,T(this,Nr,setTimeout(()=>{T(this,Nr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:f(this,Mt)._signal}),e.focus())},0))),t._structTreeParentId=(i=f(this,uu))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return f(this,Mt).getId()}combinedSignal(t){return f(this,Mt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=f(this,ji,gw))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){f(this,Mt).updateToolbar(t),f(this,Mt).updateMode(t);const{offsetX:i,offsetY:r}=R(this,ji,yw).call(this),o=this.getNextId(),c=R(this,ji,vw).call(this,{parent:this,id:o,x:i,y:r,uiManager:f(this,Mt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=f(ks,gl).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,f(this,Mt)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),o=R(this,ji,vw).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:f(this,Mt),isCentered:e,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(R(this,ji,yw).call(this),!0)}setSelected(t){f(this,Mt).setSelected(t)}toggleSelected(t){f(this,Mt).toggleSelected(t)}unselect(t){f(this,Mt).unselect(t)}pointerup(t){const{isMac:e}=rn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&f(this,ml)){if(T(this,ml,!1),!f(this,Td)){T(this,Td,!0);return}if(f(this,Mt).getMode()===qt.STAMP){f(this,Mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(f(this,Mt).getMode()===qt.HIGHLIGHT&&this.enableTextSelection(),f(this,ml)){T(this,ml,!1);return}const{isMac:e}=rn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;T(this,ml,!0);const i=f(this,Mt).getActive();T(this,Td,!i||i.isEmpty())}findNewParent(t,e,i){const r=f(this,Mt).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=f(this,Mt).getActive())==null?void 0:t.parent)===this&&(f(this,Mt).commitOrRemove(),f(this,Mt).setActiveEditor(null)),f(this,Nr)&&(clearTimeout(f(this,Nr)),T(this,Nr,null));for(const i of f(this,Vn).values())(e=f(this,uu))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,f(this,Vn).clear(),f(this,Mt).removeLayer(this)}render({viewport:t}){this.viewport=t,mu(this.div,t);for(const e of f(this,Mt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){f(this,Mt).commitOrRemove(),R(this,ji,ry).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,mu(this.div,{rotation:i}),e!==i)for(const r of f(this,Vn).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return f(this,Mt).viewParameters.realScale}};uu=new WeakMap,Td=new WeakMap,Da=new WeakMap,pl=new WeakMap,Nr=new WeakMap,Vn=new WeakMap,ml=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,Xi=new WeakMap,Pr=new WeakMap,Mt=new WeakMap,gl=new WeakMap,ji=new WeakSet,RD=function(t){f(this,Mt).unselectAll();const{target:e}=t;if(e===f(this,Xi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&f(this,Xi).div.contains(e)){const{isMac:i}=rn.platform;if(t.button!==0||t.ctrlKey&&i)return;f(this,Mt).showAllEditors("highlight",!0,!0),f(this,Xi).div.classList.add("free"),this.toggleDrawing(),Ey.startHighlighting(this,f(this,Mt).direction==="ltr",{target:f(this,Xi).div,x:t.x,y:t.y}),f(this,Xi).div.addEventListener("pointerup",()=>{f(this,Xi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:f(this,Mt)._signal}),t.preventDefault()}},gw=function(){return f(ks,gl).get(f(this,Mt).getMode())},vw=function(t){const e=f(this,ji,gw);return e?new e.prototype.constructor(t):null},yw=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),m=(o+h)/2-t,v=(c+d)/2-e,[b,A]=this.viewport.rotation%180===0?[m,v]:[v,m];return{offsetX:b,offsetY:A}},ry=function(){T(this,Cd,!0);for(const t of f(this,Vn).values())t.isEmpty()&&t.remove();T(this,Cd,!1)},Nt(ks,"_initialized",!1),O(ks,gl,new Map([Y_,nw,dw,Ey].map(t=>[t._editorType,t])));let mw=ks;var Ma,jm,si,jr,Fm,Aw,Au,_w,kD;const Li=class Li{constructor({pageIndex:t}){O(this,Au);O(this,Ma,null);O(this,jm,0);O(this,si,new Map);O(this,jr,new Map);this.pageIndex=t}setParent(t){if(!f(this,Ma)){T(this,Ma,t);return}if(f(this,Ma)!==t){if(f(this,si).size>0)for(const e of f(this,si).values())e.remove(),t.append(e);T(this,Ma,t)}}static get _svgFactory(){return te(this,"_svgFactory",new hx)}draw(t,e,i,r=!1){const o=tn(this,jm)._++,c=R(this,Au,_w).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=Li._svgFactory.createElement("defs");c.append(h);const d=Li._svgFactory.createElement("path");h.append(d);const m=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",m),d.setAttribute("d",t.toSVGPath()),r&&f(this,jr).set(o,d);const v=R(this,Au,kD).call(this,h,m),b=Li._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",e),c.setAttribute("fill-opacity",i),b.setAttribute("href",`#${m}`),f(this,si).set(o,c),{id:o,clipPathId:`url(#${v})`}}drawOutline(t){const e=tn(this,jm)._++,i=R(this,Au,_w).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const r=Li._svgFactory.createElement("defs");i.append(r);const o=Li._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const v=Li._svgFactory.createElement("mask");r.append(v),h=`mask_p${this.pageIndex}_${e}`,v.setAttribute("id",h),v.setAttribute("maskUnits","objectBoundingBox");const b=Li._svgFactory.createElement("rect");v.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const A=Li._svgFactory.createElement("use");v.append(A),A.setAttribute("href",`#${c}`),A.setAttribute("stroke","none"),A.setAttribute("fill","black"),A.setAttribute("fill-rule","nonzero"),A.classList.add("mask")}const d=Li._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const m=d.cloneNode();return i.append(m),d.classList.add("mainOutline"),m.classList.add("secondaryOutline"),f(this,si).set(e,i),e}finalizeLine(t,e){const i=f(this,jr).get(t);f(this,jr).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){f(this,si).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){f(this,jr).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;R(i=Li,Fm,Aw).call(i,f(this,si).get(t),e)}show(t,e){f(this,si).get(t).classList.toggle("hidden",!e)}rotate(t,e){f(this,si).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){f(this,si).get(t).setAttribute("fill",e)}changeOpacity(t,e){f(this,si).get(t).setAttribute("fill-opacity",e)}addClass(t,e){f(this,si).get(t).classList.add(e)}removeClass(t,e){f(this,si).get(t).classList.remove(e)}getSVGRoot(t){return f(this,si).get(t)}remove(t){f(this,jr).delete(t),f(this,Ma)!==null&&(f(this,si).get(t).remove(),f(this,si).delete(t))}destroy(){T(this,Ma,null);for(const t of f(this,si).values())t.remove();f(this,si).clear(),f(this,jr).clear()}};Ma=new WeakMap,jm=new WeakMap,si=new WeakMap,jr=new WeakMap,Fm=new WeakSet,Aw=function(t,{x:e=0,y:i=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},Au=new WeakSet,_w=function(t){var i;const e=Li._svgFactory.create(1,1,!0);return f(this,Ma).append(e),e.setAttribute("aria-hidden",!0),R(i=Li,Fm,Aw).call(i,e,t),e},kD=function(t,e){const i=Li._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Li._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},O(Li,Fm);let bw=Li;var NF=Ut.AbortException,PF=Ut.AnnotationEditorLayer,jF=Ut.AnnotationEditorParamsType,FF=Ut.AnnotationEditorType,UF=Ut.AnnotationEditorUIManager,DD=Ut.AnnotationLayer,MD=Ut.AnnotationMode,HF=Ut.ColorPicker,zF=Ut.DOMSVGFactory,BF=Ut.DrawLayer,VF=Ut.FeatureTest,fx=Ut.GlobalWorkerOptions,qF=Ut.ImageKind,GF=Ut.InvalidPDFException,$F=Ut.MissingPDFException,XF=Ut.OPS,YF=Ut.OutputScale,WF=Ut.PDFDataRangeTransport,KF=Ut.PDFDateString,QF=Ut.PDFWorker,ZF=Ut.PasswordResponses,JF=Ut.PermissionFlag,t9=Ut.PixelsPerInch,e9=Ut.RenderingCancelledException,OD=Ut.TextLayer,i9=Ut.UnexpectedResponseException,n9=Ut.Util,s9=Ut.VerbosityLevel,a9=Ut.XfaLayer,r9=Ut.build,o9=Ut.createValidAbsoluteUrl,l9=Ut.fetchData,LD=Ut.getDocument,c9=Ut.getFilenameFromUrl,u9=Ut.getPdfFilenameFromUrl,h9=Ut.getXfaPageViewport,d9=Ut.isDataScheme,f9=Ut.isPdfFile,p9=Ut.noContextMenu,m9=Ut.normalizeUnicode,g9=Ut.setLayerDimensions,v9=Ut.shadow,ID=Ut.version;const y9=Object.freeze(Object.defineProperty({__proto__:null,AbortException:NF,AnnotationEditorLayer:PF,AnnotationEditorParamsType:jF,AnnotationEditorType:FF,AnnotationEditorUIManager:UF,AnnotationLayer:DD,AnnotationMode:MD,ColorPicker:HF,DOMSVGFactory:zF,DrawLayer:BF,FeatureTest:VF,GlobalWorkerOptions:fx,ImageKind:qF,InvalidPDFException:GF,MissingPDFException:$F,OPS:XF,OutputScale:YF,PDFDataRangeTransport:WF,PDFDateString:KF,PDFWorker:QF,PasswordResponses:ZF,PermissionFlag:JF,PixelsPerInch:t9,RenderingCancelledException:e9,TextLayer:OD,UnexpectedResponseException:i9,Util:n9,VerbosityLevel:s9,XfaLayer:a9,build:r9,createValidAbsoluteUrl:o9,fetchData:l9,getDocument:LD,getFilenameFromUrl:c9,getPdfFilenameFromUrl:u9,getXfaPageViewport:h9,isDataScheme:d9,isPdfFile:f9,noContextMenu:p9,normalizeUnicode:m9,setLayerDimensions:g9,shadow:v9,version:ID},Symbol.toStringTag,{value:"Module"}));var Ei=function(a,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return a.concat(o||Array.prototype.slice.call(t))},b9=["onCopy","onCut","onPaste"],A9=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],_9=["onFocus","onBlur"],w9=["onInput","onInvalid","onReset","onSubmit"],x9=["onLoad","onError"],E9=["onKeyDown","onKeyPress","onKeyUp"],S9=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],T9=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],C9=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],R9=["onSelect"],k9=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],D9=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],M9=["onScroll"],O9=["onWheel"],L9=["onAnimationStart","onAnimationEnd","onAnimationIteration"],I9=["onTransitionEnd"],N9=["onToggle"],P9=["onChange"],j9=Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei(Ei([],b9,!0),A9,!0),_9,!0),w9,!0),x9,!0),E9,!0),S9,!0),T9,!0),C9,!0),R9,!0),k9,!0),D9,!0),M9,!0),O9,!0),L9,!0),I9,!0),P9,!0),N9,!0);function ND(a,t){var e={};return j9.forEach(function(i){var r=a[i];r&&(t?e[i]=function(o){return r(o,t(i))}:e[i]=r)}),e}function Km(a){var t=!1,e=new Promise(function(i,r){a.then(function(o){return!t&&i(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function PD(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=PD(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function o0(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=PD(a))&&(i&&(i+=" "),i+=t);return i}var F9="Invariant failed";function Se(a,t){if(!a)throw new Error(F9)}var HA,pC;function U9(){if(pC)return HA;pC=1;var a=function(){};return HA=a,HA}var H9=U9();const Yi=By(H9);var mC=Object.prototype.hasOwnProperty;function gC(a,t,e){for(e of a.keys())if(kh(e,t))return e}function kh(a,t){var e,i,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((i=a.length)===t.length)for(;i--&&kh(a[i],t[i]););return i===-1}if(e===Set){if(a.size!==t.size)return!1;for(i of a)if(r=i,r&&typeof r=="object"&&(r=gC(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(i of a)if(r=i[0],r&&typeof r=="object"&&(r=gC(t,r),!r)||!kh(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((i=a.byteLength)===t.byteLength)for(;i--&&a.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(a)){if((i=a.byteLength)===t.byteLength)for(;i--&&a[i]===t[i];);return i===-1}if(!e||typeof a=="object"){i=0;for(e in a)if(mC.call(a,e)&&++i&&!mC.call(t,e)||!(e in t)||!kh(a[e],t[e]))return!1;return Object.keys(t).length===i}}return a!==a&&t!==t}const jD=H.createContext(null);function Dh({children:a,type:t}){return q.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const z9="noopener noreferrer nofollow";class B9{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Se(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Se(this.pdfDocument),Se(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Se(Array.isArray(e));const i=e[0];new Promise(r=>{Se(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{r(o)}).catch(()=>{Se(!1)}):typeof i=="number"?r(i):Se(!1)}).then(r=>{const o=r+1;Se(this.pdfViewer),Se(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Se(this.pdfViewer),Se(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||z9,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const vC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},l0=typeof window<"u",FD=l0&&window.location.protocol==="file:";function V9(a){return typeof a<"u"}function ac(a){return V9(a)&&a!==null}function q9(a){return typeof a=="string"}function G9(a){return a instanceof ArrayBuffer}function $9(a){return Se(l0),a instanceof Blob}function ww(a){return q9(a)&&/^data:/.test(a)}function yC(a){Se(ww(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function X9(){return l0&&window.devicePixelRatio||1}const UD="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function bC(){Yi(!FD,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${UD}`)}function Y9(){Yi(!FD,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${UD}`)}function yu(a){a!=null&&a.cancel&&a.cancel()}function xw(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function W9(a){return a.name==="RenderingCancelledException"}function K9(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(a)})}function Q9(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function Od(){return H.useReducer(Q9,{value:void 0,error:void 0})}var Z9=function(a,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(v){try{m(i.next(v))}catch(b){c(b)}}function d(v){try{m(i.throw(v))}catch(b){c(b)}}function m(v){v.done?o(v.value):r(v.value).then(h,d)}m((i=i.apply(a,t||[])).next())})},AC=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const{PDFDataRangeTransport:J9}=y9,t7=(a,t)=>{switch(t){case vC.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case vC.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function _C(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const e7=H.forwardRef(function(t,e){var{children:i,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:d,inputRef:m,imageResourcesPath:v,loading:b="Loading PDF…",noData:A="No PDF file specified.",onItemClick:w,onLoadError:E,onLoadProgress:C,onLoadSuccess:I,onPassword:k=t7,onSourceError:z,onSourceSuccess:V,options:X,renderMode:K,rotate:Z}=t,P=AC(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[M,D]=Od(),{value:j,error:U}=M,[$,F]=Od(),{value:mt,error:bt}=$,at=H.useRef(new B9),ot=H.useRef([]),lt=H.useRef(void 0),dt=H.useRef(void 0);d&&d!==lt.current&&_C(d)&&(Yi(!kh(d,lt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),lt.current=d),X&&X!==dt.current&&(Yi(!kh(X,dt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),dt.current=X);const G=H.useRef({scrollPageIntoView:Ht=>{const{dest:se,pageNumber:ve,pageIndex:le=ve-1}=Ht;if(w){w({dest:se,pageIndex:le,pageNumber:ve});return}const ri=ot.current[le];if(ri){ri.scrollIntoView();return}Yi(!1,`An internal link leading to page ${ve} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});H.useImperativeHandle(e,()=>({linkService:at,pages:ot,viewer:G}),[]);function nt(){V&&V()}function ft(){U&&(Yi(!1,U.toString()),z&&z(U))}function ht(){D({type:"RESET"})}H.useEffect(ht,[d,D]);const pt=H.useCallback(()=>Z9(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return ww(d)?{data:yC(d)}:(bC(),{url:d});if(d instanceof J9)return{range:d};if(G9(d))return{data:d};if(l0&&$9(d))return{data:yield K9(d)};if(Se(typeof d=="object"),Se(_C(d)),"url"in d&&typeof d.url=="string"){if(ww(d.url)){const{url:Ht}=d,se=AC(d,["url"]),ve=yC(Ht);return Object.assign({data:ve},se)}bC()}return d}),[d]);H.useEffect(()=>{const Ht=Km(pt());return Ht.promise.then(se=>{D({type:"RESOLVE",value:se})}).catch(se=>{D({type:"REJECT",error:se})}),()=>{yu(Ht)}},[pt,D]),H.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){ft();return}nt()}},[j]);function Et(){mt&&(I&&I(mt),ot.current=new Array(mt.numPages),at.current.setDocument(mt))}function _t(){bt&&(Yi(!1,bt.toString()),E&&E(bt))}H.useEffect(function(){F({type:"RESET"})},[F,j]),H.useEffect(function(){if(!j)return;const se=X?Object.assign(Object.assign({},j),X):j,ve=LD(se);C&&(ve.onProgress=C),k&&(ve.onPassword=k);const le=ve,ri=le.promise.then(Fi=>{F({type:"RESOLVE",value:Fi})}).catch(Fi=>{le.destroyed||F({type:"REJECT",error:Fi})});return()=>{ri.finally(()=>le.destroy())}},[X,F,j]),H.useEffect(()=>{if(!(typeof mt>"u")){if(mt===!1){_t();return}Et()}},[mt]),H.useEffect(function(){at.current.setViewer(G.current),at.current.setExternalLinkRel(c),at.current.setExternalLinkTarget(h)},[c,h]);const St=H.useCallback((Ht,se)=>{ot.current[Ht]=se},[]),It=H.useCallback(Ht=>{delete ot.current[Ht]},[]),Kt=H.useMemo(()=>({imageResourcesPath:v,linkService:at.current,onItemClick:w,pdf:mt,registerPage:St,renderMode:K,rotate:Z,unregisterPage:It}),[v,w,mt,St,K,Z,It]),Tt=H.useMemo(()=>ND(P,()=>mt),[P,mt]);function Te(){return q.jsx(jD.Provider,{value:Kt,children:i})}function Be(){return d?mt==null?q.jsx(Dh,{type:"loading",children:typeof b=="function"?b():b}):mt===!1?q.jsx(Dh,{type:"error",children:typeof o=="function"?o():o}):Te():q.jsx(Dh,{type:"no-data",children:typeof A=="function"?A():A})}return q.jsx("div",Object.assign({className:o0("react-pdf__Document",r),ref:m,style:{"--scale-factor":"1"}},Tt,{children:Be()}))});function HD(){return H.useContext(jD)}function zD(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){e.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const BD=H.createContext(null),VD={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},i7=/^H(\d+)$/;function n7(a){return a in VD}function c0(a){return"children"in a}function qD(a){return c0(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function s7(a){const t={};if(c0(a)){const{role:e}=a,i=e.match(i7);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(n7(e)){const r=VD[e];r&&(t.role=r)}}return t}function GD(a){const t={};if(c0(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),qD(a)){const[e]=a.children;if(e){const i=GD(e);return Object.assign(Object.assign({},t),i)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function a7(a){return a?Object.assign(Object.assign({},s7(a)),GD(a)):null}function $D({className:a,node:t}){const e=H.useMemo(()=>a7(t),[t]),i=H.useMemo(()=>!c0(t)||qD(t)?null:t.children.map((r,o)=>q.jsx($D,{node:r},o)),[t]);return q.jsx("span",Object.assign({className:a},e,{children:i}))}function u0(){return H.useContext(BD)}function r7(){const a=u0();Se(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[i,r]=Od(),{value:o,error:c}=i,{customTextRenderer:h,page:d}=a;function m(){o&&e&&e(o)}function v(){c&&(Yi(!1,c.toString()),t&&t(c))}return H.useEffect(function(){r({type:"RESET"})},[r,d]),H.useEffect(function(){if(h||!d)return;const A=Km(d.getStructTree()),w=A;return A.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>yu(w)},[h,d,r]),H.useEffect(()=>{if(o!==void 0){if(o===!1){v();return}m()}},[o]),o?q.jsx($D,{className:"react-pdf__Page__structTree structTree",node:o}):null}const wC=MD;function o7(a){const t=u0();Se(t);const e=Object.assign(Object.assign({},t),a),{_className:i,canvasBackground:r,devicePixelRatio:o=X9(),onRenderError:c,onRenderSuccess:h,page:d,renderForms:m,renderTextLayer:v,rotate:b,scale:A}=e,{canvasRef:w}=a;Se(d);const E=H.useRef(null);function C(){d&&h&&h(xw(d,A))}function I(X){W9(X)||(Yi(!1,X.toString()),c&&c(X))}const k=H.useMemo(()=>d.getViewport({scale:A*o,rotation:b}),[o,d,b,A]),z=H.useMemo(()=>d.getViewport({scale:A,rotation:b}),[d,b,A]);H.useEffect(function(){if(!d)return;d.cleanup();const{current:K}=E;if(!K)return;K.width=k.width,K.height=k.height,K.style.width=`${Math.floor(z.width)}px`,K.style.height=`${Math.floor(z.height)}px`,K.style.visibility="hidden";const Z={annotationMode:m?wC.ENABLE_FORMS:wC.ENABLE,canvasContext:K.getContext("2d",{alpha:!1}),viewport:k};r&&(Z.background=r);const P=d.render(Z),M=P;return P.promise.then(()=>{K.style.visibility="",C()}).catch(I),()=>yu(M)},[r,d,m,k,z]);const V=H.useCallback(()=>{const{current:X}=E;X&&(X.width=0,X.height=0)},[]);return H.useEffect(()=>V,[V]),q.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:zD(w,E),style:{display:"block",userSelect:"none"},children:v?q.jsx(r7,{}):null})}function l7(a){return"str"in a}function c7(){const a=u0();Se(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:h,pageNumber:d,rotate:m,scale:v}=a;Se(c);const[b,A]=Od(),{value:w,error:E}=b,C=H.useRef(null);Yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function I(){w&&i&&i(w)}function k(){E&&(Yi(!1,E.toString()),e&&e(E))}H.useEffect(function(){A({type:"RESET"})},[c,A]),H.useEffect(function(){if(!c)return;const M=Km(c.getTextContent()),D=M;return M.promise.then(j=>{A({type:"RESOLVE",value:j})}).catch(j=>{A({type:"REJECT",error:j})}),()=>yu(D)},[c,A]),H.useEffect(()=>{if(w!==void 0){if(w===!1){k();return}I()}},[w]);const z=H.useCallback(()=>{o&&o()},[o]),V=H.useCallback(P=>{Yi(!1,P.toString()),r&&r(P)},[r]);function X(){const P=C.current;P&&P.classList.add("selecting")}function K(){const P=C.current;P&&P.classList.remove("selecting")}const Z=H.useMemo(()=>c.getViewport({scale:v,rotation:m}),[c,m,v]);return H.useLayoutEffect(function(){if(!c||!w)return;const{current:M}=C;if(!M)return;M.innerHTML="";const D=c.streamTextContent({includeMarkedContent:!0}),j={container:M,textContentSource:D,viewport:Z},U=new OD(j),$=U;return U.render().then(()=>{const F=document.createElement("div");F.className="endOfContent",M.append(F);const mt=M.querySelectorAll('[role="presentation"]');if(t){let bt=0;w.items.forEach((at,ot)=>{if(!l7(at))return;const lt=mt[bt];if(!lt)return;const dt=t(Object.assign({pageIndex:h,pageNumber:d,itemIndex:ot},at));lt.innerHTML=dt,bt+=at.str&&at.hasEOL?2:1})}z()}).catch(V),()=>yu($)},[t,V,z,c,h,d,w,Z]),q.jsx("div",{className:o0("react-pdf__Page__textContent","textLayer"),onMouseUp:K,onMouseDown:X,ref:C})}function u7(){const a=HD(),t=u0();Se(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:m,pdf:v,renderForms:b,rotate:A,scale:w=1}=e;Se(v),Se(m),Se(r);const[E,C]=Od(),{value:I,error:k}=E,z=H.useRef(null);Yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function V(){I&&c&&c(I)}function X(){k&&(Yi(!1,k.toString()),o&&o(k))}H.useEffect(function(){C({type:"RESET"})},[C,m]),H.useEffect(function(){if(!m)return;const D=Km(m.getAnnotations()),j=D;return D.promise.then(U=>{C({type:"RESOLVE",value:U})}).catch(U=>{C({type:"REJECT",error:U})}),()=>{yu(j)}},[C,m]),H.useEffect(()=>{if(I!==void 0){if(I===!1){X();return}V()}},[I]);function K(){d&&d()}function Z(M){Yi(!1,`${M}`),h&&h(M)}const P=H.useMemo(()=>m.getViewport({scale:w,rotation:A}),[m,A,w]);return H.useEffect(function(){if(!v||!m||!r||!I)return;const{current:D}=z;if(!D)return;const j=P.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:m,structTreeLayer:null,viewport:j},$={annotations:I,annotationStorage:v.annotationStorage,div:D,imageResourcesPath:i,linkService:r,page:m,renderForms:b,viewport:j};D.innerHTML="";try{new DD(U).render($),K()}catch(F){Z(F)}return()=>{}},[I,i,r,m,v,b,P]),q.jsx("div",{className:o0("react-pdf__Page__annotations","annotationLayer"),ref:z})}var h7=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const xC=1;function d7(a){const t=HD(),e=Object.assign(Object.assign({},t),a),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:h,className:d,customRenderer:m,customTextRenderer:v,devicePixelRatio:b,error:A="Failed to load the page.",height:w,inputRef:E,loading:C="Loading page…",noData:I="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:z,onGetStructTreeError:V,onGetStructTreeSuccess:X,onGetTextError:K,onGetTextSuccess:Z,onLoadError:P,onLoadSuccess:M,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:j,onRenderError:U,onRenderSuccess:$,onRenderTextLayerError:F,onRenderTextLayerSuccess:mt,pageIndex:bt,pageNumber:at,pdf:ot,registerPage:lt,renderAnnotationLayer:dt=!0,renderForms:G=!1,renderMode:nt="canvas",renderTextLayer:ft=!0,rotate:ht,scale:pt=xC,unregisterPage:Et,width:_t}=e,St=h7(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[It,Kt]=Od(),{value:Tt,error:Te}=It,Be=H.useRef(null);Se(ot);const Ht=ac(at)?at-1:bt??null,se=at??(ac(bt)?bt+1:null),ve=ht??(Tt?Tt.rotate:null),le=H.useMemo(()=>{if(!Tt)return null;let jt=1;const ye=pt??xC;if(_t||w){const Ki=Tt.getViewport({scale:1,rotation:ve});_t?jt=_t/Ki.width:w&&(jt=w/Ki.height)}return ye*jt},[w,Tt,ve,pt,_t]);H.useEffect(function(){return()=>{ac(Ht)&&r&&Et&&Et(Ht)}},[r,ot,Ht,Et]);function ri(){if(M){if(!Tt||!le)return;M(xw(Tt,le))}if(r&&lt){if(!ac(Ht)||!Be.current)return;lt(Ht,Be.current)}}function Fi(){Te&&(Yi(!1,Te.toString()),P&&P(Te))}H.useEffect(function(){Kt({type:"RESET"})},[Kt,ot,Ht]),H.useEffect(function(){if(!ot||!se)return;const ye=Km(ot.getPage(se)),Ki=ye;return ye.promise.then(Ui=>{Kt({type:"RESOLVE",value:Ui})}).catch(Ui=>{Kt({type:"REJECT",error:Ui})}),()=>yu(Ki)},[Kt,ot,se]),H.useEffect(()=>{if(Tt!==void 0){if(Tt===!1){Fi();return}ri()}},[Tt,le]);const Tn=H.useMemo(()=>Tt&&ac(Ht)&&se&&ac(ve)&&ac(le)?{_className:i,canvasBackground:o,customTextRenderer:v,devicePixelRatio:b,onGetAnnotationsError:k,onGetAnnotationsSuccess:z,onGetStructTreeError:V,onGetStructTreeSuccess:X,onGetTextError:K,onGetTextSuccess:Z,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:j,onRenderError:U,onRenderSuccess:$,onRenderTextLayerError:F,onRenderTextLayerSuccess:mt,page:Tt,pageIndex:Ht,pageNumber:se,renderForms:G,renderTextLayer:ft,rotate:ve,scale:le}:null,[i,o,v,b,k,z,V,X,K,Z,D,j,U,$,F,mt,Tt,Ht,se,G,ft,ve,le]),un=H.useMemo(()=>ND(St,()=>Tt&&(le?xw(Tt,le):void 0)),[St,Tt,le]),Cn=`${Ht}@${le}/${ve}`;function Cl(){switch(nt){case"custom":return Se(m),q.jsx(m,{},`${Cn}_custom`);case"none":return null;case"canvas":default:return q.jsx(o7,{canvasRef:c},`${Cn}_canvas`)}}function Pa(){return ft?q.jsx(c7,{},`${Cn}_text`):null}function gt(){return dt?q.jsx(u7,{},`${Cn}_annotations`):null}function Dt(){return q.jsxs(BD.Provider,{value:Tn,children:[Cl(),Pa(),gt(),h]})}function zt(){return se?ot===null||Tt===void 0||Tt===null?q.jsx(Dh,{type:"loading",children:typeof C=="function"?C():C}):ot===!1||Tt===!1?q.jsx(Dh,{type:"error",children:typeof A=="function"?A():A}):Dt():q.jsx(Dh,{type:"no-data",children:typeof I=="function"?I():I})}return q.jsx("div",Object.assign({className:o0(i,d),"data-page-number":se,ref:zD(E,Be),style:{"--scale-factor":`${le}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},un,{children:zt()}))}Y9();fx.workerSrc="pdf.worker.mjs";fx.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${ID}/pdf.worker.min.mjs`;const f7={cMapUrl:"cmaps/",cMapPacked:!0},p7=({file:a})=>{const[t,e]=H.useState(null),i=H.useRef(null),[r,o]=H.useState(0);H.useEffect(()=>{function h(){i.current&&o(i.current.offsetWidth)}return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const c=({numPages:h})=>{e(h)};return q.jsx("div",{className:"relative w-full pt-[56.25%] overflow-hidden rounded-t-xl bg-white",children:q.jsx("div",{className:"absolute right-0 top-0 left-0 h-full",ref:i,children:q.jsx(e7,{file:a,onLoadSuccess:c,renderMode:"canvas",options:f7,children:Array.from(new Array(t),(h,d)=>q.jsx(d7,{pageNumber:d+1,renderAnnotationLayer:!1,renderTextLayer:!1,width:r},`page_${d+1}`))})})})},m7=async(a,t)=>new Promise(e=>{setTimeout(()=>{e({feedback:"With respect, your resume is shit."})},300)});function g7(){H.useRef(null),H.useRef([]),H.useRef(null),H.useRef();const[a,t]=H.useState(""),[e,i]=H.useState(null),[r,o]=H.useState(null);H.useRef(null);const[c,h]=H.useState(!1),[d,m]=H.useState(""),[v,b]=H.useState(null),[A,w]=H.useState(""),[E,C]=H.useState(!1),I=H.useCallback(dt=>{},[]),{getRootProps:k,getInputProps:z,isDragActive:V}=SR({onDrop:I}),[X,K]=H.useState(!0),[Z,P]=H.useState([]),[M,D]=H.useState(null),[j,U]=H.useState(""),{currentUser:$}=J2(),F=async(dt=!1)=>{if(dt){const ft=document.querySelector("#chatInput");ft&&(ot({content:ft.value,fromUser:!0}),ft.value="")}C(!0);var G=at();G.pop(0),G=JSON.stringify(G);const nt=await m7();console.log(nt),ot({content:nt.feedback,fromUser:!1}),C(!1)},mt=dt=>dt<1024?`${dt} bytes`:dt<1048576?`${(dt/1024).toFixed(2)} KB`:`${(dt/1048576).toFixed(2)} MB`,bt=dt=>{const G=dt;if(G){const nt=atob(G.split(",")[1]),ft=[];for(let pt=0;pt<nt.length;pt+=1024){const Et=nt.slice(pt,pt+1024),_t=new Array(Et.length);for(let St=0;St<Et.length;St++)_t[St]=Et.charCodeAt(St);ft.push(new Uint8Array(_t))}return new Blob(ft,{type:"application/pdf"})}else alert("No file stored in localStorage")},at=()=>JSON.parse(localStorage.getItem("messages")),ot=dt=>{let G=at();G===null&&(G=[]),G.push(dt),localStorage.setItem("messages",JSON.stringify(G)),P(G)};H.useEffect(()=>{P(at())},[]);const lt=()=>{K(dt=>!dt)};return q.jsxs("div",{className:"w-svw h-svh flex flex-col",children:[q.jsxs("section",{className:"py-6 px-8 flex items-center justify-start",children:[q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"size-6 cursor-pointer",onClick:lt,children:q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),q.jsx("h1",{className:"text-xl ml-4 md:hidden",onClick:()=>{localStorage.getItem("messages")===null?localStorage.setItem("messages",JSON.stringify([{content:"I'm good, how are you?",fromUser:!0,type:"pdf"},{content:"I'm good, how are you?",fromUser:!0},{content:"I'm good, how are you?",fromUser:!1},{content:"I'm good, how are you?",fromUser:!0},{content:"I'm good, how are you?",fromUser:!1},{content:"I'm good, how are you?",fromUser:!0},{content:"I'm good, how are you?",fromUser:!1},{content:"I'm good, how are you?",fromUser:!0},{content:"I'm good, how are you?",fromUser:!1},{content:"I'm good, how are you?",fromUser:!0}])):localStorage.removeItem("messages")},children:"Chats"}),q.jsx("a",{className:"ml-auto cursor-pointer",onClick:()=>{DP(Gw)},children:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-6 cursor-pointer",children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}),q.jsx("nav",{className:`bg-white fixed inset-0 right-[15%] max-w-[24rem] transition-all z-10 ${X?"translate-x-[-100%]":""}`,children:q.jsxs("div",{className:"py-6 px-8 [&>*:not(:last-child)]:mb-4 h-full flex flex-col",children:[q.jsxs("div",{className:"w-full flex items-center justify-between",children:[q.jsx(Jw,{}),q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"size-6 cursor-pointer",onClick:lt,children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})})]}),q.jsx("div",{className:"bg-[#f3f3f7] px-6 py-5 rounded-2xl flex flex-col gap-3",children:[{name:"New resume analysis",icon:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})},{name:"New interview analysis",icon:q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})})}].map((dt,G)=>q.jsxs(q.Fragment,{children:[G!==0&&q.jsx("hr",{className:"h-px bg-gray-200 border-0 dark:bg-gray-300"}),q.jsx("a",{href:"https://github.com",target:"_blank",children:q.jsxs("div",{className:"flex items-center justify-start gap-2",children:[dt.icon,dt.name]})})]}))}),q.jsx("div",{className:"bg-[#f3f3f7] px-8 py-8 rounded-2xl grow",children:q.jsx("p",{className:"italic text-gray-400 text-center",children:"No items to show"})})]})})]}),Z!==null?q.jsxs("div",{className:"w-full h-full px-4",children:[q.jsxs("div",{className:"w-full h-full max-w-240 mx-auto -my-4",children:[Z.map(dt=>dt.type==="pdf"?q.jsxs("div",{className:"max-w-[75%] my-4 rounded-xl ml-auto bg-[#070036] text-white",children:[bt(dt.content)&&q.jsx(p7,{file:dt.content}),q.jsxs("div",{className:"p-4",children:[q.jsx("h1",{className:"text-xl",children:dt.name}),q.jsxs("p",{className:"text-[#aaa] text-sm",children:["Size: ",mt(bt(dt.content).size)]})]})]}):q.jsx("div",{className:`max-w-[75%] w-fit p-4 my-4 rounded-xl font-medium ${dt.fromUser?"ml-auto bg-[#070036] text-white text-right":"mr-auto bg-white text-black text-right"}`,children:dt.content})),E&&q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",className:"size-16 bg-white p-4 rounded-xl",children:[q.jsx("circle",{fill:"#070036",stroke:"#070036","stroke-width":"12",r:"15",cx:"40",cy:"100",children:q.jsx("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.4"})}),q.jsx("circle",{fill:"#070036",stroke:"#070036","stroke-width":"12",r:"15",cx:"100",cy:"100",children:q.jsx("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"-.2"})}),q.jsx("circle",{fill:"#070036",stroke:"#070036","stroke-width":"12",r:"15",cx:"160",cy:"100",children:q.jsx("animate",{attributeName:"opacity",calcMode:"spline",dur:"2",values:"1;0;1;",keySplines:".5 0 .5 1;.5 0 .5 1",repeatCount:"indefinite",begin:"0"})})]}),q.jsx("div",{className:"h-20"})]}),q.jsxs("div",{className:"inline-flex justify-center items-center rounded-2xl bg-white mx-4 px-6 py-4 max-w-240 fixed bottom-4 left-[50%] translate-x-[calc(-50%-1rem)] w-[calc(100vw-4rem)]",children:[q.jsx("input",{id:"chatInput",type:"text",onKeyDown:dt=>{dt.key==="Enter"&&F(!0)},className:"grow focus-visible:outline-none",placeholder:"Type a message",onChange:dt=>{w(dt.target.value)}}),q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",onClick:()=>{F(!0)},stroke:A===""?"gray":"black",className:`size-6 ${A!==""&&"cursor-pointer"}`,children:q.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})})]})]}):q.jsx(q.Fragment,{children:q.jsx(Zy,{onDrop:dt=>{console.log(dt),b(dt[0])},children:({getRootProps:dt,getInputProps:G})=>q.jsxs("section",{className:"grow flex flex-col items-center justify-center p-4",children:[q.jsxs("div",{...dt(),className:"border-black border-dashed border-2 flex items-center justify-center flex-col px-8 py-12 rounded-2xl bg-[#070036]/5 w-full max-w-144 cursor-pointer",children:[q.jsx("input",{...G({accept:"application/pdf",multiple:!1})}),q.jsxs("svg",{width:"114",height:"123",viewBox:"0 0 114 123",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-30 mb-12",children:[q.jsxs("g",{"clip-path":"url(#clip0_69_11)",children:[q.jsx("rect",{x:"65",y:"76",width:"40",height:"37",fill:"white"}),q.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M65.59 67.32H104.41C106.895 67.3279 109.277 68.3187 111.034 70.0761C112.791 71.8335 113.782 74.2147 113.79 76.7V113.49C113.785 115.977 112.795 118.361 111.037 120.12C109.28 121.88 106.897 122.872 104.41 122.88H65.59C63.103 122.872 60.7202 121.88 58.9626 120.12C57.2049 118.361 56.2153 115.977 56.21 113.49V76.7C56.2179 74.2147 57.2087 71.8335 58.9661 70.0761C60.7235 68.3187 63.1047 67.3279 65.59 67.32ZM60 11.56L79.73 30.07H60V11.56ZM20.87 54C20.3111 54.0361 19.7887 54.2898 19.4148 54.7067C19.0409 55.1236 18.8453 55.6705 18.87 56.23C18.84 56.7908 19.0338 57.3406 19.4087 57.7587C19.7837 58.1768 20.3092 58.429 20.87 58.46H59.65C60.2089 58.4239 60.7313 58.1702 61.1052 57.7533C61.4791 57.3364 61.6747 56.7895 61.65 56.23C61.6676 55.9517 61.6295 55.6727 61.5381 55.4093C61.4467 55.1459 61.3037 54.9033 61.1175 54.6957C60.9313 54.4881 60.7057 54.3197 60.4537 54.2002C60.2018 54.0808 59.9286 54.0127 59.65 54H20.87ZM20.87 70C20.3111 70.0361 19.7887 70.2898 19.4148 70.7067C19.0409 71.1236 18.8453 71.6705 18.87 72.23C18.8538 72.5075 18.8929 72.7854 18.9849 73.0477C19.077 73.3099 19.2202 73.5513 19.4062 73.7578C19.5923 73.9643 19.8174 74.1318 20.0687 74.2507C20.32 74.3695 20.5923 74.4372 20.87 74.45H45.67V70H20.87ZM20.87 86C20.3111 86.0361 19.7887 86.2898 19.4148 86.7067C19.0409 87.1236 18.8453 87.6705 18.87 88.23C18.8524 88.5083 18.8905 88.7873 18.9819 89.0507C19.0733 89.3141 19.2163 89.5567 19.4025 89.7643C19.5887 89.9719 19.8143 90.1403 20.0663 90.2598C20.3182 90.3792 20.5915 90.4473 20.87 90.46H45.67V85.91L20.87 86ZM20.87 38.11C20.3111 38.1461 19.7887 38.3998 19.4148 38.8167C19.0409 39.2336 18.8453 39.7805 18.87 40.34C18.8538 40.618 18.8928 40.8964 18.9847 41.1593C19.0767 41.4221 19.2197 41.6642 19.4056 41.8715C19.5915 42.0788 19.8167 42.2472 20.068 42.3671C20.3193 42.487 20.5919 42.556 20.87 42.57H43.81C44.3689 42.5339 44.8913 42.2802 45.2652 41.8633C45.6391 41.4464 45.8347 40.8995 45.81 40.34C45.8262 40.062 45.7872 39.7836 45.6953 39.5207C45.6033 39.2579 45.4603 39.0158 45.2744 38.8085C45.0884 38.6012 44.8633 38.4328 44.612 38.3129C44.3607 38.193 44.0881 38.124 43.81 38.11H20.87ZM20.87 22.11C20.3111 22.1461 19.7887 22.3998 19.4148 22.8167C19.0409 23.2336 18.8453 23.7805 18.87 24.34C18.8524 24.6183 18.8905 24.8973 18.9819 25.1607C19.0733 25.4241 19.2163 25.6667 19.4025 25.8743C19.5887 26.0819 19.8143 26.2503 20.0663 26.3698C20.3182 26.4892 20.5915 26.5573 20.87 26.57H33.47C34.0289 26.5339 34.5513 26.2802 34.9252 25.8633C35.2991 25.4464 35.4947 24.8995 35.47 24.34C35.4862 24.062 35.4472 23.7836 35.3553 23.5207C35.2633 23.2579 35.1203 23.0158 34.9344 22.8085C34.7484 22.6012 34.5233 22.4328 34.272 22.3129C34.0207 22.193 33.7481 22.124 33.47 22.11H20.87ZM90.72 32.72C90.7229 32.003 90.4907 31.3049 90.0591 30.7323C89.6274 30.1598 89.0201 29.7445 88.33 29.55L59.23 1.21C58.9234 0.831987 58.5362 0.527195 58.0968 0.317861C57.6574 0.108527 57.1767 -6.73639e-05 56.69 3.13505e-08H5.91C4.34257 3.13505e-08 2.83934 0.622659 1.731 1.731C0.622659 2.83934 0 4.34257 0 5.91L0 107.12C0.00793018 108.682 0.634088 110.178 1.74157 111.28C2.84905 112.381 4.34775 113 5.91 113H45.76V106.4H6.61V6.57H53.37V33.36C53.3726 34.2388 53.7236 35.0807 54.3459 35.7011C54.9683 36.3216 55.8112 36.67 56.69 36.67H84.12V58.29H90.72V32.72ZM97.17 97.82C97.5695 97.8381 97.9672 97.7562 98.327 97.5815C98.6867 97.4069 98.9971 97.1451 99.23 96.82C100.31 95.2 98.83 93.6 97.81 92.47C94.9 89.28 88.32 83.47 86.89 81.81C86.6682 81.5291 86.3856 81.302 86.0634 81.146C85.7413 80.9899 85.388 80.9088 85.03 80.9088C84.672 80.9088 84.3187 80.9899 83.9966 81.146C83.6744 81.302 83.3918 81.5291 83.17 81.81C81.68 83.54 74.74 89.67 71.98 92.81C70.98 93.89 69.83 95.37 70.83 96.81C71.0651 97.1352 71.3773 97.3969 71.7387 97.5715C72.1 97.7461 72.4991 97.828 72.9 97.81H78.07V107.08C78.07 107.464 78.1459 107.845 78.2932 108.2C78.4406 108.555 78.6566 108.877 78.9288 109.148C79.201 109.42 79.5241 109.634 79.8795 109.781C80.2349 109.927 80.6157 110.001 81 110H89.1C89.8692 109.995 90.6053 109.686 91.1483 109.141C91.6913 108.596 91.9974 107.859 92 107.09V97.82H97.17Z",fill:"#070036"})]}),q.jsx("defs",{children:q.jsx("clipPath",{id:"clip0_69_11",children:q.jsx("rect",{width:"113.79",height:"122.88",fill:"white"})})})]}),v&&q.jsxs("p",{className:"font-regular text-[#666] text-sm text-center mb-4 -mt-4",children:["Selected file: ",v.name]}),q.jsx("h1",{className:"font-bold text-[#070036] text-4xl mb-2 text-center",children:"Drop your resume"}),q.jsx("p",{className:"font-regular text-[#666] text-lg text-center",children:"or click here to upload it directly"})]}),v!==null&&q.jsx("div",{className:"flex gap-8 mt-4",children:[{name:"Cancel",cln:"text-black border-black border-1 px-6 py-2 rounded-full cursor-pointer",onPress:()=>{b(null)}},{name:"Upload",cln:"bg-[#bcaeec] text-white font-semibold px-6 py-2 rounded-full cursor-pointer",onPress:()=>{const nt=new FileReader;nt.onloadend=()=>{console.log(nt.result);const ft={fromUser:!0,content:nt.result,type:"pdf",name:v.name};ot(ft),F()},nt.readAsDataURL(v)}}].map(nt=>q.jsx("button",{className:nt.cln,onClick:nt.onPress,children:nt.name}))})]})})})]})}function EC(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function v7(...a){return t=>{let e=!1;const i=a.map(r=>{const o=EC(r,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():EC(a[r],null)}}}}function y7(...a){return H.useCallback(v7(...a),a)}function b7(a){const t=A7(a),e=H.forwardRef((i,r)=>{const{children:o,...c}=i,h=H.Children.toArray(o),d=h.find(w7);if(d){const m=d.props.children,v=h.map(b=>b===d?H.Children.count(m)>1?H.Children.only(null):H.isValidElement(m)?m.props.children:null:b);return q.jsx(t,{...c,ref:r,children:H.isValidElement(m)?H.cloneElement(m,void 0,v):null})}return q.jsx(t,{...c,ref:r,children:o})});return e.displayName=`${a}.Slot`,e}function A7(a){const t=H.forwardRef((e,i)=>{const{children:r,...o}=e,c=H.isValidElement(r)?E7(r):void 0,h=y7(c,i);if(H.isValidElement(r)){const d=x7(o,r.props);return r.type!==H.Fragment&&(d.ref=h),H.cloneElement(r,d)}return H.Children.count(r)>1?H.Children.only(null):null});return t.displayName=`${a}.SlotClone`,t}var _7=Symbol("radix.slottable");function w7(a){return H.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===_7}function x7(a,t){const e={...t};for(const i in t){const r=a[i],o=t[i];/^on[A-Z]/.test(i)?r&&o?e[i]=(...h)=>{const d=o(...h);return r(...h),d}:r&&(e[i]=r):i==="style"?e[i]={...r,...o}:i==="className"&&(e[i]=[r,o].filter(Boolean).join(" "))}return{...a,...e}}function E7(a){var i,r;let t=(i=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=(r=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}H.forwardRef(({...a},t)=>(console.log(a),q.jsx("button",{className:`bg-[#bcaeec] text-black h-10 rounded-full px-8 ${a.className&&a.className}`,ref:t,...a})));const S7=H.forwardRef(({className:a,type:t,...e},i)=>q.jsx("input",{type:t,className:`flex h-9 w-full rounded-full border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm 
            ${a&&a}`,ref:i,...e}));S7.displayName="Input";CC();var T7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C7=T7.reduce((a,t)=>{const e=b7(`Primitive.${t}`),i=H.forwardRef((r,o)=>{const{asChild:c,...h}=r,d=c?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),q.jsx(d,{...h,ref:o})});return i.displayName=`Primitive.${t}`,{...a,[t]:i}},{}),R7="Label",XD=H.forwardRef((a,t)=>q.jsx(C7.label,{...a,ref:t,onMouseDown:e=>{var r;e.target.closest("button, input, select, textarea")||((r=a.onMouseDown)==null||r.call(a,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));XD.displayName=R7;var YD=XD;const Ew=H.forwardRef(({className:a,...t},e)=>q.jsx(YD,{ref:e,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${a&&a}`,...t}));Ew.displayName=YD.displayName;function k7(){const a=H.useRef(null);H.useRef(null);const[t,e]=H.useState(""),[i,r]=H.useState("");return q.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[q.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[q.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:q.jsx(Jw,{})}),q.jsx("div",{className:"flex flex-1 items-center justify-center",children:q.jsx("div",{className:"w-full max-w-xs",children:q.jsxs("form",{className:"flex flex-col gap-6",children:[q.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[q.jsx("h1",{className:"text-2xl font-bold",children:"Login to your account"}),q.jsx("p",{className:"text-balance text-sm text-muted-foreground",children:"Enter your email below to login to your account"})]}),q.jsxs("div",{className:"grid gap-6",children:[q.jsxs("div",{className:"grid gap-2",children:[q.jsx(Ew,{htmlFor:"email",children:"Email"}),q.jsx("input",{type:"email",placeholder:"example@mail.com",required:!0,className:"bg-white flex h-9 px-3 py-1 text-base rounded-xl outline-none md:text-sm",ref:a,onChange:o=>{e(o.target.value)}})]}),q.jsxs("div",{className:"grid gap-2",children:[q.jsx(Ew,{htmlFor:"password",children:"Password"}),q.jsx("input",{type:"password",placeholder:"Top secret password",required:!0,className:"bg-white flex h-9 px-3 py-1 text-base rounded-xl outline-none md:text-sm",ref:a,onChange:o=>{r(o.target.value)}})]}),q.jsx("button",{className:"bg-[#bcaeec] text-black h-10 rounded-full px-8 mt-4 cursor-pointer",type:"button",onClick:o=>{o.preventDefault(),O5("test@gmail.com","password")},children:"Login"})]}),q.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",q.jsx("a",{href:"#",className:"underline underline-offset-4",children:"Sign up"})]})]})})})]}),q.jsx("div",{className:"relative hidden lg:block",children:q.jsx("div",{className:"absolute left-[50%] top-[50%] -translate-1/2 object-cover bg-gray-500 w-[60%] h-[60%]"})})]})}function D7(){const a={audio:!0},t=void 0;let e,i;const r=H.useRef(),o=H.useRef(),[c,h]=H.useState("");function d(C){console.log("handleDataAvailable",C),C.data&&C.data.size>0&&i.push(C.data)}function m(C){r.current.src=null,r.current.srcObject=null,r.current.src=window.URL.createObjectURL(C),r.current.controls=!0}async function v(){i=[],await navigator.mediaDevices.getUserMedia(a).then(C=>{try{console.log(C),e=new MediaRecorder(C),console.log(e.state)}catch(I){console.error("Exception while creating MediaRecorder:",I);return}}),e.onstop=C=>{console.log("Recorder stopped: ",C),console.log("Recorded Blobs: ",i);const I=new Blob(i,{type:"audio/ogg;codecs=opus"});m(I)},e.ondataavailable=d,e.start(),console.log("MediaRecorder started",e.state)}function b(){e.stop(),console.log("MediaRecorder stopped",e.state)}function A(){const C=new Blob(i,{type:"audio/ogg;codecs=opus"});var I=new FormData;I.append("audio",C,"audio");const k=`${t}/feedback/audio`;fetch(k,{method:"POST",body:I}).then(z=>{if(z.ok)return z.json()}).then(z=>{h(z.feedback)})}function w(){console.log(o.current.files[0].name);var C=new FormData;C.append("audio",o.current.files[0],o.current.files[0].name);const I=`${t}/feedback/audio`;fetch(I,{method:"POST",body:C}).then(k=>{if(k.ok)return k.json()}).then(k=>{h(k.feedback)})}function E(){const C=new Blob(i,{type:"audio/ogg;codecs=opus"});var I=new FormData;I.append("vocal",C,"vocal");const k=`${t}/feedback/vocal`;fetch(k,{method:"POST",body:I}).then(z=>{if(z.ok)return z.json()}).then(z=>{h(z.feedback)})}return q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"container",children:[q.jsx("button",{onClick:()=>v(),children:"Start"}),q.jsx("button",{onClick:()=>b(),children:"Stop"}),q.jsx("input",{ref:o,type:"file"})]}),q.jsx("audio",{ref:r,controls:!0,id:"beep",children:"asasa"}),q.jsx("br",{}),q.jsx("button",{onClick:()=>A(),children:"Analyze"}),q.jsx("button",{onClick:()=>w(),children:"Analyze file input"}),q.jsx("button",{onClick:()=>E(),children:"Analyze Vocal"}),q.jsx("div",{children:c})]})}function M7(){const{currentUser:a,loading:t}=J2();return q.jsx(_5,{children:q.jsxs(Z4,{children:[q.jsx(fh,{path:"/auth",element:a?q.jsx(CA,{to:"/dashboard"}):q.jsx(k7,{})}),q.jsx(fh,{path:"/dashboard",element:a?q.jsx(g7,{}):q.jsx(CA,{to:"/auth"})}),q.jsx(fh,{path:"/testing",element:q.jsx(D7,{})}),q.jsx(fh,{path:"/",element:q.jsx(L5,{})}),q.jsx(fh,{path:"*",element:q.jsx(CA,{to:"/"})})]})})}DO.createRoot(document.getElementById("root")).render(q.jsx(l4,{children:q.jsx(M7,{})}));
